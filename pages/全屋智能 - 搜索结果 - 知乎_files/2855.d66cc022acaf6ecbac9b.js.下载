"use strict";(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[2855],{23447:function(e,n,t){var r=t(87320),o=t(55164),l=t(57477),i=t(71728),a=t(94009),c=t(85879),u=t(87363),s=t.n(u),f=t(36892),d=t(58338),p=function(e){var n=(0,u.useRef)(null);return n.current||(n.current=e()),n.current},g="@supports (-webkit-scroll-snap-coordinate: 0 0)",v=(0,u.forwardRef)(function(e,n){var t=e.current,v=e.gap,m=void 0===v?0:v,h=e.children,x=e.onScroll,b=e.onScrollEnd,S=e.onSnapChange,C=e.onScrollProgress,w=(0,i._)(e,["current","gap","children","onScroll","onScrollEnd","onSnapChange","onScrollProgress"]),y=(0,u.useRef)(null),Z=p(function(){return{getElement:function(){return y.current},getChildren:function(){var e;return null===(e=y.current)||void 0===e?void 0:e.children},getScrollPercent:function(){var e=Z.getElement();return e.scrollLeft/(e.scrollWidth-e.clientWidth)},getCurrentSnap:function(){var e=Z.getElement(),n=!1;return[Array.from(Z.getChildren()).findIndex(function(t){var r=e.scrollLeft-t.offsetLeft+(parseFloat(getComputedStyle(t).scrollMarginLeft)||0);if(r<t.offsetWidth/2){var o=Z.getScrollPercent();return n=0===o||1===o||0===r,!0}return!1}),n]},getCurrent:function(){return Z.getCurrentSnap()[0]},slideTo:function(e){var n,t=Z.getChildren()[e];null===(n=t.parentElement)||void 0===n||n.scrollTo({left:t.offsetLeft,behavior:"smooth"})},scrollTo:function(e){var n=Z.getElement(),t=Z.getChildren()[e];t&&(n.scrollLeft=t.offsetLeft)}}});(0,u.useImperativeHandle)(n,function(){return Z});var k=(0,u.useRef)(!0);(0,u.useEffect)(function(){"number"==typeof t&&(k.current?(k.current=!1,Z.scrollTo(t)):Z.slideTo(t))},[Z,t]);var L=[(0,r._)({flexShrink:0,boxSizing:"border-box",scrollSnapAlign:"start"},g,{WebkitScrollSnapCoordinate:"0 0"}),m>0&&{paddingLeft:m,"&:last-child":{paddingRight:m}}],_=(0,f.Z)(function(){var e=(0,a._)(Z.getCurrentSnap(),2),n=e[0],t=e[1];b&&b(n),S&&t&&S(n)},50),A=(0,d.Z)(function(){null==C||C(Z.getScrollPercent())},50,{leading:!1});return(0,c.tZ)("div",(0,l._)((0,o._)({css:(0,r._)({position:"relative",display:"flex",flexWrap:"nowrap",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory","&::-webkit-scrollbar":{display:"none"},WebkitOverflowScrolling:"touch"},g,{WebkitScrollSnapType:"mandatory"})},w),{ref:y,onScroll:function(e){x&&x(e),C&&A(),(b||S)&&_()},children:"function"==typeof h?h(L):s().Children.map(h,function(e){return(0,c.tZ)("div",{css:L,children:e},void 0)})}),void 0)});n.Z=v},21117:function(e,n,t){t.d(n,{Z:function(){return O}});var r,o=t(55164),l=t(71728),i=t(94009),a=t(85879),c=t(65733),u=t(33186),s=t(87363),f=t.n(s),d=t(54402),p=t(55340),g=t(15030),v=t(57477),m=t(50495),h=t(24405),x=t(7835),b=t(61533),S=t(16e3),C=t(37714),w=t(2765),y=t(80148),Z=t(97749),k={from:{opacity:0,transform:"translateY(-3px)"},enter:{opacity:1,transform:"translateY(0px)"},leave:{opacity:0,transform:"translateY(0px)"},config:function(e){return"enter"===e?{type:"spring",stiffness:320,damping:20}:{duration:.25}}},L={top:{marginTop:"-10px"},bottom:{marginTop:"10px"},left:{marginLeft:"-10px"},right:{marginLeft:"10px"}},_={padding:16},A=(r=0,function(e){return"".concat(e,"-").concat(++r)}),B=function(e){var n=e.target,t=e.container,r=e.placement,o=e.element;if(o&&n){var l=(0,g._)(n,HTMLElement)?n:(0,b.findDOMNode)(n),i=document.body;t&&(i=(0,g._)(t,HTMLElement)?t:(0,b.findDOMNode)(t));var a=(0,Z.Z)(l.getBoundingClientRect(),(0,w.Z)(_,i),o.getBoundingClientRect(),r);return a.targetContainerStyle.left+=window.pageXOffset,a.targetContainerStyle.top+=window.pageYOffset,a}},E=function(e,n){var t=e.target,r=e.container,l=e.placement,a=void 0===l?y.Z.BOTTOM:l,u=(0,i._)((0,s.useState)(a),2),f=u[0],d=u[1],p=(0,i._)((0,s.useState)({}),2),g=p[0],v=p[1],m=(0,c.Z)(function(){var e=B({target:t,container:r,placement:f,element:n.current});e&&(d(e.placement),v(e.targetContainerStyle))});return(0,s.useLayoutEffect)(function(){return m(),window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}},[m]),[(0,o._)({},g,L[f])]},T=f().forwardRef(function(e,n){var t,r=e.options,l=e.withCheckIcon,c=e.value,d=e.isScroll,p=e.isMobile,g=e.hiddenScrollBar,b=e.onChange,w=e.onClose,y=e.onChangeDefaultValue,Z=(0,u.bO)(),L=(0,h.F)(),_=(0,i._)(E(e,n),1)[0],B=null==r?void 0:r.findIndex(function(e){return(null==e?void 0:e.name)===c}),T=(t=(null==r?void 0:r.length)||0,(0,s.useMemo)(function(){return Array.from({length:t}).map(function(){return f().createRef()})},[t])),M=(0,i._)((0,s.useState)(B&&B>0?B:0),2),O=M[0],D=M[1],R=(0,i._)((0,s.useState)(function(){return A("menu")}),1)[0],P=function(){var e,n=null===(e=T[O])||void 0===e?void 0:e.current;n&&(n.focus({preventScroll:!0}),requestAnimationFrame(function(){n.scrollIntoView({block:"nearest"})}))},W=function(e,n){null!=e&&e.disabled||(D(n),null==y||y(e.name),null==b||b(e),null==w||w())};return(0,x.Z)(function(){p||P()}),(0,a.tZ)(m.d7.div,{ref:n,initial:"from",animate:"enter",exit:"leave",variants:(0,C.Z)(k),css:(0,v._)((0,o._)({position:"absolute",background:L.colors.GBK99C,borderRadius:"8px",zIndex:203,boxShadow:"0px 4px 50px rgba(0, 0, 0, 0.1)",maxHeight:284},d&&{overflowY:"scroll"},d&&g&&{"::-webkit-scrollbar":{display:"none"}}),{"&:focus":{border:"none",outline:"none"}}),role:"listbox","aria-activedescendant":"".concat(R,"_").concat(O),onKeyDown:function(e){"ArrowDown"===e.key?(e.preventDefault(),Z.focusNext({wrap:!0})):"ArrowUp"===e.key?(e.preventDefault(),Z.focusPrevious({wrap:!0})):"Escape"===e.key&&(e.stopPropagation(),e.preventDefault(),null==w||w())},style:_,children:Array.isArray(r)&&r.map(function(e,n){var t;return(n<5||d)&&(0,a.BX)("button",{role:"option",ref:T[n],id:"".concat(R,"-").concat(n),"aria-selected":n===O,"aria-label":"".concat(e.disabled?"已禁用":n===O?"已选中":"未选中","+").concat(e.name).concat(e.icon?"+图像":"").concat(l?"+带图标":""),disabled:e.disabled,css:{display:"flex",alignItems:"center",width:"100%",minWidth:"96px",padding:"16px 20px",border:"none",borderBottom:"0.5px solid ".concat(L.colors.GBK09B),cursor:"pointer",color:L.colors.GBK03A,fontSize:"14px",background:"transparent",whiteSpace:"nowrap","&:last-of-type":{borderBottom:0},"&:focus-visible":{boxShadow:L.isDarkMode?"0 0 0 2px #121212, 0 0 0 4px rgb(51 119 255 / 60%)":"0 0 0 2px #fff, 0 0 0 4px rgb(0 102 255 / 30%)",outline:"none"},"&:active":{color:l?L.colors.GBK03A:L.colors.GBL05A},"&[disabled]":{color:L.colors.GBK07A}},onClick:function(t){t.stopPropagation(),W(e,n)},children:[(0,a.tZ)("span",{css:{display:"inline-block",height:"24px",lineHeight:"24px"},children:null===(t=null==e?void 0:e.name)||void 0===t?void 0:t.slice(0,8)}),e.icon&&(0,a.tZ)("img",{alt:"",src:e.icon,css:{maxWidth:"100px",maxHeight:"24px",marginLeft:"12px"}}),l&&(0,a.tZ)(S.Y,{css:{marginLeft:"12px",opacity:n===O?1:0},color:(null==e?void 0:e.disabled)?L.colors.GBK07A:L.colors.GBK02A,size:"16px"})]},e.name+String(n))})},"popupMenuContent")}),M=function(e){var n=e.isOpen,t=e.target,r=e.onClose,f=e.onAfterLeave,g=e.defaultValue,v=(0,l._)(e,["isOpen","target","onClose","onAfterLeave","defaultValue"]),m=(0,d.Z)(n,t,!0,r),h=(0,i._)((0,s.useState)(g),2),x=h[0],b=h[1],S=(0,c.Z)(function(){null==f||f()}),C=(0,c.Z)(function(e){b(e)});return(0,a.tZ)(p.Z,{onExitComplete:S,children:n&&(0,a.tZ)(u.MT,{contain:!0,restoreFocus:!0,autoFocus:!0,children:(0,a.tZ)("div",{children:(0,a.tZ)(T,(0,o._)({ref:m,target:t,value:x,onChangeDefaultValue:C,onClose:r},v))})})})};M.defaultProps={isOpen:!1,options:[],defaultValue:"",withCheckIcon:!0,onClose:function(){return null},onAfterLeave:function(){return null},onChange:function(){return null},isScroll:!1,isMobile:!1,hiddenScrollBar:!1};var O=M}}]);
//# sourceMappingURL=2855.d66cc022acaf6ecbac9b.js.map