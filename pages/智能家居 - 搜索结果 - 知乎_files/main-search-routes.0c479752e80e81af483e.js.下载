"use strict";(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[101],{44765:function(e,t,n){n.d(t,{R_:function(){return u},fR:function(){return d},vM:function(){return s}});var i=n(87320),o=n(74135),r=n(28953);n(84054);var a=n(74351);n(80714);var c=n(4785),l=(0,n(39288).FH)("article",["GET","DELETE","UPDATE_COMMENT_PERMISSION","GET_COMMERCIAL_INFO","GET_UPVOTED_FOLLOWEES","TOGGLE_LIKE","LOAD_MARKET_ARTICLE_PAID_CONTENT","LOAD_POST_SEARCH_ENTITY"]),s=function(e){return function(t){return t({API:{endpoint:"v3/entity_word",query:{type:"article",token:e},types:l.LOAD_POST_SEARCH_ENTITY},FAILSAFE:!0,UPDATE:{success:function(t){return{articles:(0,i._)({},e,{entityWords:(null==t?void 0:t.searchWords)||[]})}},failure:function(t){return(0,a.isBrowser)()?window.Raven.captureException(t,{logger:"searchEntityError",extra:{id:e,type:"article"}}):console.error("searchEntityError",t,{id:e,type:"article"}),{}}}})}},d=function(e,t){return{articleId:e,columnId:t,API:{types:l.DELETE,endpoint:"/articles/".concat(e),method:"DELETE",fetchOptions:{credentials:"include"}},schema:r.l.ARTICLE}};function u(e,t){return function(n,r){var a=r().entities.articles[e];return n({API:{types:l.UPDATE_COMMENT_PERMISSION,endpoint:"/articles/".concat(e,"/comment_permission"),method:"PUT",body:(0,c.z)((0,o.decamelizeKeys)({commentPermission:t}))},UPDATE:{request:{articles:(0,i._)({},e,{commentPermission:t})},failure:{articles:(0,i._)({},e,a)}}})}}},57831:function(e,t,n){n.d(t,{Z:function(){return G}});var i=n(85879),o=n(87641),r=n(1733),a=n(46906),c=n(82038),l=n(27548),s=n(87363),d=n(20857),u=n(22107),h=n(94707),p=n(87320),m=n(86325),f=n(85626),v=n(25628),g=n.n(v),Z=n(47842),x=n(38889),y=n(45842),_=function(e){(0,m._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,u._)(this,n),e=t.apply(this,arguments),(0,p._)((0,d._)(e),"state",{logoutModalShown:!1}),(0,p._)((0,d._)(e),"handleLogoutModalShow",function(){e.setState({logoutModalShown:!0})}),(0,p._)((0,d._)(e),"handleLogoutModalHide",function(){e.setState({logoutModalShown:!1})}),(0,p._)((0,d._)(e),"handleClick",function(){var t=e.props.currentUser;t&&t.urlToken?e.handleLogoutModalShow():location.href="https://www.zhihu.com/org/signup"}),e}return(0,h._)(n,[{key:"render",value:function(){var e=this.state.logoutModalShown,t=this.props.className;return(0,i.BX)(s.Fragment,{children:[(0,i.tZ)(x.ZP,{className:g()("OrgCreateButton",t),onClick:this.handleClick,children:"申请开通机构号"}),e&&(0,i.BX)(Z.Z,{className:"OrgCreateButton-logoutModal",title:"开通提示",onClose:this.handleLogoutModalHide,children:[(0,i.tZ)("p",{children:"若想访问机构号注册页面，请您请先退出当前账号登录状态"}),(0,i.BX)(Z.w,{children:[(0,i.tZ)(x.ZP,{preset:"primary",color:"blue",onClick:function(){location.href="/logout?next=/org/signup"},children:"退出登录"}),(0,i.tZ)(x.ZP,{onClick:this.handleLogoutModalHide,children:"我再想想"})]})]})]})}}]),n}(s.Component),b=(0,y.Z)(_),w=n(55164),k=n(57477),S=n(87494),B=n(33186),I=function(e){var t=(0,B.Fx)(),n=t.isFocusVisible,r=t.focusProps;return(0,i.tZ)(o.Link,(0,w._)((0,k._)((0,w._)({},r),{color:"inherit",sx:function(e){return{":hover":{color:e.colors.GBL07A},outline:n?(0,S.k)(e):"none"}},rel:"noopener noreferrer",target:"_blank"}),e))},C=function(e){return(0,i.tZ)(o.Box,(0,w._)({lineHeight:1.7,color:"GBL05A"},e))},T=n(94009),z=n(3331),N=n(91850),A=n(79516),L=n(72761),E=function(e){var t=e.moreList,n=(0,A.Me)(),o=(0,B.Fx)(),r=o.isFocusVisible,a=o.focusProps,c=(0,s.useRef)(null),l=(0,T._)((0,N.Z)(),2),d=l[0],u=l[1];return(0,L.Z)(u.off),(0,i.BX)(i.HY,{children:[(0,i.tZ)("button",(0,k._)((0,w._)((0,k._)((0,w._)({},a),{"aria-haspopup":"true","aria-expanded":d}),d&&{"aria-controls":n}),{ref:c,onClick:u.on,onMouseEnter:u.on,onMouseLeave:u.off,css:function(e){return{border:"none",background:e.colors.GBK09A,padding:"5px 6px",fontSize:13,whiteSpace:"nowrap",lineHeight:"12px",borderRadius:"2px","&[class]":{outline:r?(0,S.k)(e):"none"},"&:hover":{backgroundColor:e.colorMod(e.colors.GBK08A).alpha(.8)}}},children:"更多"})),(0,i.tZ)(z.Z,{focusScope:!0,globalClose:!0,isOpen:d,target:c.current,onClose:u.off,placement:"bottom",onMouseEnter:u.on,onMouseLeave:u.off,children:(0,i.tZ)(C,{id:n,role:"dialog",css:function(e){return{padding:"10px 0",fontSize:"14px","> a":{display:"flex",padding:"8px 20px","&:hover":{backgroundColor:e.colors.GBK10A}}}},children:t.map(function(e){var t=e.link,n=e.txt;return(0,i.tZ)(I,{href:t,children:n},n)})})})]})},R=function(e){var t=e.data,n=t.icon,r=t.title,a=t.items,c=t.more;return(0,i.BX)(o.Box,{mb:"16px",children:[(0,i.BX)(o.Flex,{alignItems:"center",children:[n,"\xa0",(0,i.tZ)(o.Text,{color:"GBK03A",children:r})]}),(0,i.BX)(o.Flex,{alignItems:"center",flexWrap:"nowrap",children:[a.map(function(e){var t=e.link,n=e.txt;return"string"==typeof t?(0,i.tZ)(I,{href:t,css:{marginRight:10,whiteSpace:"nowrap"},children:n},n):t}),Array.isArray(c)&&(0,i.tZ)(E,{moreList:c})]})]})},M={title:"帮助中心",icon:(0,i.tZ)(a.Z,{size:"16"}),items:[{txt:"知乎隐私保护指引",link:"/term/privacy"},{txt:"申请开通机构号",link:(0,i.tZ)(b,{css:{marginRight:10,fontSize:13,whiteSpace:"nowrap"}},"OrgCreateButton")},{txt:"联系我们",link:"/contact"}]},F={title:"举报中心",icon:(0,i.tZ)(c.Z,{size:"16"}),items:[{txt:"涉未成年举报",link:"/term/child-jubao"},{txt:"网络谣言举报",link:"/term/net-report"},{txt:"涉企虚假举报",link:"/term/enterprise-fake-info"}],more:[{txt:"大运会专项举报",link:"/term/2023-fisu-report"},{txt:"侵权举报指引",link:"https://zhuanlan.zhihu.com/p/28852607"},{txt:"仿冒诈骗举报",link:"/term/counterfeit-swindle-report"},{txt:"MCN机构举报",link:"/term/mcn/report"},{txt:"中国互联网举报中心",link:"https://www.12377.cn/"},{txt:"网络传播秩序举报",link:"/term/cyber-communication-order"},{txt:"信息安全漏洞反馈",link:"/term/info-sec"},{txt:"互联网算法推荐举报",link:"/term/algorithm-recommend-report"},{txt:"盐选会员内容抄袭举报",link:"/fiore/h5/h5-infringement-complaints"},{txt:"从业人员违法违规行为举报",link:"/term/report-content-idustry"}]},H={title:"关于知乎",icon:(0,i.tZ)(l.Z,{size:"16"}),items:[{txt:"下载知乎",link:"https://www.zhihu.com/app/"},{txt:"知乎招聘",link:"https://app.mokahr.com/apply/zhihu/78336#/"},{txt:"知乎指南",link:"/question/19581624"},{txt:"知乎协议",link:"/term/zhihu-terms"}],more:[{txt:"刘看山",link:"https://liukanshan.zhihu.com/"},{txt:"证照中心",link:"/certificates"}]},X=function(){return" \xb7 "},j=function(){var e=new Date().getFullYear();return(0,i.BX)(i.HY,{children:[(0,i.tZ)("span",{children:"服务热线：400-919-0001"}),(0,i.tZ)(X,{}),(0,i.tZ)(I,{href:"//ir.zhihu.com",children:"Investor Relations"}),(0,i.tZ)(X,{}),(0,i.BX)("span",{children:[" \xa9 ",e," 知乎"]})," ",(0,i.tZ)("span",{children:"北京智者天下科技有限公司版权所有"}),(0,i.tZ)(X,{}),(0,i.tZ)("span",{children:"违法和不良信息举报：010-82716601"}),(0,i.tZ)(X,{}),(0,i.tZ)("a",{href:"mailto:jubao@zhihu.com",children:"举报邮箱：jubao@zhihu.com"})]})},P=[{link:"https://tsm.miit.gov.cn/dxxzsp/",txt:"京 ICP 证 110745 号"},{link:"https://beian.miit.gov.cn/",txt:"京 ICP 备 13052560 号 - 1"},{link:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=11010802020088",txt:"京公网安备 11010802020088 号"},{link:"https://www.zhihu.com/certificates",txt:"京网文[2022]2674-081 号"},{link:"https://pic3.zhimg.com/v2-c280f8bce57f9b045b83185384d86027.png",txt:"药品医疗器械网络信息服务备案（京）网药械信息备字（2022）第00334号"},{link:"https://www.zhihu.com/certificates",txt:"广播电视节目制作经营许可证:（京）字第06591号"}],q=function(){return(0,i.BX)(i.HY,{children:[(0,i.tZ)(R,{data:M}),(0,i.tZ)(R,{data:F}),(0,i.tZ)(R,{data:H})]})},U=function(){return(0,i.BX)("div",{css:function(e){return{marginTop:16,"& > a:hover":{color:e.colors.GBL07A}}},children:[P.map(function(e){var t=e.txt,n=e.link;return(0,i.BX)(s.Fragment,{children:[(0,i.tZ)("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:t}),(0,i.tZ)(X,{})]},t)}),(0,i.tZ)(j,{})]})},D=function(){return(0,i.tZ)("div",{css:{marginTop:10},children:(0,i.tZ)("img",{css:{verticalAlign:"bottom"},loading:"lazy",width:80,height:38,src:"https://pica.zhimg.com/80/v2-ccdb7828c12afff31a27e51593d23260_720w.png",alt:"本站提供适老化无障碍服务"})})},G=function(){return(0,i.BX)(o.Box,{as:"footer",role:"contentinfo",my:"10px",mt:"16px",color:"GBL05A",fontSize:"13px",lineHeight:2,children:[(0,i.tZ)(q,{}),(0,i.tZ)(r.R,{}),(0,i.tZ)(U,{}),(0,i.tZ)(D,{})]})}},53316:function(e,t,n){n.d(t,{D5:function(){return g},pl:function(){return y}});var i=n(55164),o=n(57477),r=n(71728),a=n(94009),c=n(85879),l=n(83697),s=n(71549),d=n.n(s),u=n(87363),h=n(87641),p=n(43384),m=n(87804),f=function(e,t){if(!t)return e;var n=(0,a._)(e.split("#"),2),i=n[0],o=n[1],r=i+(i.includes("?")?"&":"?")+t;return o?r+"#"+o:r},v=function(e,t){var n,i=function(){var n,i,o,r,a,c=null,l=null;t.WxMiniProgram?c=null===(i=window.wx)||void 0===i?void 0:null===(o=i.miniProgram)||void 0===o?void 0:o.navigateTo:t.JDMiniProgram&&(c=null===(r=window.jd)||void 0===r?void 0:null===(a=r.miniProgram)||void 0===a?void 0:a.navigateTo);var s=null===(n=/\/topic\/(\d+)/.exec(e))||void 0===n?void 0:n[1];if(s&&(t.WxMiniProgram?l="/pages/topic?id=".concat(s):t.JDMiniProgram&&(l="/pages/topic/index?id=".concat(s))),l){null==c||c({url:l});return}/^http(s)?:/.test(e)&&(location.href=e)};!t.WxMiniProgram||(null===(n=window.WeixinJSBridge)||void 0===n?void 0:n.invoke)?i():document.addEventListener("WeixinJSBridgeReady",i,!1)},g=function(e){return/^\w+:\/\//.test(e)||"undefined"==typeof window?e:/^\/\//.test(e)?location.protocol+e:location.origin+e},Z=function(e,t){var n=t.params,i=t.onRequestOpen,o=(0,l.n)();return function(t){var r=e.href,a=e.onClick;if(a&&a(t),!t.defaultPrevented){var c=f(g(r),n);if(o.ZhihuHybrid){t.preventDefault(),(0,m.Z)("base/openURL").dispatch({url:c});return}if(o.isMiniProgram){t.preventDefault(),v(c,o);return}(null==i?void 0:i({ua:o,url:c}))&&t.preventDefault()}}},x=function(e,t){var n=t.extra;return{zaType:"Button",zaAction:"OpenUrl",zaEventType:"Click",shouldTrackClick:!0,extra:d()({link:{get url(){return g(e)}}},n)}},y=(0,u.forwardRef)(function(e,t){var n=e.params,a=e.onRequestOpen,l=e.extra,s=(0,r._)(e,["params","onRequestOpen","extra"]);return(0,c.tZ)(p.KC,(0,o._)((0,i._)({as:h.Link},x(s.href,{extra:l}),s),{ref:t,onClick:Z(s,{params:n,onRequestOpen:a})}))});t.ZP=function(e){var t=e.params,n=e.onRequestOpen,a=e.children,c=e.extra,l=(0,r._)(e,["params","onRequestOpen","children","extra"]);return(0,u.cloneElement)(a,(0,p.qz)((0,o._)((0,i._)({},x(a.props.href,{extra:c}),l),{ref:a.ref,onClick:Z(a.props,{params:t,onRequestOpen:n})})))}},81488:function(e,t,n){var i=n(20857),o=n(22107),r=n(94707),a=n(87320),c=n(86325),l=n(55164),s=n(85626),d=n(85879),u=n(16836),h=n(92073),p=n(25628),m=n.n(p),f=n(14168),v=n.n(f),g=n(87363),Z=n.n(g),x=n(87641),y=n(88423),_=n(17132),b=n.n(_),w={top:10,left:20},k={top:0,left:0},S=function(e){(0,c._)(n,e);var t=(0,s._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,a._)((0,i._)(e),"scrollerRef",Z().createRef()),(0,a._)((0,i._)(e),"state",{transEnded:!1,rect:null,translate:null,scale:null}),(0,a._)((0,i._)(e),"getBoundingClientRect",function(){var t=e.props,n=t.img,i=t.data,o=n.getBoundingClientRect(),r=o.left,a=o.top,c=o.width,l=o.height,s=i.width,d=i.height,u={left:r,top:a,width:c,height:l},h=1;return s>d?(u.height=l,h=l/d,u.width=s*h,u.left=r+(c-u.width)/2,u.top=a+(l-u.height)/2):s<d&&(u.width=c,h=c/s,u.height=d*h,u.left=r+(c-u.width)/2,u.top=a+(l-u.height)/2),u}),(0,a._)((0,i._)(e),"handleClick",function(t){t.stopPropagation(),e.setState({translate:null,scale:null})}),(0,a._)((0,i._)(e),"handleKeyDown",function(t){"Escape"===t.key&&(t.stopPropagation(),t.preventDefault(),e.setState({translate:null,scale:null}))}),(0,a._)((0,i._)(e),"handleTransitionEnd",function(){var t=e.state,n=t.translate,i=t.scale,o=e.props.onClose;n&&i?(e.setState({transEnded:!0}),e.scrollerRef.current.style.overflow="auto"):o()}),e}return(0,r._)(n,[{key:"originalSrc",get:function(){return this.props.img.dataset.original}},{key:"currentSrc",get:function(){var e=this.props.img;return e.currentSrc||e.src}},{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.img,n=e.isOriginalUrl;this.originalSrc!==this.currentSrc&&(new Image().src=this.originalSrc),this.setState({rect:!1===n?this.getBoundingClientRect():t.getBoundingClientRect()})}},{key:"componentDidMount",value:function(){var e=this;(0,h.disableBodyScroll)(this.scrollerRef.current);var t=this.props.img;setTimeout(function(){return e.setState((0,l._)({},e.computeTransition(e.state.rect,{width:t.dataset.rawwidth||t.naturalWidth})))})}},{key:"componentWillUnmount",value:function(){(0,h.enableBodyScroll)(this.scrollerRef.current)}},{key:"computeTransition",value:function(e,t){var n,i=this.props,o=i.transitionType,r=i.data,a=b()(navigator.userAgent).Mobile?k:w,c=a.top,l=a.left,s={left:0,top:0,width:window.innerWidth,height:window.innerHeight},d={x:s.left+s.width/2,y:s.top+s.height/2},u={width:s.width-2*l,height:s.height-2*c},h={},p={};return 1===o?(h.width=u.width>r.width?r.width:u.width,n=h.width/r.width,h.height=r.height*n,p={x:(u.width-h.width)/2+l,y:h.height<u.height?(u.height-h.height)/2+c:w.top}):(h.width=u.width>t.width?t.width:u.width,n=h.width/e.width,h.height=e.height*n,p={x:d.x-e.width/2,y:(h.height<u.height?d.y:w.top+h.height/2)-e.height/2}),{translate:p,scale:n}}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.img,o=n.isOriginalUrl,r=n.data,a=n.transitionType,c=n.className,l=this.state,s=l.translate,h=l.scale,p=l.rect,f=l.transEnded,v=s&&h,g=1,Z="";if(1===a){var _=(b()(navigator.userAgent).Mobile?k:w).left;e=Math.min(window.innerWidth-2*_,r.width);var S=p.width/e;Z=v?"translate(".concat(s.x,"px, ").concat(s.y,"px) scale(1) "):"translate(".concat(p.left,"px, ").concat(p.top,"px) scale(").concat(S,") "),g=v?1:0}else Z=v?"translate(".concat(s.x,"px ,").concat(s.y,"px) scale(").concat(h,") "):"translate(".concat(p.left,"px,").concat(p.top,"px)");return(0,d.tZ)(u.Z,{children:(0,d.tZ)(x.Box,{className:m()("ImageView",c,{"is-active":v}),style:{paddingBottom:w.top},onClick:this.handleClick,onKeyDown:this.handleKeyDown,children:(0,d.tZ)("div",{className:"ImageView-inner",ref:this.scrollerRef,children:(0,d.tZ)("img",{ref:function(e){t.imgEl=e},src:!1===o?(0,y.imgUrl)(i.dataset.original,"r"):f&&this.originalSrc||this.currentSrc,className:m()("ImageView-img",{"ImageView-transformOrigin":1===a}),style:{width:e||p.width,transform:Z,opacity:g},onTransitionEnd:this.handleTransitionEnd,alt:"preview"})})})})}}]),n}(g.Component);(0,a._)(S,"propTypes",{img:v().object.isRequired,onClose:v().func.isRequired}),t.Z=S},44144:function(e,t,n){n.d(t,{Z:function(){return u}});var i=n(55164),o=n(57477),r=n(71728),a=n(94009),c=n(85879),l=n(87363),s=n(22715),d=n(83215),u=function(e){var t=e.tabIndex,n=e.children,u=(0,r._)(e,["tabIndex","children"]),h=(0,a._)((0,l.useState)(null),2),p=h[0],m=h[1];return(0,c.tZ)(s.HC,(0,o._)((0,i._)({tabIndex:void 0===t?0:t,onRef:m},u),{children:(0,c.tZ)(d.wi,{root:p,children:n})}))}},30226:function(e,t,n){n.d(t,{Z:function(){return g}});var i=n(22107),o=n(94707),r=n(87320),a=n(86325),c=n(55164),l=n(71728),s=n(85626),d=n(85879),u=n(87363),h=n(14168),p=n.n(h),m=n(22715),f=n(83215),v=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"render",value:function(){var e=this.props,t=e.containerClassName,n=e.selector,i=(0,l._)(e,["containerClassName","selector"]);return(0,d.tZ)(f.gx,{className:t,selector:n,children:(0,d.tZ)(m.ZP,(0,c._)({},i))})}}]),n}(u.Component);(0,r._)(v,"propTypes",{containerClassName:p().string,selector:p().string}),(0,r._)(v,"defaultProps",{selector:".List-item"});var g=v},74847:function(e,t,n){var i=n(55164),o=n(57477),r=n(71728),a=n(85879),c=n(71549),l=n.n(c),s=n(87363),d=n(86616),u=n(43384),h=n(53316),p=function(e,t){var n=t.extra;return{zaType:"Button",zaAction:"OpenUrl",zaEventType:"Click",shouldTrackClick:!0,extra:l()({link:{get url(){return(0,h.D5)(e)}}},n)}},m=(0,s.forwardRef)(function(e,t){var n=e.shouldTrackShow,c=e.zaText,l=e.zaType,s=e.zaModuleId,h=e.zaBlock,m=e.zaShowOptions,f=e.view,v=e.onClick,g=e.extra,Z=e.href,x=(0,r._)(e,["shouldTrackShow","zaText","zaType","zaModuleId","zaBlock","zaShowOptions","view","onClick","extra","href"]),y=(0,u.qz)((0,i._)({shouldTrackShow:n,zaText:c,zaBlock:h,zaShowOptions:m,view:f,ref:t,onClick:v},p(Z,{extra:g}),l&&{zaType:l},s&&{zaModuleId:s})),_=y.ref,b=y.onClick;return(0,a.tZ)(d.Link,(0,o._)((0,i._)({},x),{to:Z,innerRef:_,onClick:b}))});t.Z=m},94868:function(e,t,n){n.d(t,{Z:function(){return B}});var i=n(20857),o=n(22107),r=n(94707),a=n(87320),c=n(86325),l=n(85626),s=n(85879),d=n(14168),u=n.n(d),h=n(87363),p=n(25628),m=n.n(p),f=n(21060),v=n(10748),g=n(26113),Z=n(83215),x=n(41402),y=n(16836),_=n(66263),b=n(34390),w=function(e){return"calc(".concat(e,"px + 2em)")},k=function(){var e=(0,b.Z)();return(0,s.BX)(s.HY,{children:[(0,s.tZ)(x.xB,{styles:{html:{scrollPaddingTop:w(_.BR),scrollPaddingBottom:56}}}),e&&(0,s.tZ)(y.Z,{children:(0,s.tZ)("div",{id:"_scroll-padding-polyfill_",style:{position:"fixed",top:0,left:0,right:0,pointerEvents:"none",background:"transparent",height:w(_.BR+56)}})})]})},S=function(e){(0,c._)(n,e);var t=(0,l._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,a._)((0,i._)(e),"state",{enabled:!1,shown:!1}),(0,a._)((0,i._)(e),"handleScrollUp",function(){e.state.shown&&e.canToggle()&&e.setState({shown:!1})}),(0,a._)((0,i._)(e),"handleScrollDown",function(){!e.state.shown&&e.canToggle()&&e.setState({shown:!0})}),(0,a._)((0,i._)(e),"handlePositionStatusChange",function(t){e.canToggle()&&("normal"!==t?e.enable():e.disable())}),e}return(0,r._)(n,[{key:"canToggle",value:function(){return!this.props.prevent&&!(document.activeElement&&document.activeElement.closest(".SearchBar"))}},{key:"enable",value:function(){this.setState({enabled:!0,shown:!0})}},{key:"disable",value:function(){this.setState({enabled:!1,shown:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.offset,i=t.children,o=this.state,r=o.enabled,a=o.shown;return(0,s.BX)(h.Fragment,{children:[(0,s.tZ)(k,{}),(0,s.tZ)(Z.yW,{input:"/",action:function(){return e.setState({shown:!1})}}),(0,s.tZ)(f.Z,{offset:n,onPositionStatusChange:this.handlePositionStatusChange,children:(0,s.tZ)("div",{})}),r&&(0,s.tZ)(v.Z,{onScrollUp:this.handleScrollUp,onScrollDown:this.handleScrollDown}),(0,s.tZ)(g.Z.Inlet,{shown:a,children:(0,s.tZ)("div",{className:m()("PageHeader",{"is-shown":a}),children:i})})]})}}]),n}(h.Component);(0,a._)(S,"propTypes",{prevent:u().bool,offset:u().number}),(0,a._)(S,"defaultProps",{prevent:!1,offset:_.BR});var B=S},29431:function(e,t,n){n.d(t,{Z:function(){return b}});var i=n(55164),o=n(57477),r=n(71728),a=n(85879),c=n(87363),l=n(66263),s=n(94009),d=n(95951),u=n(17103),h=n(71833),p=n(69755),m=function(e){var t=e.scrollPaddingTop,n=void 0===t?10:t,i=e.scrollPaddingBottom,o=void 0===i?10:i,r=e.className,l=e.children,m=(0,s._)((0,d.Z)(),2),f=m[0],v=m[1],g=(0,c.useRef)(null),Z=(0,u.Z)(f,g),x=(0,c.useRef)(null),y=(0,h.Z)(),_=(0,s._)((0,c.useState)(n),2),b=_[0],w=_[1],k=(0,p.M)().scrollY,S=(0,s._)((0,c.useState)({position:"sticky",top:b}),2),B=S[0],I=S[1];return(0,c.useEffect)(function(){if(v&&y){var e=y.height;v.height+n<e?w(n):w(e-v.height-o)}},[v,y,n,o]),(0,c.useEffect)(function(){var e,t,i=g.current,r=x.current;if(i&&r)return k.onChange(function(a){if(void 0===e){e=a;return}var c=a>e,l=(a>e?"down":"up")!==t;t=c?"down":"up",e=a;var s=i.getBoundingClientRect(),d=r.getBoundingClientRect().top-document.documentElement.getBoundingClientRect().top,u=s.bottom-window.innerHeight-o<=0,h=s.top>=n;h&&u?I({position:"sticky",top:b}):l?I({position:"relative",top:a+s.top-d}):c?u&&I({position:"sticky",top:b}):h&&I({position:"sticky",top:n})})},[k,b,n,o]),(0,a.BX)(a.HY,{children:[(0,a.tZ)("div",{ref:x}),(0,a.tZ)("div",{className:r,ref:Z,style:B,children:l})]})},f=n(9338),v=n(55846),g=n(7621),Z=n(27500),x=n(4416),y=n(56191),_=function(e){var t,n=e.selector,i=e.sidebarRoot,o=(0,c.useRef)(null),r=(t=(0,f._)(function(){var e,t,r,a;return(0,v.__generator)(this,function(c){switch(c.label){case 0:if(e=i.current,r=!!(t=o.current),!e)return[3,3];if(!t)return[3,2];return[4,(0,g.zT)(t,{block:"start",behavior:"smooth"})];case 1:c.sent(),c.label=2;case 2:n?(a=e.querySelector(n))&&(0,y.C5)(a,r):(0,y.C5)(e,r),c.label=3;case 3:return[2]}})}),function(){return t.apply(this,arguments)});return(0,a.BX)(a.HY,{children:[(0,a.tZ)(Z.ZP,{ref:o,offset:-50,"aria-label":"边栏锚点","aria-keyshortcuts":"Shift+S"}),(0,a.tZ)(x.y,{input:"shift+s",action:r})]})},b=function(e){var t=e.children,n=(0,r._)(e,["children"]),s=(0,c.useRef)(null);return(0,a.BX)("div",(0,o._)((0,i._)({ref:s,css:{maxWidth:296,alignSelf:"normal"}},n),{children:[(0,a.tZ)(_,{sidebarRoot:s,selector:".Card,.jsFirstFocusable"}),(0,a.tZ)(m,{scrollPaddingTop:l.BR+10,children:t})]}))}},67696:function(e,t,n){var i=n(20857),o=n(22107),r=n(94707),a=n(87320),c=n(86325),l=n(85626),s=n(85879),d=n(25628),u=n.n(d),h=n(14168),p=n.n(h),m=n(87363),f=n(93547),v=function(e){(0,c._)(n,e);var t=(0,l._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,a._)((0,i._)(e),"state",{truncated:!1,computedText:""}),(0,a._)((0,i._)(e),"setTextRefContent",function(t){e.props.dangerouslySetInnerHTML?e.textRef.innerHTML=t:e.textRef.innerText=t}),(0,a._)((0,i._)(e),"getTextContent",function(){var t=e.props,n=t.dangerouslySetInnerHTML,i=t.text;return n?(0,f.NJ)(i):i}),(0,a._)((0,i._)(e),"truncate",function(){var t=e.props.onTruncate;if(e.shouldTruncate()){var n={truncated:!0,computedText:e.getComputedText()};e.setState(n),t&&t(n)}else{var i={truncated:!1,computedText:e.getTextContent()};e.setState(i),t&&t(i)}}),(0,a._)((0,i._)(e),"shouldTruncate",function(){var t=e.props,n=t.text,i=t.lines;e.setTextRefContent(n);var o=window.getSelection(),r=document.createRange();r.setStart(e.textRef.firstChild,0),o.removeAllRanges(),o.addRange(r);for(var a=0;a<i;a++)o.modify("extend","forward","character"),o.modify("extend","forward","lineboundary");var c=o.getRangeAt(0).toString(),l=e.getTextContent();return e.setTextRefContent(""),o.removeAllRanges(),c.length<l.length}),(0,a._)((0,i._)(e),"getComputedText",function(){var t=e.props,n=t.text,i=t.lines,o=t.bufferWidth;e.setTextRefContent(n);var r=e.textRef.getBoundingClientRect().width,a=Math.ceil(e.ellipsisRef.getBoundingClientRect().width),c=window.getSelection(),l=document.createRange();l.setStart(e.textRef,0),c.removeAllRanges(),c.addRange(l);for(var s=0;s<i-1;s++)c.modify("extend","forward","character"),c.modify("extend","forward","lineboundary");var d=c.getRangeAt(0).toString(),u=c.getRangeAt(0),h=u.endContainer,p=u.endOffset,m=document.createRange();m.setStart(h,p),c.removeAllRanges(),c.addRange(m);for(var f=r-a-o,v=e.getTextContent().length-d.length,g=0,Z=0;f>Z&&++g<v;){var x,y,_=null!==(y=null===(x=c.getRangeAt(0))||void 0===x?void 0:x.getClientRects())&&void 0!==y?y:[];Z=_.length?_[_.length-1].width:c.getRangeAt(0).getBoundingClientRect().width,c.modify("extend","forward","character")}f<Z&&g&&(c.modify("extend","backward","character"),g-=1);var b=c.getRangeAt(0).toString();return e.setTextRefContent(""),"".concat(d).concat(b)}),e}return(0,r._)(n,[{key:"componentDidMount",value:function(){this.props.text&&this.truncate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.ellipsis,i=t.text,o=t.className,r=t.lines,a=t.forceShowEllipsis,c=this.state,l=c.computedText,d=c.truncated;return i?(0,s.BX)("div",{className:u()("TruncateText",o),children:[(0,s.tZ)("span",{className:u()("TruncateText-text",{"TruncateText-text--lineClamp":!l}),style:l?{}:{WebkitLineClamp:r},children:l||i}),(a||d)&&(0,s.tZ)("span",{className:"TruncateText-ellipsis",children:n}),!l&&(0,s.BX)(m.Fragment,{children:[(0,s.tZ)("span",{className:"TruncateText-invisible",children:(0,s.tZ)("span",{className:"TruncateText-text",ref:function(t){e.textRef=t}})}),(0,s.tZ)("span",{className:"TruncateText-invisible",children:(0,s.tZ)("span",{className:"TruncateText-ellipsis",ref:function(t){e.ellipsisRef=t},children:n})})]})]}):null}}]),n}(m.Component);(0,a._)(v,"propTypes",{text:p().string,lines:p().number.isRequired,ellipsis:p().node,bufferWidth:p().number,onTruncate:p().func,dangerouslySetInnerHTML:p().bool,forceShowEllipsis:p().bool}),(0,a._)(v,"defaultProps",{text:"",ellipsis:"…",bufferWidth:10,dangerouslySetInnerHTML:!1}),t.Z=v},60051:function(e,t,n){var i=n(55164),o=n(57477),r=n(71728),a=n(85879),c=n(41283),l=n(87641),s=n(53316),d=n(18837),u=n.n(d),h=n(88423),p=u()(h.findImageSpec),m=function(e,t){return(0,h.imgUrl)(e,p(t))};t.Z=function(e){var t=e.user,n=e.size,d=void 0===n?38:n,u=e.noBadge,h=e.noLink,p=void 0!==h&&h,f=e.linkProps,v=(0,r._)(e,["user","size","noBadge","noLink","linkProps"]),g=t.avatarUrl,Z=t.isOrg,x=t.urlToken,y=!p&&x?"https://www.zhihu.com/".concat(Z?"org":"people","/").concat(x):null,_=(0,a.tZ)(l.Image,{loading:"lazy",src:m(g,d),srcSet:"".concat(m(g,2*d)," 2x"),size:d,display:"block",css:{borderRadius:"50%"}});return(0,a.BX)(l.Box,(0,o._)((0,i._)({display:"inline-block",size:d,css:{position:"relative"}},v),{children:[y?(0,a.tZ)(s.pl,(0,o._)((0,i._)({href:y,target:"_blank"},f),{children:_})):_,!(void 0!==u&&u)&&(0,a.tZ)(c.Vh,{css:(0,c.FJ)(d),isOrg:Z,badge:t.badgeV2||t.badge,linkify:!p,enableTooltip:!0})]}))}},53389:function(e,t,n){n.d(t,{Z:function(){return i}});function i(e){return e&&"string"==typeof e?e.replace(/<[^>]+>/g,""):""}},96485:function(e,t,n){n.d(t,{g:function(){return l},k:function(){return c.ks}});var i=n(55164),o=n(85879),r=n(84871),a=n.n(r),c=n(76976),l=function(e){var t=e.scene;return function(e){return a()(function(n){return(0,o.tZ)(c.g_,{scene:t,children:(0,o.tZ)(e,(0,i._)({},n))})},e)}}},34390:function(e,t,n){var i=n(94009),o=n(87363);t.Z=function(){var e=(0,i._)((0,o.useState)(!1),2),t=e[0],n=e[1];return(0,o.useEffect)(function(){n(!0)},[]),t}},72761:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(65733),o=n(87363),r=n(32210);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"scroll",n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3)||void 0===arguments[3]||arguments[3],c=(0,i.Z)(e),l=(0,o.useRef)(function(){});return(0,o.useEffect)(function(){if(a){var e=(0,r.subscribe)(t,function(e,t){c(e,t)},n);return l.current=function(){return e.unsubscribe()},l.current}},[a]),l.current}},19987:function(e,t,n){n.d(t,{O:function(){return B},Z:function(){return I}});var i=n(49899),o=n(85879),r=n(24405),a=n(65733),c=n(49274),l=n(87363),s=n(53778),d=n(87641),u=n(43384),h=n(62483),p=n(94009),m=n(55164),f=n(57477),v=n(21117),g=n(87804),Z=n(18837),x=n.n(Z)()(function(e){return g.Z.supportsAction(e)});function y(e){var t=(0,p._)((0,l.useState)(!1),2),n=t[0],i=t[1];return(0,l.useEffect)(function(){x("ui/showPicker").then(function(e){i(e)})},[]),n?(0,o.tZ)(_,(0,m._)({},e)):(0,o.tZ)(b,(0,m._)({},e))}function _(e){var t=e.options,n=e.selectedItem,o=void 0===n?null:n,r=e.selectedSetTop,c=void 0!==r&&r,s=e.visible,d=void 0!==s&&s,u=e.onChange,h=e.onClose,p=(0,l.useMemo)(function(){return o&&c?(0,f._)((0,m._)({},t),{items:[o].concat((0,i._)(t.items.filter(function(e){return e.id!==o.id})))}):t},[t,o,c]),v=(0,a.Z)(function(){(0,g.Z)("ui/showPicker").dispatch((0,m._)({},p,o?{selected:o.id}:{})).then(function(e){e&&(u(e),h())}).catch(h)});return(0,l.useEffect)(function(){d&&v()},[d,v]),null}function b(e){var t=e.target,n=e.options,i=e.visible,r=e.onChange,c=e.onClose,s=(0,l.useMemo)(function(){return n.items.map(function(e){return{key:e.id,name:e.text}})},[n]),d=(0,a.Z)(function(e){return r({id:e.key,text:e.name})});return(0,o.tZ)(v.Z,{isOpen:void 0!==i&&i,target:t,options:s,onChange:d,onClose:c,isMobile:!0,isScroll:!0,hiddenScrollBar:!0})}var w=n(45001),k=function(e){var t,n=e.options,i=e.selectedItem,r=e.onChange,a=e.targetClassName,c=(0,p._)((0,l.useState)(!1),2),s=c[0],d=c[1],u=(0,l.useRef)(null),h=(0,p._)((0,l.useState)(!1),2),m=h[0],f=h[1];return((0,l.useEffect)(function(){x("ui/showPicker").then(function(e){f(e)})},[]),m)?(0,o.BX)(o.HY,{children:[(0,o.tZ)(w.Z,{targetClassName:a,text:(null==i?void 0:i.text)||"全部",ref:u,onClick:function(){return d(!0)}}),(0,o.tZ)(y,{options:n,target:u.current,visible:s,selectedItem:i,onChange:function(e){return r(e.text)},onClose:function(){return d(!1)}})]}):(0,o.tZ)(w.Z,{targetClassName:a,text:(null==i?void 0:i.text)||"全部",onChange:r,fixFirstItem:!0,margin:50,children:null===(t=n.items)||void 0===t?void 0:t.map(function(e,t){return(0,o.tZ)(w.W,{value:e.text},t)})})},S=n(72597),B=function(e){var t=e.children,n=e.className,i=(0,r.F)(),a=i.colors,c=a.GBK02A,l=a.GBK10A,s=i.fontWeights.bold;return(0,o.tZ)(d.Flex,{justifyContent:"space-between",css:{".Popover":{button:{width:"100%",backgroundColor:l,fontWeight:s,border:"none"},".Select-arrow":{marginLeft:"auto"},".Select-button":{color:c,borderRadius:"5px"}}},className:n,children:t})},I=function(e){var t=e.id,n=e.schoolName,r=(0,s.useDispatch)(),p=(0,u.Q4)().trackEvent,m=(0,s.useSelector)(function(e){return e.campaign.searchGaokaoSubPage.scores}),f=m||{},v=f.year,g=void 0===v?"":v,Z=f.province,x=void 0===Z?"":Z,y=f.category,_=void 0===y?"":y,b=f.scores,w=(0,l.useMemo)(function(){var e,t,n,i,o,r,a,c,l;return i=(n=void 0===(t=(e=m||{}).options)?{}:t).areas,o=n.years,r=n.categories,a=e.year,[{list:void 0===i?[]:i,selected:void 0===(c=e.province)?"":c,title:"选择省份"},{list:void 0===o?[]:o,selected:void 0===a?"":a,title:"选择年份"},{list:void 0===r?[]:r,selected:void 0===(l=e.category)?"":l,title:"选择科目"}].map(function(e){var t=e.list,n=e.selected,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return{title:t,items:e.map(function(e,t){return{text:String(e),id:String(t)}})}}(t,e.title),o=i.items.find(function(e){return e.text===String(n)})||null;return{options:i,selectedItem:o}})},[m]),I=(0,l.useMemo)(function(){return(null==b?void 0:b.every(function(e){return!!e.electiveInfo||!!e.groupName}))?[0,1,2,3,4]:[0,2,3,4]},[b]),C=(0,a.Z)(function(e,n,i){return r((0,h.Ut)(t,e,n,i))}),T=function(e,t){var o=[x,g,_].map(function(n,i){return i===t?e:0===t?"":n});C.apply(void 0,(0,i._)(o)),p({eventType:"Click",elementLocation:{type:"Block",moduleId:"year_score_filter",moduleIndex:t}},{configMap:{school:n||"",province:String(x),year:String(g),subject:String(_)}})};return(0,o.BX)(d.Box,{p:"16px",minHeight:"100vh",bg:"GBK99A",children:[(0,o.tZ)(B,{css:{".Popover":{width:"calc(33% - 5px)"}},children:w.map(function(e,t){return(0,o.tZ)(k,{targetClassName:"search-gaokao",options:e.options,selectedItem:e.selectedItem,onChange:function(e){return T(e,t)}},t)})}),(null==b?void 0:b.length)?(0,o.tZ)(S.Z,{data:b,showCols:I}):(0,o.tZ)(d.Box,{height:"calc(100vh - 88px)",children:(0,o.tZ)(c.H.EI1,{image:"default",content:"暂无数据"})})]})}},12664:function(e,t,n){var i=n(87320),o=n(85879),r=n(29229),a=n(87641);t.Z=function(e){var t,c,l=e.data,s=e.type,d=(0,r.Z)(function(){return Promise.all([n.e(5039),n.e(6763)]).then(n.bind(n,77683))});return d?(0,o.tZ)(a.Box,{width:"100%",children:(0,o.tZ)(d,{data:(t=l.value,c=void 0===s?"学校":s,t.map(function(e){var t;return t={name:e.employmentTime},(0,i._)(t,"本".concat(c),e.salaryCount),(0,i._)(t,"所有".concat(c),e.avgSalary),t})),unitText:"单位：元"})}):(0,o.tZ)(a.Box,{minHeight:"300px"})}},72597:function(e,t,n){var i=n(85879),o=n(52244),r=n(49274),a=n(87641),c=n(73130),l=function(e){var t={};for(var n in e)t[n]=e[n]||"-";return t},s=[0,1,2,3,4],d=["批次/招生类型","专业组/选科要求","最低分/位次","录取人数","最低分差"],u=function(e){var t=e.text;return(0,i.tZ)(a.Text,{color:"GBK02A",children:t})},h=function(e){var t=e.text;return(0,i.tZ)(a.Text,{color:"GBK06A",children:t})},p=function(e){var t=e.data,n=e.index,o=l(void 0===t?{}:t)||{},r=o.batch,a=o.type,c=o.groupName,s=o.electiveInfo,d=o.minScore,p=o.minScoreOrder,m=o.enrollNum,f=o.provinceLine;return 0===n?(0,i.BX)(i.HY,{children:[(0,i.tZ)(u,{text:r}),(0,i.tZ)(h,{text:a})]}):1===n?(0,i.BX)(i.HY,{children:[(0,i.tZ)(u,{text:"专业组：".concat(c)}),(0,i.tZ)(u,{text:s})]}):2===n?(0,i.tZ)(u,{text:"".concat(d,"/").concat(p)}):3===n?(0,i.tZ)(u,{text:m}):4===n?(0,i.tZ)(u,{text:f}):void 0},m=function(e){var t=e.children,n=e.className,r=e.isShowBorder,c=void 0===r||r?(0,o.M)({borderBottom:"1px solid",borderColor:"GBK09A"}):{};return(0,i.tZ)(a.Box,{className:n,py:"10px",pr:"20px",sx:c,children:t})};t.Z=function(e){var t=e.data,n=e.isScroll,o=void 0===n||n,l=e.showCols,u=void 0===l?s:l,f=o?c.Z:a.Flex;return(null==t?void 0:t.length)?(0,i.BX)(a.Box,{children:[(0,i.tZ)(f,{css:{fontSize:"14px",lineHeight:"20px"},children:d.map(function(e,n){return u.includes(n)?(0,i.BX)(a.Box,{pt:"10px",flex:"1 1 auto",children:[(0,i.tZ)(m,{height:"40px",children:(0,i.tZ)(h,{text:e})}),t.map(function(e,r){return(0,i.tZ)(m,{css:{height:"63px"},isShowBorder:o||r!==t.length-1,children:(0,i.tZ)(p,{data:e,index:n})},r)})]},n):null})}),o&&(0,i.tZ)(a.Text,{color:"GBK07A",fontSize:"12px",my:"16px",children:"* 表格支持横滑查看"})]}):(0,i.tZ)(r.H.EI1,{image:"default",content:"暂无数据"})}},91070:function(e,t,n){n.r(t);var i=n(94009),o=n(49899),r=n(85879),a=n(49274),c=n(28753),l=n(87363),s=n(53778),d=n(87641),u=n(43384),h=n(45001),p=n(72597),m=n(19987),f=n(7407),v=n(32023);t.default=function(e){var t,n,g=e.data,Z=e.className,x=(0,s.useDispatch)(),y=(0,f.dD)(),_=(0,u.Q4)().trackEvent,b=(0,i._)((0,l.useState)(!1),2),w=b[0],k=b[1],S=(0,s.useSelector)(function(e){return e.search.scores})||{},B=S.options,I=void 0===B?{}:B,C=I.areas,T=I.years,z=void 0===T?[]:T,N=I.categories,A=void 0===N?[]:N,L=w?S.scores:null===(t=S.scores)||void 0===t?void 0:t.slice(0,4),E=g.location.name,R=g.id,M=[E||"北京",null==z?void 0:z[0],null==A?void 0:A[0]],F=(0,i._)((0,l.useState)(M),2),H=F[0],X=F[1];(0,l.useEffect)(function(){x((0,v.AE)(R))},[x,R]);var j=(0,l.useMemo)(function(){return(null==L?void 0:L.every(function(e){return!!e.electiveInfo||!!e.groupName}))?[0,1,2,3,4]:[0,2,3,4]},[L]),P=function(e,t){var n=t?(0,o._)(H):[];n[t]=e,X(n),x(v.AE.apply(void 0,[R].concat((0,o._)(n)))),_({eventType:"Click",elementLocation:{type:"Block",moduleId:"year_score_filter",moduleIndex:t}},{configMap:{province:n[0]||"",year:n[1]||"",subject:n[2]||""}})};return(0,r.BX)("div",{css:{padding:"20px"},className:Z,children:[(0,r.tZ)(m.O,{css:{".Popover":{width:"calc(33% - 5px)"}},children:[void 0===C?[]:C,z,A].map(function(e,t){return(0,r.tZ)(h.Z,{targetClassName:"search-gaokaoPC",text:H[t]||M[t]||"全部",onChange:function(e){return P(e,t)},margin:50,fixFirstItem:!0,children:null==e?void 0:e.map(function(e,t){return(0,r.tZ)(h.W,{value:e},t)})},t)})}),(null==S?void 0:null===(n=S.scores)||void 0===n?void 0:n.length)?(0,r.BX)(r.HY,{children:[(0,r.tZ)(p.Z,{data:L,isScroll:y,showCols:j}),!w&&S.scores.length>4&&(0,r.BX)(d.Flex,{mb:"5px",alignItems:"center",justifyContent:"center",fontSize:"14px",color:"GBK02A",children:[(0,r.tZ)("button",{onClick:function(){return k(!w)},children:"展开"}),(0,r.tZ)(c.f,{height:24,width:24,center:!0})]})]}):(0,r.tZ)(a.H.ET1,{content:"暂无数据",css:{height:"120px",marginBottom:"-20px"}})]})}},4547:function(e,t,n){n.r(t),n.d(t,{default:function(){return rS}});var i=n(85879),o=n(86616),r=n(22107),a=n(94707),c=n(86325),l=n(55164),s=n(57477),d=n(71728),u=n(85626),h=n(57045),p=n(87363),m=n.n(p),f=n(39658),v=n(94057),g=n(94868),Z=n(74440),x=n(45842),y=n(96485),_=n(56628),b=n(53778),w=n(99447),k=n(58608),S=n(31142),B=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.correction,n=t.queryCorrection,o=t.query,r=t.cardType,a=e.query;return"recommend"===r?(0,i.BX)(k.ZP,{className:"SearchCorrection",children:["你是不是要找：",(0,i.tZ)(S.Z,{to:"/search?".concat((0,h.stringify)((0,s._)((0,l._)({},a),{q:n,correction:0}))),a:!0,preset:"link",children:n})]}):"corrected"===r?(0,i.BX)(k.ZP,{className:"SearchCorrection",children:["已显示"," ",(0,i.tZ)("span",{className:"SearchCorrection-correctionQueryString",children:n})," ","的搜索结果，仍然搜索：",(0,i.tZ)(S.Z,{to:"/search?".concat((0,h.stringify)((0,s._)((0,l._)({},a),{q:o,correction:0}))),a:!0,preset:"link",children:o})]}):null}}]),n}(p.Component),I=(0,w.a)(function(e){var t=e.correction;return{module:"SearchAutoCorrection",extra:{search:{corrective_query:t.queryCorrection,raw_query:t.query}},trackCardShow:!0}})(B),C=n(92769),T=n.n(C),z=n(30016),N="SearchSubTabs",A=(0,v.compose)(o.withRouter,(0,w.a)({module:"SearchSwitchTabBar"}))(function(e){var t=e.location.query,n=e.subTabList,r=(0,p.useMemo)(function(){return(0,h.stringify)(T()(t,["range","type"]))},[t]);return(0,i.tZ)("div",{className:N,children:(0,i.tZ)(z.Z,{children:n.map(function(e){var t=e.type,n=e.text;return(0,i.tZ)(z.O,{"aria-controls":"Search-".concat(t),children:(0,i.tZ)(o.Link,{className:"".concat(N,"-item"),"data-za-detail-view-name":n,to:"/search?".concat(r,"&type=").concat(encodeURIComponent(t)),children:n})},t)})})})}),L=n(61803),E=n(20857),R=n(87320),M=n(49899),F=n(52109),H=n(25628),X=n.n(H),j=n(69383),P=n(43384),q=n(9388),U=n(14253),D=n(80714),G=[{text:"综合",type:"content"},{text:"用户",type:"people"},{text:"话题",type:"topic"},{text:"视频 ",type:"zvideo"},{text:"学术 ",type:"scholar"},{text:"专栏",type:"column"},{text:"盐选内容",type:"km_general",includeTypes:["live","album","km_course"]},{text:"电子书",type:"publication"}],O=[{text:"全部",type:"km_general"},{text:"盐选专栏",type:"album"},{text:"Live 讲座",type:"live"},{text:"课程",type:"km_course"}],K=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(e){var i;return(0,r._)(this,n),i=t.call(this,e),(0,R._)((0,E._)(i),"togglePanel",function(){i.setState({showCustomFilterPanel:!i.state.showCustomFilterPanel,clickChange:!0})}),(0,R._)((0,E._)(i),"resetSelectedArr",function(){return i.setState({customFilterSelectedArr:Array(i.props.customFilterKeys.length).fill("")})}),(0,R._)((0,E._)(i),"handleTagSelect",function(e,t,n){var o=i.props,r=o.location.query,a=o.router;if(i.state.customFilterSelectedArr[e]!==n){var c=(0,M._)(i.state.customFilterSelectedArr);c[e]=n,i.setState({customFilterSelectedArr:c});var d=""===n?T()(r,[t]):(0,s._)((0,l._)({},r),(0,R._)({},t,n)),u="/search?".concat((0,h.stringify)(d));j.Z.trackEvent((0,E._)(i),{action:"OpenUrl"},{link:{url:u}}),a.push(u)}}),i.state={showCustomFilterPanel:!1},i}return(0,a._)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.location.query,r=t.isPageHeader,a=t.currentUser,c=t.customFilterTags,d=t.customFilterKeys,u=this.state,p=u.showCustomFilterPanel,m=u.customFilterSelectedArr,f=a&&"guest"!==a.userType,v="content"===n.type&&c.length>0&&!D.Z.isMobileEntry&&!r;return(0,i.tZ)(P.eV,{block:"SearchCustomFilter",children:(0,i.BX)("div",{className:X()("SearchTabs",{"SearchTab-bottomShadow":!r,isLogin:f}),children:[(0,i.BX)("div",{className:"SearchTabs-inner",children:[(0,i.BX)("div",{className:"SearchTabs-actions",children:[(0,i.tZ)(z.Z,{children:G.map(function(t){var r=t.type,a=t.text,c=t.includeTypes,u=(0,h.stringify)(T()((0,s._)((0,l._)({},n),{type:r}),d));return(0,i.tZ)(z.O,{"aria-controls":"Search-".concat(r),children:(0,i.tZ)(o.Link,{"data-za-detail-view-name":a,to:"/search?".concat(u),className:X()({"is-active":(void 0===c?[]:c).includes(n.type)}),onClick:e.resetSelectedArr,children:a})},r)})}),v&&(0,i.BX)(P.$U,{zaType:"Button",zaText:"打开关闭自定义搜索面板",zaBlock:"ShowCustomFilterPanel",className:"SearchTabs-customFilterEntry",onClick:this.togglePanel,children:[(0,i.tZ)(F.u,{css:{marginRight:"5px"}}),"筛选"]})]}),r&&(0,i.tZ)("div",{className:"SearchTabs-searchBarContainer",children:(0,i.tZ)(U.N,{searchButtonType:"solid",initialValue:n.q,type:n.type,css:!D.Z.isMobileEntry&&{borderRadius:999,paddingLeft:16,".SimpleSearchBar-solidSearchButton":{borderBottomRightRadius:999,borderTopRightRadius:999}}},n.type)}),r&&(0,i.tZ)("div",{className:"SearchTabs-profile",children:(0,i.tZ)(q.Z,{currentUser:a})})]}),v&&p&&(0,i.tZ)("div",{className:"SearchTabs-customFilter",children:c.map(function(t,n){return(0,i.tZ)("ul",{className:"SearchTabs-customFilter--group",children:t.map(function(t,o){return(0,i.tZ)("li",{children:(0,i.tZ)(P.$U,{zaType:"Button",zaText:t.title,zaBlock:"ClickCustomFilterTag",className:X()("SearchTabs-customFilter--tag",{"tag-selected":m[n]===t.linkName}),onClick:function(){return e.handleTagSelect(n,t.group,t.linkName)},children:t.title})},o)})},n)})})]})})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n,i=e.customFilterKeys,o=e.location.query,r=t.clickChange,a=t.showCustomFilterPanel,c=i.map(function(e){return null!==(n=o[e])&&void 0!==n?n:""}),l=c.some(function(e){return""!==e});return{showCustomFilterPanel:r?a:l,customFilterSelectedArr:c}}}]),n}(p.Component),W=(0,v.compose)(o.withRouter,(0,b.connect)(function(e){return{customFilterTags:e.search.customFilter.tags,customFilterKeys:e.search.customFilter.keys}}),(0,w.a)({module:"SearchSwitchTabBar"}))(K),V=n(57129),Y=n(76435),Q=n(30226),$=n(32023),J=n(99878),ee=n(87038),et=n(30722),en=n(53558),ei=n(51448),eo=n(30361),er=n(44144),ea=n(85661),ec=n(66263),el=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"handleFollowButtonClick",function(t){var n=e.props.column.object.isFollowing;return j.Z.trackEvent(t.target,(0,_.ah)(n)),!0}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.column,t=e.highlight,n=void 0===t?{}:t,r=n.title,a=n.description,c=e.object,l=e.object,s=l.id,d=l.articlesCount,u=l.description,h=l.title,p=l.followers,m=l.author,f=void 0===m?{}:m,v=l.voteupCount,g=this.props,Z=g.query,x=g.showMore,y=!(void 0===p||void 0===d||void 0===f),_=(0,i.tZ)("span",{className:"Highlight",dangerouslySetInnerHTML:{__html:r||h||""}}),b="".concat(ec.i7,"/column/").concat(s);return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(eo.ZP,{data:c,link:b,image:(0,i.tZ)("div",{className:"SearchItem-avatarWrapper",children:(0,i.tZ)(ei.Z,{avatar:!0,target:"_blank",column:c,avatarProps:{size:60,alt:"打开专栏主页"}})}),title:(0,i.BX)("div",{children:[(0,i.tZ)(ei.Z,{column:c,target:"_blank","data-za-detail-view-id":3942,children:_}),x&&(0,i.tZ)("span",{className:"SearchItem-type",children:"专栏"})]}),meta:(0,i.BX)("div",{children:[(0,i.tZ)(ee.Z,{className:"SearchItem-meta Highlight",html:a||u}),y&&(0,i.BX)("div",{className:"ContentItem-status",children:[(0,i.BX)("span",{className:"Search-statusLink",children:["创建者：",(0,i.tZ)(ea.Z,{target:"_blank",user:f})]}),(0,i.tZ)(en.Z,{}),(0,i.tZ)("span",{className:"Search-statusLink",children:"".concat((0,et.uf)(d)," 篇内容")}),(0,i.tZ)(en.Z,{}),(0,i.tZ)("span",{className:"Search-statusLink",children:"".concat((0,et.uf)(v)," 赞同")})]}),x&&(0,i.BX)("div",{className:"Search-more",children:[(0,i.tZ)(o.Link,{target:"_blank",to:"/search?q=".concat(Z,"&type=column"),"data-za-detail-view-element_name":"ViewAll",children:"查看更多「专栏」搜索结果"}),(0,i.tZ)(J.N,{size:20,fill:"#175199"})]})]})})})})}}]),n}(p.Component),es=(0,w.a)(function(e){var t=e.column.object,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId;return{view:{id:void 0===i?3950:i},module:"ColumnItem",attachedInfoBytes:t.attachedInfoBytes,index:e.index.toString(),content:{type:"Column",token:t.id},trackCardShow:!0}})(el),ed=n(99178),eu=n(80565),eh=n(49274),ep=n(14168),em=n.n(ep),ef=n(87641),ev=n(25064),eg=n(72021),eZ=n(7407),ex=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.antiSpider,n=e.currentUser;t&&(!n||"guest"===n.userType)&&(location.href="https://www.zhihu.com/signin?next=".concat(encodeURIComponent(location.href)))}},{key:"render",value:function(){var e=this.props,t=e.query.type,n=e.onRef,o=e.sensitiveLevel,r=(0,_.hj)(t);return(0,i.tZ)("div",{onRef:n,className:"SearchNoContent-wrap",children:"general"===r&&-1===o?(0,i.tZ)(eh.H.EI1A,{image:"default",content:_.BP[r],buttonText:(0,i.tZ)(eg.x,{children:(0,i.tZ)("div",{children:"我要提问"})}),buttonOnClick:function(){}}):(0,i.tZ)(eh.H.EI1,{image:"default",content:"general"===r?_.BP.sensitive:_.BP[r]})})}}]),n}(p.Component),ey=(0,x.s)((0,w.a)({module:"SearchResultItem"})(ex)),e_=n(82452),eb=n(2078),ew=n(44230),ek="EmptyPage",eS={people:"用户",topic:"话题",column:"专栏",live:"内容",album:"内容",publication:"内容",zvideo:"视频"},eB=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"handleClickButton",function(){var t=e.props.query.q;(0,e_.rH)("zhihu://search?q=".concat(t))}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.query,t=e.q,n=e.type;return"content"!==n?(0,i.BX)("div",{className:"MobileEmptyPage MobileEmptyPageWithType",children:["未搜索到相关",eS[n]]}):(0,i.BX)("div",{className:"MobileEmptyPage",children:[(0,i.BX)("div",{className:"".concat(ek,"-Description"),children:[(0,i.tZ)(eb.yQ,{className:X()("".concat(ek,"-Quote"),"".concat(ek,"-Quote--left"))}),(0,i.tZ)("span",{className:"".concat(ek,"-DescriptionText"),children:t}),(0,i.tZ)(ew.w,{className:X()("".concat(ek,"-Quote"),"".concat(ek,"-Quote--right"))})]}),(0,i.tZ)("p",{className:"MobileEmptyPage-desc",children:"未找到相关内容，提问快速获得回答"}),(0,i.tZ)("button",{className:"MobileEmptyPage-button",onClick:this.handleClickButton,children:"立即提问"})]})}}]),n}(p.Component),eI=(0,w.a)({module:"SearchResultItem"})(eB),eC=n(94009),eT=n(16e3),ez=n(76280),eN=n(38889),eA=function(){return(0,i.tZ)(ef.Box,{css:function(e){return{position:"absolute",right:"-1px",bottom:"-1px",width:0,height:0,borderStyle:"solid",borderRadius:"inherit",borderWidth:"8px 8px 8px 8px",borderColor:"transparent ".concat(e.colors.GBL01A," ").concat(e.colors.GBL01A," transparent")}},children:(0,i.tZ)(eT.Y,{size:8,css:{position:"absolute",right:"-7px",color:"#fff"}})})},eL=function(e){var t=e.tabs,n=e.contents,o=void 0===n?[[]]:n,r=e.defaultContents,a=e.isMulti,c=void 0===a||a,d=e.onSubmit,u=e.tabIndex,h=void 0===u?[]:u,m=(0,eC._)((0,p.useState)(0),2),f=m[0],v=m[1],g=(0,eC._)((0,p.useState)(!1),2),Z=g[0],x=g[1],y=(0,eC._)((0,p.useState)([!1,!1]),2),_=y[0],b=y[1],w=(0,eC._)((0,p.useState)(r),2),k=w[0],S=w[1],B=(0,p.useMemo)(function(){return null==k?void 0:k.map(function(e){return e.join("/")})},[k]);(0,p.useEffect)(function(){S(r)},[r]);var I=function(e){var t=(0,M._)(k[f]||[]);if(c)return t.includes(e)?t=t.filter(function(t){return t!==e}):t.push(e),k[f]=t,S((0,M._)(k));t.includes(e)?k[f]=[]:k[f]=[e],S((0,M._)(k))},C=function(e,t){x(!1),d(e,t)};return(0,i.BX)(ef.Box,{px:"16px",py:"12px",backgroundColor:"GBK99A",css:{position:"relative",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,i.tZ)(ef.Flex,{pb:"2px",children:(void 0===t?[]:t).map(function(e,t){return o[t].length>1?(0,i.tZ)(P.Wi,{shouldTrackClick:!0,zaBlock:"Filter_ScholarResult",zaType:"Button",css:{display:"flex"},children:(0,i.BX)(ef.Flex,{alignItems:"center",width:"164px",height:"34px",lineHeight:"34px",px:"12px",fontSize:"14px",css:function(e){return{border:"1px solid ".concat(e.colors.GBK09A),borderRadius:"5px",marginLeft:1===t?"15px":"",justifyContent:"space-between"}},onClick:function(){x(!Z),_[t]=!Z,h.forEach(function(e){e!==t&&(_[e]=!1)}),b((0,M._)(_)),v(t)},children:[(0,i.tZ)(ef.Text,{color:"".concat(B[t]?"GBK02A":"GBK04A"),css:(0,s._)((0,l._)({},(0,eu.S)(1)),{height:"34px",lineHeight:"34px"}),width:"170px",height:"34px",children:B[t]||e}),(0,i.tZ)(ez.Ex,{width:"16px",height:"8px",css:{transform:_[t]?"":"rotate(0.5turn)"}})]})},t):null})}),(0,i.BX)(ef.Box,{width:"100%",display:_[f]?"block":"none",css:{position:"absolute",left:0,boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.1)"},children:[(0,i.tZ)(ef.Flex,{backgroundColor:"GBK99A",p:"16px",flexWrap:"wrap",children:o[f].map(function(e,t){var n,o=null===(n=k[f])||void 0===n?void 0:n.includes(e);return(0,i.BX)(eN.ZP,{preset:"secondary",color:o&&"blue",css:function(e){return{position:"relative",height:"30px",lineHeight:"30px",borderRadius:"2px",marginRight:"10px",color:!o&&e.colors.GBK04A,backgroundColor:!o&&e.colors.GBK10A,marginBottom:"10px"}},onClick:function(){return I(e)},children:[e.length>9?e.slice(0,9)+"...":e,o&&(0,i.tZ)(eA,{})]},t)})}),(0,i.BX)(ef.Flex,{px:"16px",pb:"16px",backgroundColor:"GBK99A",fontSize:"15px",flexDirection:"row-reverse",children:[(0,i.tZ)(eN.ZP,{color:"blue",preset:"primary",css:{height:"30px",lineHeight:"30px",padding:"0 20px"},onClick:function(){return C(k,f)},children:"确定"}),(0,i.tZ)(eN.ZP,{css:function(e){return{marginRight:"20px",height:"30px",lineHeight:"30px",padding:"0 20px",color:e.colors.GBL05A,borderColor:e.colors.GBL05A}},onClick:function(){x(!1),_[f]=!1,b((0,M._)(_))},children:"取消"})]})]})]})},eE=["高级筛选","学科分类"],eR=[0,1],eM=[["题名","作者","关键词","摘要"]],eF=[["title","authors","keywords","abstract"]],eH=function(e){var t=e.query,n=void 0===t?{}:t,o=n.filterFields,r=n.type,a=n.q,c=(0,b.useSelector)(function(e){var t,n,i;return null===(t=e.search)||void 0===t?void 0:null===(n=t.scholarByQuery)||void 0===n?void 0:null===(i=n[a])||void 0===i?void 0:i.filterItems}),l=null==c?void 0:c.scholarTopics;eM=[eM[0],l||[]],eF=[eF[0],l||[]];var s=(0,p.useMemo)(function(){if(!o)return[[]];var e=JSON.parse(o),t=[];(null==e?void 0:e.advanced_filter)&&t.push(e.advanced_filter),(null==e?void 0:e.scholar_topics)&&t.push(e.scholar_topics);var n=null==t?void 0:t.join(",").split(",");return eM.map(function(e,t){return e.filter(function(e,i){return null==n?void 0:n.includes(eF[t][i])})})},[o,c]),d=function(e){var t=e.filterFields;location.href="/search?".concat((0,h.stringify)({filterFields:t,q:a,type:r}))};return(0,i.tZ)(eL,{defaultContents:s,tabs:eE,contents:eM,onSubmit:function(e){var t={};e.forEach(function(e,n){if(0===n){var i=e.map(function(e){return eF[0][eM[0].findIndex(function(t){return t===e})]}).join(",");t.advanced_filter=i}else t.scholar_topics=e.join(",")}),d({filterFields:JSON.stringify(t)})},tabIndex:eR})},eX=function(e){var t=e.warnNotes,n=t.imageUrl,o=t.nationTel,r=t.pekingTel;return n&&o&&r?(0,i.tZ)("div",{css:{background:"url(".concat(n,") no-repeat"),backgroundSize:"100% 100%",width:"100vw",height:"62vw",marginBottom:"12px"},children:(0,i.BX)("div",{css:{display:"flex",justifyContent:"space-between",padding:"45vw 11vw 0 11vw"},children:[(0,i.tZ)("a",{href:"tel:"+o,css:{width:"36vw",height:"9vw"},children:" "}),(0,i.tZ)("a",{href:"tel:"+r,css:{width:"36vw",height:"9vw"},children:" "})]})}):null},ej=n(66980),eP=Object.assign,eq=function(e){return m().createElement(ej.Z,eP({width:"18",height:"2",fill:"none",viewBox:"0 0 18 2"},e),m().createElement("circle",{cx:"17",cy:"1",r:"1",fill:"#BEBEBE"}),m().createElement("rect",{width:"13",height:"1",y:".5",fill:"url(#id-2007482235-a)",rx:".5"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-2007482235-a",x1:"13",x2:"0",y1:"1",y2:"1",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#BEBEBE"}),m().createElement("stop",{offset:"1",stopColor:"#BEBEBE",stopOpacity:"0"}))))},eU=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"trackedEmpty",!1),(0,R._)((0,E._)(e),"handleLoad",function(){var t=e.props,n=t.query,i=n.type,o=n.q,r=n.correction,a=n.filterFields,c=t.loadSearch,s=t.isFetching,u=t.isDrained,h=t.attachedInfo,p=void 0===h?{}:h,m=p.searchHashId,f=p.lcIdx,v=t.nextOffset,g=void 0===v?{}:v,Z=g.offset,x=g.limit,y=void 0===x?$.UB:x,b=t.verticalInfo,w=(0,d._)(t.query,["type","q","correction","filterFields"]);s||u||c((0,l._)({filterFields:a,searchHashId:m,lcIdx:f,type:(0,_.hj)(i),query:o,offset:void 0===Z?0:Z,limit:y,correction:void 0===r?1:r,showAllTopics:"topic"===i,verticalInfo:b},w))}),(0,R._)((0,E._)(e),"trackSearchAction",function(t){var n=t||e.props.attachedInfo;if(n){var i=n.attachedInfoBytes;j.Z.trackEvent(e.listNode,{action:"Search",id:3953},{attached_info_bytes:i})}}),(0,R._)((0,E._)(e),"trackEmptySearchResult",function(t,n){if(n||e.props.attachedInfo){var i=n.attachedInfoBytes;j.Z.trackEvent("empty"===t?e.emptyNode:e.listNode,{id:"empty"===t?4314:4316},{attached_info_bytes:i}),e.trackedEmpty=!0}}),e}return(0,a._)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.query.type,i=t.items,o=t.showEmpty,r=t.attachedInfo,a=t.loadCustomFilterTags;n&&"content"!==n||a().catch(function(){return e.handleLoad()}),((void 0===i?[]:i).length>0||o)&&this.trackSearchAction(r),!this.trackedEmpty&&o&&r&&this.trackEmptySearchResult("empty",r)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.items,n=e.isDrained,i=e.showEmpty,o=e.attachedInfo,r=this.props,a=r.items,c=r.isDrained;(void 0===t?[]:t).length>(void 0===a?[]:a).length&&this.trackSearchAction(o),this.trackedEmpty||(i?this.trackEmptySearchResult("empty",o):n!==c&&this.trackEmptySearchResult("noMore",o))}},{key:"renderItems",value:function(){var e=this.props,t=e.renderItem,n=e.items,o=e.warning,r=e.warnNotes,a=e.isMobile,c=n.filter(function(e){return e&&!e.isDelete});return(0,i.BX)(i.HY,{children:[a&&r&&(0,i.tZ)(eX,{warnNotes:r}),!a&&o&&(0,i.tZ)(ef.Text,{pl:17,fontSize:14,color:"GBK06A",marginBottom:10,css:(0,s._)((0,l._)({},(0,eu.S)(2)),{wordBreak:"break-all"}),children:o}),c.map(t)]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isFetching,o=t.isDrained,r=t.query,a=t.showEmpty,c=t.realType,l=t.items,s=t.error,d=t.sensitiveLevel,u=t.antiSpider;if(s&&0===l.length)return(0,i.tZ)(eh.H.EI1A,{image:"loadingError",content:"似乎出了点问题",buttonText:"重新加载",buttonOnClick:this.handleLoad});if(void 0!==a&&a&&o)return D.Z.isMobileEntry?(0,i.tZ)(eI,{query:r}):(0,i.BX)(i.HY,{children:["scholar"===c&&(0,i.tZ)(eH,{query:r}),(0,i.tZ)(ey,{onRef:function(t){return e.emptyNode=t},query:r,sensitiveLevel:d,antiSpider:u})]});var h=(0,i.tZ)(ev.Z,{children:(0,i.tZ)(ed.i,{className:"List-item",small:!0})});return(0,i.BX)(ed.ZP,{onRef:function(t){return e.listNode=t},isLoading:n,isDrained:o,onLoad:this.handleLoad,placeholder:h,tryLoadOnUpdate:!0,children:["scholar"===c&&(0,i.tZ)(eH,{query:r}),this.renderItems(),o&&("general"===c&&l.length<_.H6&&-1===d?(0,i.tZ)(eh.H.ET1A,{css:{padding:"8px 0 50px"},content:_.nD[c],buttonText:(0,i.tZ)(eg.x,{children:(0,i.tZ)("div",{children:"我要提问"})}),buttonOnClick:function(){}}):(0,i.BX)("div",{css:function(e){return{padding:"12px 0 50px",textAlign:"center",color:e.colors.GBK06A}},children:[(0,i.tZ)(eq,{center:!0,style:{marginRight:"16px"}}),_.nD.others,(0,i.tZ)(eq,{center:!0,style:{marginLeft:"16px",transform:"rotate(180deg)"}})]}))]})}}]),n}(p.Component);(0,R._)(eU,"propTypes",{renderItem:em().func.isRequired});var eD=(0,v.compose)((0,b.connect)(function(e,t){var n=e.entities,i=e.search,o=e.search.customFilter.keys,r=t.query,a=(0,eZ.Hu)(e),c=r.type,u=r.q,p=(0,d._)(r,["type","q"]),m=(0,_.hj)(void 0===c?"content":c),f=_.wD.no_limit,v=(0,_.YF)(m,f),g=v.keyNameInReducer,Z=v.keyNameInEntities,x=i.attachedInfo[g],y=i.nextOffset[g];if("general"===m){var b,w=o.map(function(e){return null!==(b=p[e])&&void 0!==b?b:""}).join("_"),k="".concat(u,"/").concat(w),S=null==y?void 0:y[k],B=x[k],I=i[g][k]||{isFetching:!1,isDrained:!1,ids:[],next:"",error:!1,sensitiveLevel:-1,warning:"",warnNotes:{},antiSpider:!1},C=I.isFetching,T=I.isDrained,z=I.ids,N=I.next,A=I.error,L=I.sensitiveLevel,E=I.warning,R=I.warnNotes,M=I.antiSpider,F=n[Z],H=z&&0===z.length,X=(N?(0,h.parse)(N.split("?")[1]):{}).vertical_info;return{showEmpty:H,isFetching:C,isDrained:T,items:z.map(function(e){var t,i,o,r=F&&F[e];if("scholar_result"===r.type)return r;if(r&&_.Iu.includes(r.type)){if(_.wG.includes(r.type))return r;if(["knowledge_ad","knowledge_result"].includes(r.type))return"paidAnswer"===r.object.schema?(0,s._)((0,l._)({},r),{object:r.object.id}):r;if("ebook_saltpick"===r.type)return r;var a=r.object,c=a.schema,d=a.id;if((null==r?void 0:null===(t=r.object)||void 0===t?void 0:t.type)==="roundtable"||(null==r?void 0:null===(i=r.object)||void 0===i?void 0:i.type)==="special"||(null==r?void 0:null===(o=r.object)||void 0===o?void 0:o.type)==="paid_column")return r;var u=(n["".concat(c,"s")]||n[c]||{})[d];if(u){var h=u.type;if(_.AU.includes(h))return(0,s._)((0,l._)({},r),{object:u})}}}).filter(Boolean),attachedInfo:B||{},nextOffset:S,verticalInfo:X,realType:m,error:A,sensitiveLevel:L,warning:E,warnNotes:R,antiSpider:M,isMobile:a}}if("people"===m){var j=i.peopleByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},P=j.isFetching,q=j.isDrained,U=j.ids,D=j.error,G=j.sensitiveLevel,O=j.antiSpider,K=n.searchPeople;return{showEmpty:U&&0===U.length,isFetching:P,isDrained:q,items:U.filter(function(e){return!!e}).map(function(e){var t=K[e]||{},i=t.object;return(0,s._)((0,l._)({},t),{object:(n.users||{})[i]})}),attachedInfo:x,nextOffset:y,realType:m,error:D,sensitiveLevel:G,antiSpider:O}}if("topic"===m){var W=i.topicByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},V=W.isFetching,Y=W.isDrained,Q=W.ids,$=W.error,J=W.sensitiveLevel,ee=W.antiSpider,et=n.searchTopic;return{showEmpty:Q&&0===Q.length,isFetching:V,isDrained:Y,items:Q.filter(function(e){return!!e}).map(function(e){var t=et[e]||{},i=t.object;return(0,s._)((0,l._)({},t),{object:(n.topics||{})[i]})}),attachedInfo:x,nextOffset:y,realType:m,error:$,sensitiveLevel:J,antiSpider:ee}}if("column"===m){var en=i.columnByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},ei=en.isFetching,eo=en.isDrained,er=en.ids,ea=en.error,ec=en.sensitiveLevel,el=en.antiSpider,es=n.searchColumn;return{showEmpty:er&&0===er.length,isFetching:ei,isDrained:eo,items:er.filter(function(e){return!!e}).map(function(e){var t=es[e]||{},i=t.object;return(0,s._)((0,l._)({},t),{object:(n.columns||{})[i]})}),attachedInfo:x,nextOffset:y,realType:m,error:ea,sensitiveLevel:ec,antiSpider:el}}if("live"===m){var ed=i.liveByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},eu=ed.isFetching,eh=ed.isDrained,ep=ed.ids,em=ed.error,ef=ed.sensitiveLevel,ev=ed.antiSpider,eg=n.searchLive;return{showEmpty:ep&&0===ep.length,isFetching:eu,isDrained:eh,items:ep.filter(function(e){return!!e}).map(function(e){if(n.searchKnowledge[e])return n.searchKnowledge[e];var t=eg[e]||{},i=t.object,o=i.schema,r=i.id;return(0,s._)((0,l._)({},t),{object:(n["".concat(o,"s")]||{})[r]})}).filter(Boolean),attachedInfo:x,nextOffset:y,realType:m,error:em,sensitiveLevel:ef,antiSpider:ev}}if("km_course"===m){var ex=i.kmCourseByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},ey=ex.isFetching,e_=ex.isDrained,eb=ex.ids,ew=ex.error,ek=ex.sensitiveLevel,eS=ex.antiSpider,eB=n.searchKnowledge;return{showEmpty:eb&&0===eb.length,isFetching:ey,isDrained:e_,items:eb.filter(function(e){return!!e}).map(function(e){if(n.searchKnowledge[e])return n.searchKnowledge[e];var t=eB[e]||{},i=t.object,o=i.schema,r=i.id;return(0,s._)((0,l._)({},t),{object:(n["".concat(o,"s")]||{})[r]})}).filter(Boolean),attachedInfo:x,nextOffset:y,realType:m,error:ew,sensitiveLevel:ek,antiSpider:eS}}if("album"===m){var eI=i.albumByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},eC=eI.isFetching,eT=eI.isDrained,ez=eI.ids,eN=eI.error,eA=eI.sensitiveLevel,eL=eI.antiSpider,eE=n.searchAlbum;return{showEmpty:ez&&0===ez.length,isFetching:eC,isDrained:eT,items:ez.filter(function(e){return!!e}).map(function(e){if(n.searchKnowledge[e])return n.searchKnowledge[e];var t=eE[e]||{},i=t.object;return(0,s._)((0,l._)({},t),{object:(n.albums||{})[i]})}),attachedInfo:x,nextOffset:y,realType:m,error:eN,sensitiveLevel:eA,antiSpider:eL}}if("publication"===m){var eR=i.eBookByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},eM=eR.isFetching,eF=eR.isDrained,eH=eR.ids,eX=eR.error,ej=eR.sensitiveLevel,eP=eR.antiSpider,eq=n.searchEBook;return{showEmpty:eH&&0===eH.length,isFetching:eM,isDrained:eF,items:eH.filter(function(e){return!!e}).map(function(e){if(n.searchKnowledge[e])return n.searchKnowledge[e];var t=eq[e]||{},i=t.object;return(0,s._)((0,l._)({},t),{object:(n.ebooks||{})[i]})}),attachedInfo:x,nextOffset:y,realType:m,error:eX,sensitiveLevel:ej,antiSpider:eP}}if("km_general"===m){var eU=i.kmGeneralByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},eD=eU.isFetching,eG=eU.isDrained,eO=eU.ids,eK=eU.error,eW=eU.sensitiveLevel,eV=eU.antiSpider,eY=n.searchKmGeneral;return{showEmpty:eO&&0===eO.length,isFetching:eD,isDrained:eG,items:eO.filter(function(e){return!!e}).map(function(e){if(n.searchKnowledgeGeneral[e])return n.searchKnowledgeGeneral[e];var t=eY[e]||{},i=t.object;return(0,s._)((0,l._)({},t),{object:(n.ebooks||{})[i]})}),attachedInfo:x,nextOffset:y,realType:m,error:eK,sensitiveLevel:eW,antiSpider:eV}}if("zvideo"===m){var eQ=i.zvideoByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1,antiSpider:!1},e$=eQ.isFetching,eJ=eQ.isDrained,e0=eQ.ids,e1=eQ.error,e2=eQ.sensitiveLevel,e3=eQ.antiSpider,e5=n.searchZvideo;return{showEmpty:e0&&0===e0.length,isFetching:e$,isDrained:eJ,items:e0.reduce(function(e,t){if(!t)return e;var i=e5[t]||{},o=i.object;return e.push((0,s._)((0,l._)({},i),{object:(n.zvideos||{})[o]})),e},[]),attachedInfo:x,nextOffset:y,realType:m,error:e1,sensitiveLevel:e2,antiSpider:e3}}if("scholar"===m){var e4=i.scholarByQuery[u]||{isFetching:!1,isDrained:!1,ids:[],error:!1,sensitiveLevel:-1},e8=e4.isFetching,e6=e4.isDrained,e9=e4.ids,e7=e4.error,te=e4.sensitiveLevel,tt=n.searchScholar;return{showEmpty:e9&&0===e9.length,isFetching:e8,isDrained:e6,items:e9.reduce(function(e,t){if(!t)return e;var i=tt[t]||{},o=i.object;return e.push((0,s._)((0,l._)({},i),{object:(n.scholar||{})[o]})),e},[]),attachedInfo:x,nextOffset:y,realType:m,error:e7,sensitiveLevel:te}}return{isFetching:!1,isDrained:!1,items:[],attachedInfo:x,nextOffset:y,realType:m,error:!1,sensitiveLevel:-1,antiSpider:!1}},{loadSearch:$.bX,loadCustomFilterTags:$.vP}),(0,w.a)({module:"SearchResultList"}))(eU),eG=n(28753),eO=n(74847),eK=n(3028),eW=function(e){return(0,i.tZ)(ef.Text,(0,s._)((0,l._)({},e),{color:"GBK06A",fontSize:"14px",lineHeight:"15px",mr:"8px",children:e.text}))},eV={paid_magazine:{label:"付费杂志",type:"paid_magazine"},paper:{label:"期刊论文",type:"paper"},paid_article:{label:"付费文章",type:"column"}},eY=(0,eK.Z)(null)(function(e){var t,n=e.item,o=e.toScholar,r=void 0!==o&&o,a=e.query,c=n.highlight,l=void 0===c?{}:c,s=l.keywords,d=l.title,u=l.description,h=n.object,p=void 0===h?{}:h,m=p.authors,f=p.journal,v=p.period,g=p.type,Z=p.voteupCount,x=p.commentCount,y=p.citedBy,_=p.url,b=p.attachedInfoBytes,w=r?[f&&"《".concat(f,"》"),v,y&&"".concat(y," 引用量")]:[null===(t=eV[g])||void 0===t?void 0:t.label,Z&&"".concat(Z," 赞同"),x&&"".concat(x," 评论"),f&&"《".concat(f,"》"),v,y&&"".concat(y," 引用量")];return(0,i.BX)("div",{css:function(e){return{borderBottom:"1px solid ".concat(e.colors.GBK10A),backgroundColor:e.colors.GBK99A,marginBottom:"12px",paddingBottom:"12px"}},children:[(0,i.BX)(eO.Z,{zaBlock:"ScholarResult",shouldTrackShow:!0,zaType:"Card",zaText:"学术论文",extra:{attachedInfoBytes:b},href:_,target:"_blank",css:function(e){return{display:"block",marginTop:"12px",padding:r?"20px":"12px",paddingBottom:"0px",backgroundColor:e.colors.GBK99A,em:{fontStyle:"inherit",color:e.colors.GRD12A}}},children:[(0,i.tZ)(ef.Text,{fontWeight:"bold",fontSize:r?16:18,lineHeight:"29px",css:(0,eu.S)(2),dangerouslySetInnerHTML:{__html:d}}),!1===r&&!!(null==m?void 0:m.join(""))&&(0,i.tZ)(ef.Flex,{mt:"8px",css:(0,eu.S)(2),children:(0,i.tZ)(eW,{text:"作者：".concat(m.join(" "))})}),r&&!!(null==m?void 0:m.join(""))&&(0,i.tZ)(ef.Flex,{mt:"8px",css:(0,eu.S)(2),children:(0,i.tZ)(eW,{text:"作者：".concat(m.join(" ")," \xb7").concat(w.filter(function(e){return e}).join(" \xb7 "))})}),(0,i.tZ)(ef.Text,{mt:"8px",fontSize:r?14:15,css:(0,eu.S)(2),dangerouslySetInnerHTML:{__html:u}}),(null==s?void 0:s.length)&&(0,i.tZ)(ef.Text,{mt:"8px",fontSize:r?14:15,lineHeight:"22px",css:(0,eu.S)(1),dangerouslySetInnerHTML:{__html:"关键词：".concat(s)}}),!1===r&&(0,i.tZ)(eW,{mt:"8px",text:w.filter(function(e){return e}).join(" \xb7 ")})]}),r&&(0,i.tZ)(eO.Z,{target:"_blank",extra:{attachedInfoBytes:b},href:"/search?q=".concat(a,"&type=scholar"),zaText:"学术论文",zaBlock:"ScholarResult",shouldTrackClick:!0,zaType:"Card",children:(0,i.BX)("div",{css:function(e){return{color:e.colors.GBL07A,cursor:"pointer",marginLeft:"20px",marginTop:"8px",fontSize:"14px"}},children:["查看更多「学术文章」搜索结果",(0,i.tZ)(eG.f,{center:!0})]})})]})}),eQ=n(53910),e$=n(46829),eJ=n(57177),e0=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"handleFollowButtonClick",function(t){var n=e.props.topic.object.isFollowing;return j.Z.trackEvent(t.target,(0,_.ah)(n)),!0}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.topic,t=e.highlight,n=void 0===t?{}:t,r=n.title,a=n.description,c=e.object,s=e.object,d=s.type,u=s.id,h=s.name,p=s.description,m=s.questionsCount,f=s.topAnswerCount,v=s.visitCount,g=s.isFollowing,Z=this.props,x=Z.query,y=Z.showMore,_=(0,i.tZ)("span",{className:"Highlight",dangerouslySetInnerHTML:{__html:r||h}}),b="//www.zhihu.com/topic/".concat(u),w=D.Z.isMobileEntry?{onClick:function(){window.open(b)},isSearchContent:!0}:{};return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(eo.ZP,(0,l._)({image:(0,i.tZ)("div",{className:"SearchItem-avatarWrapper",children:(0,i.tZ)(eJ.Z,{avatar:!0,avatarProps:{size:60,alt:"打开话题页"},topic:c,target:"_blank"})}),data:c.object,link:b,title:(0,i.BX)("div",{children:[(0,i.tZ)(eJ.Z,{target:"_blank",topic:c,"data-za-detail-view-id":3942,children:_}),y&&(0,i.tZ)("span",{className:"SearchItem-type",children:"话题"})]}),meta:(0,i.BX)("div",{children:[(0,i.tZ)(ee.Z,{className:"SearchItem-meta Highlight",html:a||p||""}),!(void 0===v||void 0===m||void 0===f)&&(0,i.BX)("div",{className:"ContentItem-status",children:[(0,i.tZ)(o.Link,{className:"Search-statusLink",to:"/topic/".concat(u,"/followers"),target:"_blank",children:"".concat((0,et.Zh)(Number(v))," 浏览")}),(0,i.tZ)(en.Z,{}),(0,i.tZ)(o.Link,{className:"Search-statusLink",to:"/topic/".concat(u,"/top-answers"),target:"_blank",children:"".concat((0,et.Zh)(Number(f))," 讨论")})]}),y&&(0,i.BX)("div",{className:"Search-more",children:[(0,i.tZ)(o.Link,{target:"_blank",to:"/search?q=".concat(x,"&type=topic"),"data-za-detail-view-element_name":"ViewAll",children:"查看更多「话题」搜索结果"}),(0,i.tZ)(J.N,{size:20,fill:"#175199"})]})]}),extra:D.Z.isMobileEntry?(0,i.BX)(e$.Z,{onClick:this.handleFollowButtonClick,id:u,type:d,isFollowing:g,useCustomZa:!0,children:[(0,i.tZ)(eQ.nY,{className:"FollowButton-icon",text:!0,center:!0},"icon"),"关注"]}):(0,i.tZ)(e$.Z,{onClick:this.handleFollowButtonClick,id:u,type:d,isFollowing:g,preset:"primary",useCustomZa:!0})},w))})})}}]),n}(p.Component),e1=(0,w.a)(function(e){var t=e.topic.object,n=void 0===t?{}:t,i=e.zaInfo,o=(void 0===i?{}:i).cardShowId;return{view:{id:void 0===o?3950:o},module:"TopicItem",attachedInfoBytes:n.attachedInfoBytes,index:e.index.toString(),content:{type:"Topic",token:n.id},trackCardShow:!0}})(e0),e2=n(21932),e3=n(94226),e5=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"handleFollowButtonClick",function(t){var n=e.props.user.object.isFollowing;return j.Z.trackEvent(t.target,(0,_.ah)(n)),!0}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.user,t=e.highlight,n=void 0===t?{}:t,r=n.title,a=n.description,c=e.object,d=e.object,u=void 0===d?{}:d,h=u.name,p=u.headline,m=u.type,f=u.urlToken,v=u.articlesCount,g=u.answerCount,Z=u.followerCount,x=u.isFollowing,y=u.userType,_=u.gender,b=this.props,w=b.query,S=b.showMore,B=b.currentUser,I=(0,i.tZ)("span",{className:"Highlight",dangerouslySetInnerHTML:{__html:r||h}}),C=!(void 0===Z||void 0===v||void 0===g),T="organization"===y,z=(0,s._)((0,l._)({},c),{isOrg:T}),N="/".concat(T?"org":"people","/").concat(f),A=D.Z.isMobileEntry?{onClick:function(){window.open(N)},isSearchContent:!0}:{};return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(eo.ZP,(0,l._)({image:(0,i.tZ)("div",{className:"SearchItem-avatarWrapper",children:(0,i.tZ)(e3.Z,{avatarProps:{size:60,alt:"打开用户主页"},user:z,target:"_blank"})}),data:z,link:N,title:(0,i.BX)("div",{className:"SearchItem-userTitleWrapper",children:[(0,i.tZ)(e2.Z,{target:"_blank",className:"SearchItem-userTitle",user:z,"data-za-detail-view-id":3942,children:I}),S&&(0,i.tZ)("span",{className:"SearchItem-type",children:"用户"})]}),meta:(0,i.BX)("div",{children:[(0,i.tZ)(ee.Z,{className:"SearchItem-meta Highlight",html:a||p||""}),C&&(0,i.BX)("div",{className:"ContentItem-status",children:[(0,i.tZ)(o.Link,{className:"Search-statusLink",to:"".concat(N,"/answers"),target:"_blank",children:"".concat((0,et.uf)(g)," 回答")}),(0,i.tZ)(en.Z,{}),(0,i.tZ)(o.Link,{className:"Search-statusLink",to:"".concat(N,"/posts"),target:"_blank",children:"".concat((0,et.uf)(v)," 文章")}),(0,i.tZ)(en.Z,{}),(0,i.tZ)(o.Link,{className:"Search-statusLink",to:"".concat(N,"/followers"),target:"_blank",children:"".concat((0,et.uf)(Z)," 关注者")})]}),S&&(0,i.BX)("div",{className:"Search-more",children:[(0,i.tZ)(o.Link,{target:"_blank",to:"/search?q=".concat(w,"&type=people"),"data-za-detail-view-element_name":"ViewAll",children:"查看更多「用户」搜索结果"}),(0,i.tZ)(J.N,{size:20,fill:"#175199"})]})]}),extra:!(B&&B.urlToken===f)&&(D.Z.isMobileEntry?(0,i.BX)(e$.Z,{onClick:this.handleFollowButtonClick,id:f,type:m,isFollowing:x,useCustomZa:!0,children:[(0,i.tZ)(eQ.nY,{className:"FollowButton-icon",text:!0,center:!0},"icon"),"关注"]}):(0,i.tZ)(e$.Z,{onClick:this.handleFollowButtonClick,id:f,type:m,isFollowing:x,gender:_,preset:"primary",useCustomZa:!0}))},A))})})}}]),n}(p.Component),e4=(0,v.compose)(x.Z,(0,w.a)(function(e){var t=e.user.object,n=void 0===t?{}:t,i=n.id,o=n.attachedInfoBytes,r=e.zaInfo,a=(void 0===r?{}:r).cardShowId;return{view:{id:void 0===a?3950:a},module:"UserItem",attachedInfoBytes:o,index:e.index.toString(),content:{type:"User",member_hash_id:i},trackCardShow:!0}}))(e5),e8=n(83697),e6=n(58216),e9=n(71890),e7=n(1733),te=n(2930),tt=n(88423),tn=n(98151),ti=n(19495),to=n(99830),tr=n(63362),ta=n(102),tc=n(96611),tl=n(83512),ts=n(24794),td=n(30037),tu=n(98211),th=n(88329),tp=n.n(th),tm=n(7237),tf=n(82058),tv=function(e){var t=e.className,n=e.contentType,o=e.id,r=e.zaContentType,a=e.postionProps,c=e.data,d=e.actionButtons,u=void 0===d?[]:d,h=e.authRequired,p=void 0===h?tp():h;return(0,i.tZ)(td.xM,{data:c,children:(0,i.tZ)(tf.Z,(0,s._)((0,l._)({},a),{useProvider:!1,children:(0,i.tZ)(tu.Rj,{loginCheck:p([function(){return!0},function(){return!1}]),contentType:n,contentId:o,zaContentType:r,children:(0,i.tZ)(tm.Z,{className:t,renderChildren:function(){return u},css:{padding:0,background:"transparent"}})})}))})},tg=n(32122),tZ=n(65939),tx=n(1785),ty=n(89694),t_=n(85576),tb=n(58909),tw=n(41492),tk=n(1606),tS=n(72111);function tB(e){var t=e.url,n=e.title,r=e.clickId,a=e.isSelfOpen;return(0,i.tZ)(tS._o,{zaAction:"OpenUrl",zaEventType:"Click",zaText:"标题跳转",zaType:"Text",children:(0,i.tZ)(o.Link,{to:t,target:void 0!==a&&a?"_self":"_blank","data-za-detail-view-id":r||3942,href:t,children:n})})}var tI=n(71783);function tC(e){var t=e.className,n=e.onClick,o=e.isThanked,r=e.usePrayText;return(0,i.tZ)(eN.ZP,{className:t,preset:"plain",onClick:n,icon:tI.sh,label:r?o?"取消祈祷":"祈祷":o?"取消喜欢":"喜欢"})}tC.propTypes={onClick:em().func.isRequired,isThanked:em().bool};var tT=(0,v.compose)((0,tk.Ib)(function(e){var t=e.item;return{content:{type:"Zvideo",token:String(t.object.zvideoId)},extra:{mediaInfo:{videoInfo:{videoId:t.object.zvideoId}}}}}),(0,w.a)(function(e){var t=e.item,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId,o=t.object,r=o.attachedInfoBytes,a=o.zvideoId;return{view:{id:void 0===i?3950:i},module:"Content",attachedInfoBytes:r,index:e.index.toString(),content:{type:"Zvideo",token:a.toString()},trackCardShow:!0}}),t_.Z)(function(e){var t,n,o,r=e.item,a=e.authRequired,c=(0,e8.n)().Mobile,d=(0,b.useDispatch)(),u=r.object,h=r.object,m=h.description,f=h.coverUrl,v=h.videoId,g=h.title,Z=h.voteupCount,x=h.voting,y=h.commentCount,_=h.zvideoId,w=h.createdAt,S=h.author,B=h.isLiked,I=h.duration,C=h.attachedInfoBytes,T=r.type,z="/zvideo/".concat(_),N=(0,b.useSelector)(function(e){return(0,tb.ib)(e)}),A=(0,b.useSelector)(function(e){var t;return null===(t=e.entities.users)||void 0===t?void 0:t[S]}),E=A.name&&A.name.replace(/<\/?em>/g,""),R=(0,s._)((0,l._)({},A),{name:E}),M=(0,tx.Z)(N,A),F=(0,eC._)((0,p.useState)(!1),2),H=F[0],P=F[1],q=(0,eC._)((0,p.useState)(null),2),U=q[0],G=q[1],O=(0,eC._)((0,p.useState)(null),2),K=O[0],W=O[1],V=(0,eC._)((0,p.useState)(null),2),Y=V[0],Q=V[1],$=(0,eC._)((0,p.useState)(null),2),J=$[0],ee=$[1],et=(0,eC._)((0,p.useState)(!1),2),en=et[0],ei=et[1],ea=(0,eC._)((0,p.useState)(!1),2),el=ea[0],es=ea[1],ed=(0,eC._)((0,p.useState)({commentsShown:!1,commentsAutoFocus:!0,commentPattern:"fixed"}),2),eu=ed[0],eh=ed[1],ep={cardShowId:3950,clickId:3942,expandId:3937},em=(0,i.tZ)("span",{className:"Highlight",ref:function(e){e&&null===J&&ee(e.textContent)},dangerouslySetInnerHTML:{__html:g}}),ef=(0,p.useCallback)(function(e){d((0,tw.qO)(_,{up:1,neutral:0,down:-1}[e]))},[_,d]),ev=(0,p.useCallback)(function(e,t){return eh(t)},[]),eg=a(function(e){j.Z.trackEvent(e.target,{action:B?"UnThank":"Thank",element:"Button"}),d((0,tw.SL)(_,!B))},ec.q0.thank),eZ=D.Z.isMobileEntry?{onClick:function(){window.open(z)},isSearchContent:!0}:{};return(0,i.tZ)(k.ZP,{role:"listitem",className:X()("SearchResult-Card",{"SearchResult-CardWithImage":D.Z.isMobileEntry&&f}),children:(0,i.tZ)(er.Z,{children:(0,i.BX)(eo.ZP,{className:X()("ZvideoItem",{"ZvideoItem-mobile":c}),data:r.object,link:z,name:v,itemType:"http://schema.org/Zvideo",title:(0,i.BX)("div",{itemProp:"zhihu:zvideo",itemType:"http://schema.org/Zvideo",itemScope:!0,children:[(0,i.tZ)("meta",{itemProp:"url",content:"https://www.zhihu.com/zvideo/".concat(v)}),(0,i.tZ)("meta",{itemProp:"name",content:J||""}),(0,i.tZ)(tB,{clickId:ep.clickId,url:z,title:em})]}),itemScope:!0,children:[en&&v&&(0,i.tZ)(p.Fragment,{children:(0,i.tZ)("div",{className:"SearchItem-meta SearchItem-authorInfo",children:(0,i.tZ)(tn.Z,{preset:"plain",author:R})})}),en&&v&&(0,i.tZ)("div",{className:"ZVideoItem-video",children:(0,i.tZ)(tg.Z,{useSingle:!0,contentId:r.object.id||r.object.zvideoId,contentType:null!==(o=null===(n=r.object)||void 0===n?void 0:n.type)&&void 0!==o?o:"",videoId:v,zaProps:{token:_,type:"Zvideo",attachedInfo:C}})}),(0,i.tZ)(tl.Z,(0,s._)((0,l._)((0,s._)((0,l._)({className:X()({Highlight:!en}),excerpt:(0,e9.Z)(m,100,"...",110),html:m},!c&&{cover:f}),{hasVideo:!0,duration:(0,ty.LU)(I),truncateDisabled:!0,allowCollapseWithEmptyExcerpt:!0,expanded:en,onToggleExpend:function(e){ei(!!e)},zaIds:{expand:ep.expandId}}),eZ),{data:(0,s._)((0,l._)({},r.object),{id:_}),children:(0,i.tZ)(tv,{data:u,id:_,contentType:"zvideo",actionButtons:[{name:"vote",component:(0,i.tZ)(tZ.Z,{type:T,count:Z,onVote:ef,voting:x,isOwner:!1,zaIds:{voteUp:3938,voteDown:3940}})},{name:"comment",component:(0,i.tZ)(ti.Z,{onClick:ev,commentsShown:eu.commentsShown,commentClosed:!1,count:y,positionStatus:"normal",zaInfos:{toggleComment:3943}})},{name:"time",component:!en&&w&&!D.Z.isMobileEntry&&(0,i.tZ)("span",{className:"SearchItem-time",children:(0,L.S9)(w)})},{name:"share",component:en&&(0,i.tZ)(ts.Z,{id:_,type:"zvideo",title:J||"",authorName:S&&S.name,href:z,zaShareId:3945})},{name:"favlist",component:en&&(0,i.tZ)(tr.Z,{onRef:function(e){return W(e)},onClick:function(){a(function(){j.Z.trackEvent(K,{id:3944,action:"Collect",element:"Button",is_intent:!0}),es(!0)},ec.q0.favlists)()},label:"收藏"})},{name:"thank",component:en&&!M&&(0,i.tZ)(tC,{onClick:eg,isThanked:B})},{name:"other",component:en&&(t={toggler:(0,i.tZ)(eN.ZP,{onRef:function(e){return Q(e)},preset:"plain",style:{padding:"0 1px"},icon:e6.AZ}),onOpen:function(){j.Z.trackEvent(Y,{action:"Click",element_name:"MoreAction"})},reversed:!0,menuClassName:"AnswerItem-selfMenu",itemClassName:"AnswerItem-selfMenuItem"},M?null:(0,i.tZ)(e7.ZP,(0,s._)((0,l._)({ref:function(e){return G(e)}},t),{children:(0,i.tZ)(e7.sN,{onClick:function(){a(function(){P(!0),j.Z.trackEvent(U,{id:3946,action:"Report",element:"Button",is_intent:!0})},ec.q0.report)()},children:"举报"})})))}]})})),(0,i.tZ)(to.Z,{className:"ZVideoItem-comment",containerClassName:"ZVideoItem-commentContainer",parent:{author:A,voteupCount:Z,id:_,commentCount:y,title:g,voting:x,type:T},shown:eu.commentsShown,commentPattern:eu.commentPattern,autoFocus:eu.autoFocus,onClose:function(){return eh((0,s._)((0,l._)({},eu),{commentsShown:!1}))},commentInputPosition:"bottom",showPackupButton:!0}),D.Z.isMobileEntry&&f&&(0,i.BX)("div",{className:"SearchItem-rightImg",children:[(0,i.tZ)("img",{src:(0,tt.imgUrl)(f,"xl"),className:"SearchItem-rightImgCover",onClick:function(){window.open(z)},alt:""}),(0,i.tZ)(te.o,{className:X()("ZvideoBoxItem-player",{"ZvideoBoxItem-playerMobile":c})}),(0,i.tZ)("div",{className:X()("ZvideoBoxItem-mask",{"ZvideoBoxItem-maskMobile":c})}),(0,i.tZ)("div",{className:"ZvideoBoxItem-duration",children:(0,ty.LU)(I)})]}),(0,i.tZ)(ta.E,{id:_,type:"zvideo",shown:el,onClose:function(){es(!1)},zaEnabled:!0}),(0,i.tZ)(tc.y,{type:"zvideo",urlToken:_,shown:H,onClose:function(){P(!1)},zaEnabled:!0})]})})})}),tz=n(95886),tN=n(27660),tA=n(68900),tL=n(23579),tE=n(24405),tR=n(21117),tM=n(58792),tF=n(81956),tH=function(e){var t=e.tabs,n=e.currentIndex,o=e.setCurrentIndex;return(0,i.tZ)("div",{css:function(e){return{borderTopLeftRadius:"6px",borderTopRightRadius:"6px",backgroundColor:e.colors.GBK10A,fontSize:"14px",lineHeight:"20px"}},children:(0,i.tZ)(ef.Flex,{alignItems:"center",children:t.map(function(e,t){var r=n===t;return(0,i.tZ)(ef.Box,{width:88,pt:"8px",pb:"8px",px:"0px",textAlign:"center",css:function(e){return{position:"relative",cursor:"pointer",fontWeight:r?e.fontWeights.bold:"",color:r?e.colors.GBL01A:e.colors.GBK03A,"&::after":r?{content:'" "',display:"block",width:12,height:3,position:"absolute",bottom:0,left:"42%",borderRadius:3,backgroundColor:e.colors.GBL01A}:{}}},onClick:function(){return o(t)},children:e},t)})})})};function tX(e){return e>0&&e<5?e-1:0}var tj=function(e){var t=e.data,n=e.tabs,o=e.tabComponentMap,r=t.gaokaoEvent.anchorPoint,a=(0,eC._)((0,p.useState)(tX(r)),2),c=a[0],l=a[1];(0,p.useEffect)(function(){l(tX(r))},[r]);var s=o[c];return(0,i.BX)("div",{css:{margin:"0 16px 24px 16px"},children:[(0,i.tZ)(tH,{currentIndex:c,tabs:n,setCurrentIndex:l}),(0,i.tZ)("div",{css:function(e){return{border:"1px solid ".concat(e.colors.GBK10A),borderTop:"none",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px"}},children:(0,i.tZ)(s,{data:t})})]})},tP=function(e){var t=e.desc;return(0,i.tZ)(ef.Box,{height:124,textAlign:"center",lineHeight:"124px",fontSize:"15px",color:"GBK06A",children:t})},tq=n(60620),tU=n(88286),tD={marginLeft:2,marginTop:2},tG=function(e){var t=e.list,n=e.setBatchList,o=(0,eC._)((0,p.useState)(!0),2),r=o[0],a=o[1];return t.length>5&&(0,i.BX)("button",{css:function(e){return{margin:"0 auto",display:"flex",color:e.colors.GBK03A,fontSize:14,marginTop:20}},onClick:function(){r?n((0,M._)(t)):n((0,M._)(t.slice(0,5))),a(!r)},children:[r?"展开":"收起",r?(0,i.tZ)(tq.Z,{center:!0,css:(0,l._)({},tD),size:14}):(0,i.tZ)(tU.Z,{center:!0,css:(0,l._)({},tD),size:14})]})},tO=function(e){var t=e.list,n=(0,eC._)((0,p.useState)((0,M._)(t.slice(0,5))),2),o=n[0],r=n[1];return(0,p.useEffect)(function(){r((0,M._)(t.slice(0,5)))},[t]),(0,i.BX)(i.HY,{children:[o.map(function(e,t){var n=e.name,o=e.startTime,r=e.endTime,a=new Date(1e3*o),c=new Date(1e3*r),s="".concat(a.getMonth()+1," 月 ").concat(a.getDate()," 日"),d="".concat(c.getMonth()+1," 月 ").concat(c.getDate()," 日");return(0,i.BX)(ef.Flex,{fontSize:"14px",color:"GBK02A",mt:"12px",lineHeight:"19px",children:[(0,i.tZ)(ef.Box,{width:.5,css:(0,l._)({},(0,eu.S)(2)),pl:"16px",children:n}),(0,i.tZ)(ef.Box,{width:.5,pl:"16px",children:"".concat(s,"-").concat(d)})]},t)}),(0,i.tZ)(tG,{list:t,setBatchList:r})]})},tK=function(e){var t=e.list,n=e.hasPublished,o=e.url,r=e.desc,a=e.timeDesc,c=e.queryButtonText;return n?(0,i.BX)(ef.Box,{pb:24,children:[(0,i.BX)(ef.Flex,{fontSize:"13px",color:"GBK06A",lineHeight:"20px",pt:16,children:[(0,i.tZ)(ef.Box,{width:.5,pl:"16px",children:"批次"}),(0,i.tZ)(ef.Box,{width:.5,pl:"16px",children:a})]}),(0,i.tZ)(tO,{list:t}),(0,i.tZ)(tS.pl,{zaType:"Card",zaBlock:"QueryButton_GaoKao",href:o,children:(0,i.tZ)("div",{css:function(e){return{width:190,height:36,borderRadius:20,boxSizing:"border-box",textAlign:"center",lineHeight:"36px",backgroundColor:e.colors.GBK10A,fontSize:15,fontWeight:e.fontWeights.bold,margin:"0 auto",color:e.colors.GBK06A,marginTop:t.length>5?24:28}},children:c})})]}):(0,i.tZ)(tP,{desc:r})},tW=n(52244),tV=function(e){return e.timeList.map(function(e,t){var n=e.timeText,o=e.examTime,r=e.subject,a=e.addUnderLine;return(0,i.BX)(i.HY,{children:[a&&(0,i.tZ)(ef.Box,{mt:"12px",mx:"16px",css:function(e){return(0,l._)({},(0,tW.M)({borderTop:"1px solid ".concat(e.colors.GBK10A)}))}}),(0,i.BX)(ef.Flex,{pt:"12px",fontSize:"14px",color:"GBK02A",lineHeight:"19px",children:[(0,i.tZ)(ef.Box,{width:1/3,pl:"16px",fontWeight:"bold",children:n}),(0,i.tZ)(ef.Box,{width:1/3,pl:"16px",children:o}),(0,i.tZ)(ef.Box,{width:1/3,pl:"16px",children:r})]},t)]})})},tY=function(e){var t=e.timeList;return(0,i.tZ)(tV,{timeList:t?t.map(function(e,t,n){var i,o=e.startTime,r=new Date(1e3*o);if(0===t)return(0,s._)((0,l._)({},e),{timeText:"".concat(r.getMonth()+1," 月 ").concat(r.getDate()," 日"),addUnderLine:!1});var a=new Date((null===(i=n[t-1])||void 0===i?void 0:i.startTime)*1e3);return r.getMonth()!==a.getMonth()||r.getDate()!==a.getDate()?(0,s._)((0,l._)({},e),{timeText:"".concat(r.getMonth()+1," 月 ").concat(r.getDate()," 日"),addUnderLine:!0}):(0,s._)((0,l._)({},e),{timeText:"",addUnderLine:!1})}):[]})},tQ=["日期","时间","科目"],t$=[function(e){var t=e.data.gaokaoEvent.gaokaoTime;return t?t.some(function(e){return null==e?void 0:e.hasPublished})?(0,i.BX)(ef.Box,{pb:"24px",pt:"16px",children:[(0,i.tZ)(ef.Flex,{fontSize:"13px",color:"GBK06A",lineHeight:"20px",children:tQ.map(function(e,t){return(0,i.tZ)(ef.Box,{width:1/3,pl:"16px",children:e},t)})}),(0,i.tZ)(tY,{timeList:t})]}):(0,i.tZ)(tP,{desc:"暂未公布高考时间"}):(0,i.tZ)(tP,{desc:"暂无数据"})},function(e){var t=e.data.gaokaoEvent.scoreInquiry;if(!t)return(0,i.tZ)(tP,{desc:"暂未数据"});var n=t.hasPublished,o=t.url,r=t.timeDesc;return n?(0,i.BX)(ef.Box,{py:"24px",px:"0px",color:"GBK06A",lineHeight:"20px",fontSize:"13px",children:[(0,i.tZ)("div",{css:{marginBottom:"20px",textAlign:"center"},children:r}),(0,i.tZ)(tS.pl,{zaType:"Card",zaBlock:"QueryButton_GaoKao",href:o,children:(0,i.tZ)("div",{css:function(e){return{width:190,height:36,borderRadius:20,boxSizing:"border-box",textAlign:"center",lineHeight:"36px",backgroundColor:e.colors.GBK10A,fontSize:15,margin:"0 auto",color:e.colors.GBK06A,fontWeight:e.fontWeights.bold}},children:"官方成绩查询入口"})})]}):(0,i.tZ)(tP,{desc:r})},function(e){var t=e.data.gaokaoEvent.collegeApplication;if(!t)return(0,i.tZ)(tP,{desc:"暂无数据"});var n=t.url,o=t.hasPublished,r=t.applicationBatch;return(0,i.tZ)(tK,{desc:"暂未公布填报时间",timeDesc:"填报时间",list:r,url:n,hasPublished:o,queryButtonText:"官方志愿填报入口"})},function(e){var t=e.data.gaokaoEvent.matriculateInquiry;if(!t)return(0,i.tZ)(tP,{desc:"暂无数据"});var n=t.url,o=t.hasPublished,r=t.matriculateBatch;return(0,i.tZ)(tK,{desc:"暂未公布查询时间",timeDesc:"查询时间",list:r,url:n,hasPublished:o,queryButtonText:"官方录取查询入口"})}],tJ=["高考时间","成绩查询","志愿填报","录取查询"],t0=function(e){var t,n=e.data,o=n.gaokaoEvent,r=o.province,a=o.allProvince,c=(0,eC._)((0,p.useState)(!1),2),s=c[0],d=c[1],u=(0,eC._)((0,p.useState)((null===(t=a.find(function(e){return e.id===r}))||void 0===t?void 0:t.name)||""),2),h=u[0],m=u[1],f=(0,eC._)((0,p.useState)(n),2),v=f[0],g=f[1],Z=(0,tF.Z)(),x=(0,p.useRef)();return(0,i.tZ)(P.eV,{block:"AnniversaryActivity",children:(0,i.BX)(P.Wi,{zaBlock:"Schedule_GaoKao",zaType:"Block",children:[(0,i.BX)("div",{children:[(0,i.BX)(ef.Flex,{alignItems:"center",px:"20px",pt:"20px",justifyContent:"space-between",mb:"15px",children:[(0,i.tZ)(ef.Text,{fontWeight:"bold",lineHeight:"24px",fontSize:"17px",color:"GBK02A",children:"高考日程"}),(0,i.tZ)(P.$U,{zaType:"Button",zaBlock:"CityChoose_GaoKao",children:(0,i.BX)("button",{css:function(e){return{height:"28px",display:"flex",alignItems:"center",borderRadius:"100px",border:"1px solid ".concat(e.colors.GBK09A),fontSize:"14px",lineHeight:"14px",boxSizing:"border-box",padding:"7px 16px 7px 8px"}},onClick:function(){d(!s)},ref:x,children:[(0,i.tZ)(tM.Z,{css:function(e){return{color:e.colors.GBL01A}},center:!0,size:16}),(0,i.tZ)("span",{css:{marginLeft:"4px"},children:h})]})})]}),(0,i.tZ)(tR.Z,{isOpen:s,options:a,target:x.current,defaultValue:h,isScroll:!0,hiddenScrollBar:!0,onChange:function(e){Z("/api/v4/search/gaokao/gaokao_event",{method:"GET",query:{province:e.id,years:new Date().getFullYear()}}).then(function(e){var t=e.res.payload,n=t.success,i=t.events;n&&g((0,l._)({},{gaokaoEvent:i}))}),m(e.name),d(!1)},onClose:function(){d(!1)}})]}),(0,i.tZ)(tj,{data:v,tabs:tJ,tabComponentMap:t$})]})})},t1=function(e){var t=e.item,n=e.userLogin,r=e.color,a=t.attachedInfoBytes,c=t.name,l=t.link,s=t.isLogin;return(0,i.tZ)(P.$U,{zaType:"Button",zaAction:"OpenUrl",zaEventType:"Click",shouldTrackShow:!0,zaBlock:"Item_Icon_AnniversaryActivity",zaText:c,extra:{attachedInfoBytes:a,link:{url:s&&!n?"https://www.zhihu.com/signin?next=".concat(encodeURIComponent(location.href)):l}},css:{fontSize:"14px",fontWeight:500,color:r,lineHeight:"20px",height:"40px",minWidth:"126px",borderRadius:"4px",backgroundColor:(0,tL.a)(r).alpha(.44),"&:hover":{backgroundColor:(0,tL.a)(r).alpha(.2)}},children:(0,i.tZ)(o.Link,{target:"_blank",to:s&&!n?"https://www.zhihu.com/signin?next=".concat(location.href):l,onClick:function(e){return e.stopPropagation()},css:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:c})})},t2=function(e){var t=e.item,n=(0,tE.F)().colors.GBK99B,o=(null==t?void 0:t.object)||{},r=o.header,a=r.days,c=r.avatarUrl,l=r.link,s=r.title,d=r.subTitle,u=r.attachedInfoBytes,h=o.entities,p=o.activityType,m=(0,b.useSelector)(tb.ib),f=m&&"guest"!==m.userType,v=null==h?void 0:h.length;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(k.ZP,{role:"listitem",className:"SearchResult-Card SearchResult-AnniversaryActivityWrap",children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(P.$U,{zaType:"Card",zaAction:"OpenUrl",zaEventType:"Click",shouldTrackShow:!0,zaBlock:"Header_AnniversaryActivity",extra:{attachedInfoBytes:u,link:{url:l}},children:(0,i.BX)("div",{className:"AnniversaryActivity-wrap",css:{backgroundImage:"url(".concat(c,")"),height:v<=5?"264px":"306px"},role:"button",tabIndex:0,onClick:function(){l&&window.open(l)},children:[(0,i.BX)("div",{css:{marginLeft:"10px",marginBottom:"30px",color:n,fontSize:"15px"},children:[(0,i.BX)(ef.Flex,{fontSize:"28px",mb:"15px",alignItems:"baseline",children:[(0,i.tZ)(ef.Text,{lineHeight:"29px",children:s}),a>0?(0,i.BX)(i.HY,{children:[(0,i.tZ)(ef.Text,{mx:"10px",fontFamily:"ZHVipFont",fontSize:"40px",fontWeight:"500",children:a}),(0,i.tZ)(ef.Text,{lineHeight:"29px",children:"天"})]}):null]}),(0,i.tZ)("div",{css:{lineHeight:"15px"},children:d})]}),(0,i.tZ)("div",{css:{"@supports (display: grid)":{display:"grid",gridTemplateColumns:"repeat(auto-fill, ".concat(5===v||v>8?"129px":"162px",")"),gridGap:"2px"},"@supports not (display: grid)":{display:"flex",flexWrap:"wrap"}},children:!!h&&(0,i.tZ)(i.HY,{children:h.map(function(e,t){return(0,i.tZ)(t1,{color:n,item:e,userLogin:f},t)})})})]})})})}),"gz_gaokao"===p&&(0,i.tZ)(k.ZP,{css:{boxShadow:"none"},children:(0,i.tZ)(t0,{data:null==t?void 0:t.object})})]})},t3=n(18837),t5=n.n(t3),t4=n(4667),t8=n.n(t4),t6=n(31252),t9=n(30195),t7=n(79100),ne=n(81168),nt=n(6680),nn=n(39959),ni=n(27312),no=n(8858),nr=n(12564),na=n(4802),nc=n(84871),nl=n.n(nc),ns=function(e){var t=(0,o.withRouter)(function(t){var n=t.location.pathname;return(0,i.tZ)(e,(0,s._)((0,l._)({},t),{isSelfOpen:"/search/lite"===n}))});return nl()(t,e)},nd=n(8866),nu=n(9435),nh=Object.assign,np=function(e){return m().createElement(ej.Z,nh({width:"18",height:"18",fill:"none",viewBox:"0 0 18 18"},e),m().createElement("circle",{cx:"9",cy:"9",r:"9",fill:"#FFC703"}),m().createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#id-792354220-a)",fillOpacity:".59",style:{mixBlendMode:"overlay"}}),m().createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m9 11.625-2.512 1.32a.32.32 0 0 1-.464-.337l.48-2.797-2.033-1.98a.32.32 0 0 1 .178-.547l2.808-.408 1.256-2.545a.32.32 0 0 1 .574 0l1.256 2.545 2.808.408a.32.32 0 0 1 .178.546l-2.033 1.981.48 2.797a.32.32 0 0 1-.464.338L9 11.625z",clipRule:"evenodd"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-792354220-a",x1:"13.036",x2:"24.828",y1:"23.896",y2:"5.896",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{offset:".006",stopColor:"#fff",stopOpacity:".504"}),m().createElement("stop",{offset:"1"}))))},nm=function(e){var t=e.pureTitle,n=e.questionId,o=e.zaInfo,r=e.href,a=e.finalTitle,c=e.isKoc,l=e.isSelfOpen;return(0,i.BX)("div",{itemProp:"zhihu:question",itemType:"http://schema.org/Question",itemScope:!0,children:[(0,i.tZ)("meta",{itemProp:"url",content:"https://www.zhihu.com/question/".concat(n)}),(0,i.tZ)("meta",{itemProp:"name",content:t||""}),c&&(0,i.tZ)(np,{className:"AnswerItem-kocIcon",center:!0,size:18}),(0,i.tZ)(tB,{clickId:o.clickId,url:r,title:a,isSelfOpen:l})]})},nf=n(59189),nv=n(5330),ng=n(6148),nZ=[0,.3],nx=[".ContentItem-title a"],ny=function(e){return(0,nv.WY)(e).catch(tp())},n_=function(e){e&&(Array.isArray(e)||(e=[e]),e.forEach(ny))},nb=function(e){var t=e.children,n=e.onClick,o=e.extra,r=(0,p.useRef)(),a=(0,p.useRef)([]),c=(0,p.useMemo)(function(){return(0,ng.dj)(o)},[o]),l=(0,p.useCallback)(function(){n_(c.impression_tracks)},[c]),s=(0,p.useMemo)(function(){return t8()(function(){n_(c.view_tracks)})},[c]),d=(0,p.useMemo)(function(){return t8()(function(){n_(c.view_x_tracks)})},[c]),u=(0,p.useCallback)(function(){n_(c.click_tracks)},[c]);(0,p.useEffect)(function(){a.current=nx.map(function(e){return r.current.querySelector(e)})},[]),(0,p.useEffect)(function(){l()},[l]);var h=(0,p.useCallback)(function(e){a.current.some(function(t){return null==t?void 0:t.contains(e.target)})&&u(),null==n||n(e)},[u,a,n]),m=(0,p.useCallback)(function(e){var t=(0,eC._)(e,1)[0];t.isIntersecting&&(s(),t.intersectionRatio>=.3&&d())},[s,d]);return(0,i.tZ)(nf.Z,{threshold:nZ,onObserve:m,children:(0,i.tZ)("div",{ref:r,onClick:h,style:{marginBottom:12},children:t})})},nw=n(79091),nk=["click_tracks","view_tracks","view_x_tracks","impression_tracks","conversion_tracks"],nS=function(e,t){var n=(0,ng.dj)(e)||{};return nk.map(function(e){e in n&&(n[e]=n[e].map(function(e){return(0,nw.D)(e,{poi:t})}))}),JSON.stringify(n)},nB=function(e){return function(t){return nl()(function(n){var o=n[e],r=(void 0===o?{}:o).object,a=r.isZhiPlus,c=r.extra,s=n.index,d=(0,p.useMemo)(function(){return a?nS(c,s):{}},[c,s,a]);return a?(0,i.tZ)(nb,{extra:d,index:s,children:(0,i.tZ)(t,(0,l._)({},n))}):(0,i.tZ)(t,(0,l._)({},n))},t)}},nI=function(e){var t;if(null===(t=e.attachment)||void 0===t?void 0:t.video){var n=e.attachment.video,i=n.title,o=n.subVideoId,r=n.parentVideoId,a=n.zvideoId,c=n.playCount,d=n.voteupCount,u=n.startTime,h=n.creationReferences;return(0,s._)((0,l._)({},e),{videoAnswerData:{videoId:o,zvideoId:a,title:i,playCount:c,voteupCount:d,isComplete:!a||r===o,startTime:u,creationReferences:h}})}return e},nC=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"state",{pureTitle:null,commentsShown:!1,commentsAutoFocus:!0,reportModalShown:!1,deleteModalShown:!1,favlistsShown:!1,commentPattern:"fixed",isContentExpended:!1,shownCatalogModal:!1}),(0,R._)((0,E._)(e),"toggleCatalogModal",function(){e.setState({shownCatalogModal:!e.state.shownCatalogModal})}),(0,R._)((0,E._)(e),"onToggleExpend",function(t){e.setState({isContentExpended:t})}),(0,R._)((0,E._)(e),"toggleCommentButton",function(t,n){e.setState((0,l._)({},n))}),(0,R._)((0,E._)(e),"closeCommentContainer",function(){e.setState({commentsShown:!1});var t=e.props.onCloseComment;"function"==typeof t&&t()}),(0,R._)((0,E._)(e),"handlePositionStatusChange",function(t){e.setState({positionStatus:t})}),(0,R._)((0,E._)(e),"handleReportOpen",function(){e.props.authRequired(function(){e.setState({reportModalShown:!0}),j.Z.trackEvent(e.menuNode,{id:3946,action:"Report",element:"Button",is_intent:!0})},ec.q0.report)()}),(0,R._)((0,E._)(e),"handleReportHide",function(){e.setState({reportModalShown:!1})}),(0,R._)((0,E._)(e),"handleFavlistsShown",function(){j.Z.trackEvent(e.favButtonRef,{id:3944,action:"Collect",element:"Button",is_intent:!0}),e.props.authRequired(function(){return e.setState({favlistsShown:!0})},ec.q0.favlists)()}),(0,R._)((0,E._)(e),"handleFavlistHide",function(){e.setState({favlistsShown:!1})}),(0,R._)((0,E._)(e),"handleLogMoreClick",function(){j.Z.trackEvent(e.logMoreRef,{action:"Click",element_name:"MoreAction"})}),(0,R._)((0,E._)(e),"finalExcerpt",t5()(function(e,t,n,i,o){return e&&i?(0,e9.Z)(o,120,"...",130):n&&i?(0,e9.Z)(o,100,"...",120):(t||i?(0,e9.Z)(o,110,"...",120):(0,e9.Z)(o,_._x))||o})),(0,R._)((0,E._)(e),"handleUpdateThanked",e.props.authRequired(function(t){var n=e.props,i=n.answer,o=i.object,r=o.id,a=o.relationship.isThanked,c=i.cardType,l=n.updateAnswerThank,s=!a;j.Z.trackEvent(t.target,{action:s?"Thank":"UnThank",element:"Button"}),l(r,s,{cardType:c})},ec.q0.thank)),(0,R._)((0,E._)(e),"loadEntityWords",t8()(function(){var t=e.props,n=t.answer,i=(void 0===n?{}:n).object.id;(0,t.loadAnswerEntityWords)(i)})),e}return(0,a._)(n,[{key:"isVideoAnswer",get:function(){var e=this.props.answer.object.attachment;return(null==e?void 0:e.type)==="video"}},{key:"renderOptions",value:function(){var e=this,t=this.props.answer.object.relationship,n=(void 0===t?{}:t).isAuthor,o={toggler:(0,i.tZ)(eN.ZP,{onRef:function(t){return e.logMoreRef=t},preset:"plain",style:{padding:"0 1px"},icon:e6.AZ}),onOpen:this.handleLogMoreClick,reversed:!0,menuClassName:"AnswerItem-selfMenu",itemClassName:"AnswerItem-selfMenuItem"};return n?null:(0,i.tZ)(e7.ZP,(0,s._)((0,l._)({ref:function(t){return e.menuNode=t}},o),{children:(0,i.tZ)(e7.sN,{onClick:this.handleReportOpen,children:"举报"})}))}},{key:"componentDidUpdate",value:function(e,t){!t.isContentExpended&&this.state.isContentExpended&&this.loadEntityWords()}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.zaInfo,r=n.ua,a=n.ecommerce,c=n.entityWords,d=n.currentUser,u=n.answer,h=n.isSelfOpen,p=u.highlight,m=(void 0===p?{}:p).title,f=u.object,v=u.byComment,g=u.itemProp,Z=u.cardType,x=f.author,y=f.id,_=f.question,b=_.name,w=_.id,S=f.excerpt,B=f.content,I=f.commentCount,C=f.adminClosedComment,T=f.createdTime,z=f.updatedTime,N=f.relationship,A=void 0===N?{}:N,E=A.isThanked,R=A.isAuthor,M=f.thumbnailInfo,F=(void 0===M?{}:M).thumbnails,H=void 0===F?[]:F,j=f.videoAnswerData,P=f.duration,q=f.playCount,U="/question/".concat(w,"/answer/").concat(y),G=this.state,O=G.pureTitle,K=G.reportModalShown,W=G.favlistsShown,V=G.commentsShown,Y=G.commentsAutoFocus,Q=G.commentPattern,$=G.positionStatus,J=G.isContentExpended,ee=G.shownCatalogModal,et=r.Mobile,en="".concat(x.name?"<b>".concat(x.name,"</b>："):"").concat(S),ei=x.name&&x.name.replace(/<\/?em>/g,""),ea=(0,s._)((0,l._)({},x),{name:ei}),el=(0,na.Z)(m||b,ec.lH),es=(0,i.tZ)("span",{className:"Highlight",ref:function(e){e&&null===O&&t.setState({pureTitle:e.textContent})},dangerouslySetInnerHTML:{__html:m||b}}),ed=D.Z.isMobileEntry?{onClick:function(){window.open(U,h?"_self":"_blank")},isSearchContent:!0}:{},eu=("paid"===f.answerType?f.paidInfo&&f.paidInfo.content:B)||S||"",eh=!et&&J&&(0,no.Z)(f,"answer"),ep="hotLanding"===Z,em="koc"===Z,ef=(null==H?void 0:null===(e=H[0])||void 0===e?void 0:e.url)||f.coverUrl,ev=q||0;return(0,i.tZ)(k.ZP,{role:"listitem",className:X()("SearchResult-Card",{"SearchResult-CardWithImage":D.Z.isMobileEntry&&H.length>0,"AnswerItem-hotLanding":ep}),children:(0,i.tZ)(er.Z,{children:(0,i.BX)(eo.ZP,(0,s._)((0,l._)({className:"AnswerItem",data:f,link:U,name:y,itemProp:void 0===g?"answer":g,itemType:"http://schema.org/Answer"},!ep&&{title:(0,i.tZ)(nm,{pureTitle:O,questionId:w,zaInfo:o,href:U,finalTitle:es,isKoc:em,isSelfOpen:h})}),{itemScope:!0,children:[(0,i.tZ)(tl.Z,(0,s._)((0,l._)((0,s._)((0,l._)({className:X()({Highlight:!J,"SearchResult-cover":!em&&ef,"SearchResult-coverHotLanding":ep&&ef}),entityWords:c,excerpt:this.finalExcerpt(ep,em,"minorHotSpot"===Z,ef,en),onPositionStatusChange:this.handlePositionStatusChange,html:eu,data:f,ecommerce:a,onToggleExpend:this.onToggleExpend,truncateDisabled:!0,expanded:J,zaIds:{expand:o.expandId},hasVideo:this.isVideoAnswer,isVideoAnswer:this.isVideoAnswer},this.isVideoAnswer&&{duration:(0,ty.LU)(P)},ef&&!em&&!D.Z.isMobileEntry&&{cover:ef}),{before:(0,i.BX)(i.HY,{children:[em&&(0,i.tZ)(tB,{clickId:o.clickId,url:U,title:(0,i.tZ)("div",{className:"AnswerItem-kocTitle",dangerouslySetInnerHTML:{__html:b}}),isSelfOpen:h}),(0,i.tZ)("div",{className:"SearchItem-meta SearchItem-authorInfo",children:(0,i.tZ)(tn.Z,{preset:"plain",author:ea,extra:!d})}),J&&j&&(0,i.tZ)(nt.Z,(0,l._)({},j)),J&&this.isVideoAnswer&&(0,i.tZ)(ne.Z,{}),(0,i.tZ)(t9.m,{answer:f})]}),after:(0,i.BX)("div",{children:[(0,i.tZ)(t9.v,{answer:f,ua:r}),(0,i.tZ)(tl.O,(0,l._)({created:T,updated:z,href:U},ev>0&&{videoPlayCount:Number(ev)}))]}),shouldCatalogCollapse:!0}),ed),{children:(0,i.tZ)(tv,{data:f,id:y,contentType:"answer",actionButtons:[{name:"vote",component:(0,i.tZ)(t7.Z,{answer:(0,s._)((0,l._)({},f),{cardType:Z}),positionStatus:$,isOwner:R,zaIds:{voteUp:3938,voteDown:3940}})},{name:"comment",component:(0,i.tZ)(ti.Z,{onClick:this.toggleCommentButton,commentsShown:V,commentClosed:void 0!==C&&C,count:I,positionStatus:$,zaInfos:{toggleComment:3943}})},{name:"catalog",component:eh&&(0,i.tZ)(nn.Z,{html:eu,sourceId:f.id,onClick:this.toggleCatalogModal},"catalog")},{name:"time",component:!J&&!D.Z.isMobileEntry&&(0,i.tZ)("span",{className:"SearchItem-time",children:(0,L.S9)(z)})},{name:"share",component:J&&(0,i.tZ)(ts.Z,{id:y,type:"answer",title:O||"",authorName:x&&x.name,href:U,positionStatus:$,zaShareId:3945})},{name:"favlist",component:J&&(0,i.tZ)(tr.Z,{onRef:function(e){return t.favButtonRef=e},onClick:this.handleFavlistsShown,label:"收藏"})},{name:"thank",component:J&&!R&&(0,i.tZ)(tC,{onClick:this.handleUpdateThanked,isThanked:E,usePrayText:el})},{name:"other",component:J&&this.renderOptions()}]})})),(0,i.tZ)(to.Z,{shown:V,autoFocus:Y,parent:f,byComment:v,commentPattern:Q,onClose:this.closeCommentContainer,zaInfo:{zaSubmitCommentId:3952},needLoadCommentPermission:!0}),D.Z.isMobileEntry&&H.length>0&&(0,i.tZ)("img",{src:(0,tt.imgUrl)(H[0].url,"xl"),className:"SearchItem-rightImg",onClick:function(){window.open(U)},alt:""}),J&&(0,i.tZ)(nr.Z,{content:B,type:"answer",urlToken:String(f.id)}),(0,i.tZ)(tc.y,{type:"answer",urlToken:y,shown:K,onClose:this.handleReportHide,zaEnabled:!0}),(0,i.tZ)(ta.E,{id:y,type:"answer",shown:W,onClose:this.handleFavlistHide,zaEnabled:!0}),eh&&(0,i.tZ)(ni.Z,{shown:ee,html:eu,sourceId:f.id,onClose:this.toggleCatalogModal,created:f.createdTime,updated:f.updatedTime,author:x,zaContent:{type:"Answer",token:String(f.id)}})]}))})})}}]),n}(p.Component),nT=(0,v.compose)(ns,(0,tk.Ib)(function(e){return{content:{type:"Answer",token:String(e.answer.object.id)}}}),t_.Z,nB("answer"),(0,b.connect)(function(e,t){var n,i=(0,l._)({cardShowId:3950,clickId:3942,expandId:3937},t.zaInfo),o=t.answer,r=o.object.answerObj?(0,l._)({},(0,nd.ae)(e,{id:o.object.answerObj}),{attachedInfoBytes:(n=o.object).attachedInfoBytes,answerType:"paid",paidInfo:{content:n.body&&n.body.content,hasPurchased:n.label&&"svip"===n.label.commodityType}}):o.object,a=e.answers.entityWords[o.object.id],c=(0,l._)({},r,r.question&&{question:(0,l._)({},r.question,(0,nu.Md)(e,r.question))});return{entityWords:a,zaInfo:i,answer:(0,s._)((0,l._)({},o),{object:nI(c)}),switches:e.switches,ua:(0,eZ.Uh)(e),ecommerce:(0,t6.G_)(e,{type:"answer",urlToken:String(c.id)})}},{updateAnswerVote:nd.i_,updateAnswerThank:nd.TC,updateAnswerReshipmentSettings:nd.eu,updateAnswerCommentPermission:nd.iM,updateAnswerCollapsed:nd.ON,updateAnswerStick:nd.Vc,deleteAnswer:nd.G,restoreAnswer:nd.f0,updateAnswer:nd.p3,loadAnswerForSettings:nd.Hh,updateAnswerReward:nd.fT,loadAnswerEntityWords:nd.Pe}),(0,w.a)(function(e){var t=e.answer.object;return{view:{id:e.zaInfo.cardShowId},module:"AnswerItem",attachedInfoBytes:e.attachedInfoBytes||t.attachedInfoBytes,index:e.index.toString(),content:{type:"Answer",token:t.id},trackCardShow:!0}}))(nC),nz=n(44765),nN=n(57386),nA=n(89250),nL=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"state",{pureTitle:null,commentsShown:!1,commentsAutoFocus:!0,favlistsShown:!1,commentPattern:"fixed",isContentExpended:!1}),(0,R._)((0,E._)(e),"onToggleExpend",function(t){e.setState({isContentExpended:t})}),(0,R._)((0,E._)(e),"handleCommentsShown",function(t,n){e.setState(n)}),(0,R._)((0,E._)(e),"handlePositionStatusChange",function(t){e.setState({positionStatus:t})}),(0,R._)((0,E._)(e),"handleCommentsHide",function(){e.setState({commentsShown:!1})}),(0,R._)((0,E._)(e),"finalExcerpt",t5()(function(e,t,n,i,o){return e&&i?(0,e9.Z)(o,120,"...",130):n&&i?(0,e9.Z)(o,100,"...",110):(t||i?(0,e9.Z)(o,110,"...",120):(0,e9.Z)(o,_._x))||o})),(0,R._)((0,E._)(e),"handleFavlistsShown",e.props.authRequired(function(){j.Z.trackEvent(e.favButtonRef,{id:3944,action:"Collect",element:"Button",is_intent:!0}),e.setState({favlistsShown:!0})},ec.q0.favlists)),(0,R._)((0,E._)(e),"handleFavlistHide",function(){e.setState({favlistsShown:!1})}),(0,R._)((0,E._)(e),"handleVote",function(t){var n=e.props,i=n.article,o=i.object.id,r=i.cardType;(0,n.updateArticleVote)(o,t,r)}),(0,R._)((0,E._)(e),"loadEntityWords",t8()(function(){var t=e.props,n=t.article,i=(void 0===n?{}:n).object.id;(0,t.loadPostSearchEntity)(i)})),e}return(0,a._)(n,[{key:"componentDidUpdate",value:function(e,t){!t.isContentExpended&&this.state.isContentExpended&&this.loadEntityWords()}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.ecommerce,r=n.entityWords,a=n.currentUser,c=n.isSelfOpen,d=this.props.article,u=d.highlight,h=(void 0===u?{}:u).title,p=d.object,m=d.object,f=m.title,v=m.commentCount,g=m.id,Z=m.voteupCount,x=m.author,y=m.excerpt,_=m.content,b=m.zhiPlusFlag,w=m.type,S=m.voting,B=m.createdTime,I=m.updatedTime,C=m.thumbnailInfo,T=(void 0===C?{}:C).thumbnails,z=void 0===T?[]:T,N=d.cardType,A=this.state,E=A.pureTitle,R=A.positionStatus,M=A.favlistsShown,F=A.commentsShown,H=A.commentsAutoFocus,j=A.commentPattern,P=A.isContentExpended,q=a===x.urlToken,U=b?"?zpf=".concat(encodeURIComponent(b)):"",G="article"===w?"".concat(ec.vg,"/p/").concat(g).concat(U):"".concat(ec.Xc,"/p/").concat(g),O=(0,i.tZ)("span",{className:"Highlight",ref:function(e){e&&null===E&&t.setState({pureTitle:e.textContent})},dangerouslySetInnerHTML:{__html:h||f}}),K="".concat(x.name?"<b>".concat(x.name,"</b>："):"").concat(y),W=x.name&&x.name.replace(/<\/?em>/g,""),V=(0,s._)((0,l._)({},x),{name:W}),Y=D.Z.isMobileEntry?{onClick:function(){window.open(G,c?"_self":"_blank")},isSearchContent:!0}:{},Q="hotLanding"===N,$="koc"===N,J=null==z?void 0:null===(e=z[0])||void 0===e?void 0:e.url;return(0,i.tZ)(k.ZP,{role:"listitem",className:X()("SearchResult-Card",{"SearchResult-CardWithImage":D.Z.isMobileEntry&&z.length>0,"AnswerItem-hotLanding":Q}),children:(0,i.tZ)(er.Z,{children:(0,i.BX)(eo.ZP,{className:"ArticleItem",data:p,link:G,title:(0,i.BX)("div",{children:[$&&(0,i.tZ)(np,{className:"AnswerItem-kocIcon",center:!0,size:18}),(0,i.tZ)(tB,{url:G,title:O,isSelfOpen:c})]}),itemProp:"article",children:[(0,i.tZ)(tl.Z,(0,s._)((0,l._)((0,s._)((0,l._)({className:X()({Highlight:!P,"SearchItem-promotion":"promotion"===w,"SearchResult-cover":!$&&J,"SearchResult-coverHotLanding":Q&&J}),itemProp:"articleBody",data:p,entityWords:r,ecommerce:o,excerpt:this.finalExcerpt(Q,$,"minorHotSpot"===N,J,K),onPositionStatusChange:this.handlePositionStatusChange,truncateDisabled:!0,html:_||y||"",onToggleExpend:this.onToggleExpend,expanded:P},J&&!$&&!D.Z.isMobileEntry&&{cover:J}),{zaIds:{expand:3937},before:(0,i.BX)("div",{className:"SearchItem-meta SearchItem-authorInfo",children:[$&&(0,i.tZ)(tB,{url:G,title:(0,i.tZ)("div",{className:"AnswerItem-kocTitle",dangerouslySetInnerHTML:{__html:f}}),isSelfOpen:c}),"article"===w?(0,i.tZ)(tn.Z,{preset:"plain",author:V,extra:!a}):(0,i.tZ)("span",{className:"SearchItem-authorName",children:x.name})]}),after:"article"===w&&(0,i.tZ)(tl.O,{created:B,updated:I,href:G}),shouldCatalogCollapse:!0}),Y),{children:(0,i.tZ)(tv,{data:p,id:g,contentType:"article",actionButtons:[{name:"vote",component:(0,i.tZ)(tZ.Z,{type:w,count:Z,onVote:this.handleVote,voting:S,isOwner:q,zaIds:{voteUp:3938,voteDown:3940}})},{name:"comment",component:(0,i.tZ)(ti.Z,{onClick:this.handleCommentsShown,commentsShown:F,commentClosed:!1,count:v,positionStatus:R,zaInfos:{toggleComment:3943}})},{name:"time",component:!P&&!D.Z.isMobileEntry&&(0,i.tZ)("span",{className:"SearchItem-time",children:(0,L.S9)(I)})},{name:"favlist",component:P&&(0,i.tZ)(tr.Z,{onRef:function(e){return t.favButtonRef=e},onClick:this.handleFavlistsShown,label:"收藏"})},{name:"share",component:P&&(0,i.tZ)(ts.Z,{id:g,type:"article",url:G,title:E||"",authorName:x&&x.name,positionStatus:R,zaShareId:3945})},{name:"report",component:P&&!q&&(0,i.tZ)(nN.Z,{id:g,type:w,zaReportId:3946})}]})})),(0,i.tZ)(ta.E,{id:g,type:"article",shown:M,onClose:this.handleFavlistHide,zaEnabled:!0}),(0,i.tZ)(to.Z,{parent:p,commentPattern:j,shown:F,autoFocus:H,onClose:this.handleCommentsHide,zaInfo:{zaSubmitCommentId:3952},needLoadCommentPermission:!0}),D.Z.isMobileEntry&&z.length>0&&(0,i.tZ)("img",{src:(0,tt.imgUrl)(z[0].url,"xl"),className:"SearchItem-rightImg",onClick:function(){window.open(G)},alt:""}),P&&(0,i.tZ)(nr.Z,{content:_,type:"article",urlToken:Number(g)})]})})})}}]),n}(p.Component),nE=(0,v.compose)(ns,(0,tk.Ib)(function(e){return{content:{type:"Post",token:String(e.article.object.id)}}}),t_.Z,nB("article"),(0,w.a)(function(e){var t=e.article.object,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId,o=e.attachedInfoBytes;return{view:{id:void 0===i?3950:i},module:"article"===t.type?"PostItem":"PromotionItem",attachedInfoBytes:o||t.attachedInfoBytes,index:e.index.toString(),content:{type:"Post",token:t.id.toString()},trackCardShow:!0}}),(0,b.connect)(function(e,t){var n,i,o=t.article.object;return{entityWords:null===(n=e.entities.articles)||void 0===n?void 0:null===(i=n[o.id])||void 0===i?void 0:i.entityWords,ecommerce:(0,t6.G_)(e,{type:"article",urlToken:String(o.id)})}},{updateArticleVote:nA.Pt,loadPostSearchEntity:nz.vM}))(nL),nR=n(67696),nM=function(e){var t=e.data,n=(0,d._)(e,["data"]);return(0,i.tZ)(P.Wi,(0,s._)((0,l._)({as:ef.Box,onClick:function(e){e.stopPropagation(),window.open(t.link,"_blank")},zaModuleId:"pc_baike_catalog",zaType:"Block",zaAction:"OpenUrl",zaExtra:{link:{url:t.link}},shouldTrackClick:!0,justifyContent:"space-between",fontSize:"13px"},n),{children:t.name}))},nF=function(e){var t=e.catalog;return(0,i.tZ)(ef.Flex,{mr:"-12px",mt:"6px",color:"GBL07A",children:null==t?void 0:t.slice(0,6).map(function(e,t){return(0,i.BX)(i.HY,{children:[!!t&&(0,i.tZ)(en.Z,{css:{padding:"0 10px"}}),(0,i.tZ)(nM,{data:e})]})})})},nH=function(e){var t=(e.item||{}).object,n=void 0===t?{}:t,o=n.title,r=n.pcPic,a=n.abstract,c=(n.subTitle,n.cardItems),l=n.catalog,s=n.url,d=n.attachedInfoBytes,u=(0,tE.F)(),h=(u.isDarkMode,u.colors),m=(null==l?void 0:l.length)>=3,f=(null==c?void 0:c.length)>=2;return(0,p.useMemo)(function(){var e=0;return c.slice(0,4).forEach(function(t){var n;e=Math.max(null===(n=t.name)||void 0===n?void 0:n.split("").reduce(function(e,t){return t.charCodeAt()>=65&&90>=t.charCodeAt()?e+10.780000000000001:t.charCodeAt()>=97&&122>=t.charCodeAt()?e+7.9799999999999995:e+14},0),e)}),e+12},[c]),(0,i.tZ)(P.eV,{extra:{attachedInfoBytes:void 0===d?"":d,link:{url:s}},children:(0,i.BX)(P.Wi,{as:ef.Box,onClick:function(){window.open(s,"_blank")},zaAction:"OpenUrl",className:"Highlight",shouldTrackClick:!0,zaType:"Block",zaModuleId:"pc_baike_box",p:"16px",css:{position:"relative",cursor:"pointer"},children:[(0,i.tZ)(ef.Flex,{justifyContent:"space-between",alignItems:"center",mt:"4px",children:(0,i.tZ)(ef.Text,{fontSize:"16px",fontWeight:"bold",dangerouslySetInnerHTML:{__html:"".concat(o," - 搜狗百科")}})}),!1,(0,i.BX)(ef.Flex,{mt:"16px",children:[r&&(0,i.tZ)(ef.Image,{src:r,width:100,height:100,css:{marginRight:"12px",borderRadius:"5px",objectFit:"cover",background:h.GBK10A}}),(0,i.BX)(ef.Box,{flex:1,children:[(0,i.tZ)(ef.Box,{css:{position:"relative"},color:"GBK02A",fontSize:"15px",lineHeight:"25px",children:(0,i.tZ)(nR.Z,{lines:3,text:a,ellipsis:(0,i.BX)("button",{css:{background:h.GBK99A,color:h.GBL07A,position:"relative"},children:["更多",(0,i.tZ)(ef.Box,{width:"40px",height:"24px",css:{background:"linear-gradient(to right, rgba(255,255,255,0), ".concat(h.GBK99A,")"),position:"absolute",top:0,left:"-40px"}})]})})}),m&&(0,i.tZ)(nF,{catalog:l})]})]}),f&&!1,m&&!1]})})},nX=n(57968),nj=n(74045),nP=n(81567),nq=function(e){var t=e.item,n=(t||{}).object,o=void 0===n?{}:n,r=o.sectionCount,a=void 0===r?0:r,c=o.id,l=void 0===c?"":c,s=o.voteupCount,d=void 0===s?0:s,u=o.thumbnail,h=o.title,p=o.excerpt,m=o.author,f=o.playCount,v=void 0===f?0:f,g=o.favCount,Z=void 0===g?0:g,x=o.commentCount,y=void 0===x?0:x,_=o.subType,b=void 0===_?"":_,w=o.courseId,S=o.duration,B=o.voting,I=o.parentTitle,C=o.attachedInfoBytes,T=(0,P.Q4)().trackEvent,z="edu_section"===b?"EduSection":"EduCourse",N=[a,v,d,Z,y],A=["共 ".concat((0,et.Zh)(a)," 集"),"".concat((0,et.Zh)(v)," 次学习"),"".concat((0,et.Zh)(d)," 赞同"),"".concat((0,et.Zh)(Z)," 收藏"),"".concat((0,et.Zh)(y)," 评论")];"edu_section"===b&&(A[1]="".concat((0,et.Zh)(v)," 播放"));var L=N.map(function(e,t){return e?A[t]:null}).filter(Boolean);"edu_section"===b&&L.unshift("来自「".concat(I,"」"));var E="https://www.zhihu.com/education/video-course/".concat(l),R="https://www.zhihu.com/education/video-course/".concat(void 0===w?"":w,"?section_id=").concat(l),M="edu_section"===b?R:E;return(0,i.tZ)(P.eV,{content:{type:z,token:l},extra:{attachedInfoBytes:C},children:(0,i.tZ)(k.ZP,{css:{padding:"16px 20px",marginBottom:"12px"},children:(0,i.tZ)(P.Wi,{zaType:"Card",zaBlock:"EduCourse",children:(0,i.BX)(td.xM,{data:null==t?void 0:t.object,children:[(0,i.tZ)(nX.W,{courseInfo:{title:'<span style="font-size: 16px">'.concat(void 0===h?"":h,"</span>"),excerpt:void 0===p?"":p,author:void 0===m?{name:""}:m,coverImage:{url:void 0===u?"":u},url:M,duration:void 0===S?0:S},onJumpCourseDetailPage:function(){T({eventType:"Click",action:"OpenUrl",elementLocation:{type:"Card",content:{type:z,token:l},block:{blockText:"EduCourse"}}},{attachedInfoBytes:C,link:{url:M}})}}),(0,i.tZ)(nj.Ks,{contentId:l,contentType:b||"edu_course",zaContentType:"edu_section"===b?"EduSection":"EduCourse",children:(0,i.tZ)(tm.Z,{renderChildren:function(e){return[{name:e.Vote,component:(0,i.tZ)(nj.XD,{defaultStatus:(0,nP.j)(B),defaultVoteUpCount:d})},{name:e.Unknown,component:(0,i.tZ)(ef.Flex,{fontSize:"14px",color:"GBL05A",ml:"16px",children:L.slice(0,2).join(" \xb7 ")})}]}})})]})})})})},nU=ns(function(e){var t=e.item,n=e.isSelfOpen,o=t.object,r=o.id,a=o.schema,c=(0,b.useSelector)(function(e){return(e.entities["".concat(a,"s")]||{})[r]}),s=t.subContents,d=c.answerCount,u=c.visitsCount,h=c.question,p=h.type,m=h.id,f="/".concat(p,"/").concat(m),v=[d>0&&(0,et.Zh)(d)+"回答",u>0&&(0,et.Zh)(u)+"浏览"].filter(Boolean).join(" \xb7 "),g=D.Z.isMobileEntry?{onClick:function(){window.open(f,n?"_self":"_blank")},isSearchContent:!0}:{},Z=(0,i.tZ)("span",{className:"Highlight",dangerouslySetInnerHTML:{__html:null==h?void 0:h.name}});return(0,i.BX)(i.HY,{children:[(0,i.tZ)(eo.ZP,(0,l._)({data:t.object,link:f,title:(0,i.tZ)("div",{className:"HotLanding-contentItemTitle",children:(0,i.tZ)(tB,{url:f,title:Z,isSelfOpen:n})})},g)),v&&(0,i.tZ)("div",{className:X()("HotLanding-contentItemCount",{"HotLanding-contentItemCountWithoutSub":(null==s?void 0:s.length)>0}),children:v})]})}),nD=function(e){var t=e.type,n=e.item,o=e.index,r=n.object,a=r.id,c=r.schema,l=(0,b.useSelector)(function(e){return(e.entities["".concat(c,"s")]||{})[a]});switch(t){case"answer":return(0,i.tZ)(nT,{index:o,answer:{cardType:"hotLanding",type:"answer",object:l},zaInfo:{cardShowId:3950}});case"article":return(0,i.tZ)(nE,{index:o,article:{cardType:"hotLanding",type:"article",object:l},zaInfo:{cardShowId:3950}});default:return null}},nG=function(e){var t=e.contentItems,n=e.hasHeader;return(0,i.tZ)(i.HY,{children:(null==t?void 0:t.length)>0&&(0,i.tZ)("div",{className:X()({"HotLanding-contentList":n,"HotLanding-contentListWithoutRelated":!0}),children:(0,i.tZ)("div",{className:"HotLanding-content",children:t.map(function(e,t){var n;return(0,i.tZ)("div",{className:"HotLanding-contentItem",children:"article"===e.type?(0,i.tZ)(nD,{item:e,index:t,type:e.type}):(0,i.BX)("div",{children:[(0,i.tZ)(nU,{index:t,item:e}),null===(n=e.subContents)||void 0===n?void 0:n.map(function(e,t){return(0,i.tZ)(nD,{item:e,index:t,type:e.type},t)})]})},t)})})})})},nO=n(25352),nK=Object.assign,nW=function(e){return m().createElement(ej.Z,nK({width:"18",height:"18",fill:"none",viewBox:"0 0 18 18"},e),m().createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#id-2788952883-a)"}),m().createElement("path",{fill:"url(#id-2788952883-b)",fillRule:"evenodd",d:"M10.159 13.496a3.895 3.895 0 0 0 2.698-3.718 3.912 3.912 0 0 0-1.768-3.28 3.903 3.903 0 0 1-1.188-2.64 3.895 3.895 0 0 0-2.708 3.72c0 .756.036 1.292.404 1.89C6.8 8.81 6.458 7.99 6.424 6.878a3.905 3.905 0 0 0-1.281 2.9 3.892 3.892 0 0 0 2.884 3.772c-.444-.294-.938-.727-1.13-1.278-.385-1.095.174-2.103.174-2.103s.462 1.017 1.578.953c.434-.025.827-.476 1.052-1.09.173-.472 0-2.318 0-2.318s1.825 1.833 1.578 3.856c-.135 1.114-.668 1.66-1.12 1.926Z",clipRule:"evenodd"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-2788952883-a",x1:"-.379",x2:"-3.387",y1:"-3.929",y2:"19.622",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#FD4A1F"}),m().createElement("stop",{offset:"1",stopColor:"#FF6DC4"})),m().createElement("linearGradient",{id:"id-2788952883-b",x1:"4.98",x2:"2.964",y1:"1.741",y2:"14.307",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#fff"}),m().createElement("stop",{offset:"1",stopColor:"#fff"}))))},nV=function(e){var t=e.activedIndex,n=e.handleClick,o=e.titles,r=e.hasIcon,a=void 0!==r&&r,c=e.hasSelected,l=void 0!==c&&c,s=(0,nO.Fg)().colors,d=s.GBK06A,u=s.GBK02A,h=s.GBK99A,p=s.GBL01A;return(0,i.tZ)("div",{css:{display:"flex",alignItems:"center",backgroundColor:h,maxWidth:"640px"},children:o.map(function(e,o){return(0,i.BX)("div",{role:"button",tabIndex:0,onClick:function(){return n(e.id)},onKeyDown:function(){return n(e.id)},css:{fontSize:"16px",fontWeight:500,padding:"7px 0",height:"22px",lineHeight:"22px",position:"relative",cursor:"pointer",marginRight:"32px",display:"flex",color:t===e.id?u:d},children:[a&&0===o&&(0,i.tZ)(nW,{style:{marginRight:8},className:"HotLanding-icon",size:18,center:!0}),(0,i.BX)("div",{children:[e.name,l&&t===e.id&&(0,i.tZ)("div",{css:{width:"12px",height:"3px",backgroundColor:p,borderRadius:"6px",margin:"0 auto"}})]})]},e.id)})})},nY=function(e){var t=e.discussions,n=e.discussionMap,o=t.defaultTabId,r=t.contents,a=void 0===r?[]:r,c=(0,eC._)((0,p.useState)(o),2),l=c[0],s=c[1],d=(0,eC._)((0,p.useState)([]),2),u=d[0],h=d[1];return(0,p.useEffect)(function(){h(n[o])},[n,o]),(0,i.BX)("div",{css:{marginTop:"16px"},children:[(null==a?void 0:a.length)>0&&(0,i.tZ)(nV,{titles:a,activedIndex:l,hasIcon:!0,hasSelected:!0,handleClick:function(e){s(e),h(n[e])}}),(0,i.tZ)(nG,{contentItems:u})]})},nQ=function(e){var t=e.playList,n=void 0===t?[]:t,o=(0,eC._)((0,p.useState)(!1),2),r=o[0],a=o[1],c=(0,eC._)((0,p.useState)([]),2),l=c[0],s=c[1];(0,p.useEffect)(function(){s(n.slice(0,3)),a(!1)},[n]);var d=function(){s(r?n.slice(0,3):n),a(!r)},u=function(e){window.open(e)};return(0,i.BX)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:"16px"},children:[l.map(function(e,t){return(0,i.BX)("div",{href:e.jumpTo,className:"item",role:"button",tabIndex:0,css:{width:D.Z.isMobileEntry?"150px":"302px"},onClick:function(){return u(e.jumpTo)},onKeyDown:function(){return u(e.jumpTo)},"data-za-not-track-link":!0,children:[e.name,e.isPreview&&(0,i.tZ)("div",{className:"item-preview",children:"预"})]},t)}),n.length>3&&(0,i.tZ)("div",{className:"item",role:"button",tabIndex:0,css:{width:D.Z.isMobileEntry?"150px":"302px"},onClick:d,onKeyDown:d,children:r?"收起":"展开更多"})]})},n$=function(e){var t=e.playOptions,n=void 0===t?[]:t,o=e.currentPlayList,r=void 0===o?[]:o,a=e.currentTab,c=e.setCurrentTab,l=(0,eC._)((0,p.useState)(void 0===a?0:a),2),s=l[0],d=l[1];return(0,i.BX)("div",{css:{marginTop:"16px"},children:[(null==n?void 0:n.length)>0&&(0,i.tZ)(nV,{titles:n,activedIndex:s,handleClick:function(e){d(e),c(e)}}),r.length>0&&(0,i.tZ)(nQ,{playList:r})]})},nJ=n(83215),n0=n(63722),n1="SearchTopicReview",n2=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"handleStatusClick",e.props.authRequired(function(t,n){var i=e.props,o=i.topicVote.totalVotes,r=i.updatedStatus,a=(void 0===r?{}:r).totalVotes,c=i.likeTopic,l=i.dislikeTopic,s=i.cancelLikeTopic,d=i.cancelDislikeTopic,u=i.id,h=a||o;switch(t){case"Upvote":c(u,h,n);break;case"UnUpvote":s(u,h);break;case"Downvote":l(u,h,n);break;case"UnDownvote":d(u)}})),(0,R._)((0,E._)(e),"renderMyReviewStatus",function(){var t,n,o=e.props,r=o.topicVote.status,a=o.updatedStatus,c=(void 0===a?{}:a).status||r;return(0,i.tZ)("div",{className:"".concat(n1,"-MyStatus"),children:(0,i.BX)("span",{className:"recommendStatus",children:[(0,i.tZ)("span",{className:X()("".concat(n1,"-Icon"),(t={},(0,R._)(t,"".concat(n1,"-Icon--like"),"like"!==c),(0,R._)(t,"".concat(n1,"-Icon--liked"),"like"===c),t)),role:"button",tabIndex:0,"aria-label":"like"===c?"点击取消赞同":"点击投赞同票",onClick:function(){return e.handleStatusClick("like"===c?"UnUpvote":"Upvote",c)},children:(0,i.tZ)(n0.g,{size:14,center:!0})}),(0,i.tZ)("span",{className:X()("".concat(n1,"-Icon"),(n={},(0,R._)(n,"".concat(n1,"-Icon--dislike"),"dislike"!==c),(0,R._)(n,"".concat(n1,"-Icon--disliked"),"dislike"===c),n)),role:"button",tabIndex:0,"aria-label":"dislike"===c?"点击取消反对票":"点击投反对票",onClick:function(){return e.handleStatusClick("dislike"===c?"UnDownvote":"Downvote",c)},children:(0,i.tZ)(n0.g,{size:14,center:!0})})]})})}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.topicVote,n=t.ratio,o=t.ratioStatus,r=t.totalVotes,a=e.updatedStatus,c=(void 0===a?{}:a).totalVotes,l=e.className,s=c||r;return(0,i.BX)("div",{className:X()(n1,l),children:["normal"===o?(0,i.BX)(p.Fragment,{children:[(0,i.tZ)("div",{className:"".concat(n1,"-Score"),children:(0,i.tZ)("span",{className:"".concat(n1,"-ScoreText"),children:"".concat((100*n).toFixed(0),"%")})}),(0,i.tZ)("div",{className:"".concat(n1,"-Text"),children:"知友推荐"}),(0,i.BX)("div",{className:"".concat(n1,"-SubText ").concat(n1,"-RecommendText"),children:[(0,et.Zh)(s),"评价"]})]}):(0,i.BX)(p.Fragment,{children:[(0,i.tZ)("div",{className:"".concat(n1,"-Text ").concat(n1,"-BigText"),children:"你推荐吗？"}),(0,i.tZ)("div",{className:"".concat(n1,"-SubText"),children:"评价人数不足"}),(0,i.tZ)("div",{className:"".concat(n1,"-SubText ").concat(n1,"-LackReviewText"),children:"数据积累中"})]}),this.renderMyReviewStatus()]})}}]),n}(p.Component),n3=(0,v.compose)(t_.Z,(0,b.connect)(function(e,t){return{updatedStatus:e.search.topicReview[t.id]}},{likeTopic:$.fz,dislikeTopic:$.Qr,cancelLikeTopic:$.n$,cancelDislikeTopic:$.Q$}))(n2),n5="SearchTopicBox",n4=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"state",{showMoreAtCorner:!1}),(0,R._)((0,E._)(e),"onAccessContent",function(t,n){n===document.activeElement&&window.open(e.props.jumpTo)}),(0,R._)((0,E._)(e),"getIntroLineCount",function(){var e=2;return D.Z.isMobileEntry&&(e=1),e}),e}return(0,a._)(n,[{key:"componentDidMount",value:function(){if(this.introRef){var e=this.introRef.querySelector(".".concat(n5,"-IntroTail"));if(e){var t=e.getBoundingClientRect().top,n=this.introRef.getBoundingClientRect();t>=n.height+n.top&&this.setState({showMoreAtCorner:!0})}}}},{key:"render",value:function(){var e=this,t=this.state.showMoreAtCorner,n=this.props,r=n.avatarUrl,a=n.jumpTo,c=n.title,l=n.excerpt,s=n.releasedAt,d=n.tags,u=n.scoreBar,h=void 0===u?{}:u,p=n.topicToken,m={ratioStatus:h.status,status:h.status,totalVotes:h.commentNum,ratio:h.score/10};return(0,i.BX)("div",{className:n5,children:[(0,i.tZ)(nJ.bY,{input:"enter",action:this.onAccessContent}),(0,i.tZ)(o.Link,{target:"_blank",className:X()("".concat(n5,"-ImageWrapper"),(0,R._)({},"".concat(n5,"-ImageWrapper--tall"),!0)),to:a,"data-za-detail-view-id":4361,children:(0,i.tZ)("img",{src:(0,tt.imgUrl)(r,"xl"),className:"".concat(n5,"-Image"),alt:"打开话题页"})}),(0,i.BX)("div",{className:"".concat(n5,"-Info"),children:[(0,i.tZ)("div",{className:"".concat(n5,"-TitleWrapper"),children:(0,i.tZ)("h2",{className:"".concat(n5,"-Title"),children:(0,i.tZ)(o.Link,{target:"_blank",to:a,dangerouslySetInnerHTML:{__html:c||name},"data-za-detail-view-id":3942})})}),s&&(0,i.BX)("div",{className:"".concat(n5,"-Meta"),children:[(0,i.tZ)("span",{className:"".concat(n5,"-MetaKey"),children:"上映时间："}),(0,i.tZ)("span",{className:"".concat(n5,"-MetaValue"),children:s})]}),d&&(0,i.BX)("div",{className:"".concat(n5,"-Meta"),children:[(0,i.tZ)("span",{className:"".concat(n5,"-MetaKey"),children:"类型："}),(0,i.tZ)("span",{className:"".concat(n5,"-MetaValue"),children:d})]}),l&&(0,i.BX)("div",{className:"".concat(n5,"-IntroductionWrapper"),ref:function(t){return e.introRef=t},style:{WebkitLineClamp:this.getIntroLineCount(),maxHeight:22*this.getIntroLineCount()},children:[(0,i.tZ)("span",{className:"".concat(n5,"-MetaKey"),children:"简介："}),(0,i.tZ)("div",{className:"".concat(n5,"-Introduction"),dangerouslySetInnerHTML:{__html:l}}),!D.Z.isMobileEntry&&(0,i.tZ)(o.Link,{target:"_blank",to:a,className:"".concat(n5,"-IntroTail"),"data-za-detail-view-id":4359,children:"更多"}),t&&(0,i.tZ)(o.Link,{target:"_blank",to:a,className:X()("".concat(n5,"-IntroTail"),"".concat(n5,"-CornerTail")),"data-za-detail-view-id":4359,children:"更多"})]})]}),m&&!D.Z.isMobileEntry&&(0,i.tZ)(n3,{id:p,topicVote:m,className:"MajorHotSpotReview"})]})}}]),n}(p.Component),n8=function(e){var t=e.item,n=t.id,o=t.schema,r=(0,b.useSelector)(function(e){return(e.entities["".concat(o)]||{})[n]}),a=r.discussions,c=r.defaultTab,d=r.tabName,u=r.topicBox,h=r.scoreBar,m=r.playList,f=r.seasonInfoList,v=void 0===f?[]:f,g=(0,eC._)((0,p.useState)(c),2),Z=g[0],x=g[1],y=(0,p.useMemo)(function(){return[{tabName:d,topicBox:u,scoreBar:h,playList:m}].concat((0,M._)(v))},[d,u,h,m,v]),_=(0,eC._)((0,p.useMemo)(function(){return[y.map(function(e,t){return{name:e.tabName,id:t}}).filter(function(e){return e.name}),y[Z]]},[y,Z]),2),w=_[0],S=_[1],B=(0,p.useMemo)(function(){var e={};return((null==a?void 0:a.contents)||[]).forEach(function(t){e[t.id]=t.items.map(function(e,t){return{index:t,type:"question",object:(0,l._)({},e.object,e.object.question),subContents:[{type:"answer",object:e.object}]}})}),(0,l._)({},e)},[a]);return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.BX)("div",{className:"FilmBox",children:[(0,i.tZ)(n4,(0,s._)((0,l._)({},S.topicBox),{scoreBar:S.scoreBar})),(0,i.tZ)(n$,{playOptions:w,currentPlayList:S.playList,currentTab:Z,setCurrentTab:x}),a&&(0,i.tZ)(nY,{discussions:a,discussionMap:B})]})})})},n6=n(53389),n9=n(57032),n7=n(65733),ie=n(7753),it=Object.assign,ii=function(e){return m().createElement(ej.Z,it({width:"18",height:"18",fill:"none"},e),m().createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#id-81991303-a)"}),m().createElement("path",{fill:"#fff",fillRule:"evenodd",d:"m9 11.625-2.512 1.32a.32.32 0 0 1-.464-.337l.48-2.797-2.033-1.98a.32.32 0 0 1 .178-.547l2.808-.408 1.256-2.545a.32.32 0 0 1 .574 0l1.256 2.545 2.808.408a.32.32 0 0 1 .178.546l-2.033 1.981.48 2.797a.32.32 0 0 1-.464.338L9 11.625z",clipRule:"evenodd"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-81991303-a",x1:"9",x2:"9",y1:"0",y2:"18",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#FD5409"}),m().createElement("stop",{offset:"1",stopColor:"#FF9607"}))))},io=function(e){var t=e.title,n=e.link,o=(0,tE.F)().colors,r=o.GBL05A,a=o.GBK10A,c=o.GBK02A,l=(0,tE.F)().colorMod,s=(0,n7.Z)(function(){window.open(n)});return(0,i.BX)(ef.Flex,{justifyContent:"space-between",alignItems:"center",children:[(0,i.BX)(ef.Flex,{alignItems:"center",css:{paddingRight:"12px",height:"25px",fontSize:"15px",background:"linear-gradient(270deg, ".concat(a," 2.44%, ").concat(l(a).alpha(1e-4)," 100%)"),borderRadius:"15px",fontWeight:500,color:c},children:[(0,i.tZ)(ii,{css:{marginRight:"8px"},text:!0,center:!0}),t]}),n&&(0,i.BX)(P.$U,{zaType:"Button",zaModuleId:"apply_more_button",zaAction:"OpenUrl",onClick:s,role:"button",tabIndex:0,css:{fontSize:"14px",color:r,cursor:"pointer"},children:["更多",(0,i.tZ)(ie.ZP,{css:{width:"14px",height:"14px",marginLeft:"3px",marginTop:"1px"},text:!0,center:!0})]})]})},ir=function(e){var t=e.data,n=e.className,o=e.iconTitle,r=t.contentList,a=t.topicId,c=(0,tE.F)().colors,s=c.GBK02A,d=c.GBK06A,u=c.GBL07A,h=function(e,t){window.open("https://www.zhihu.com/question/".concat(t))};return(0,i.BX)("div",{css:{marginTop:"30px"},className:X()(n),children:[(0,i.tZ)(io,(0,l._)({title:void 0===o?"正在热议":o},a&&{link:"https://www.zhihu.com/topic/".concat(a)})),(0,i.tZ)("div",{css:{position:"relative"},children:r.map(function(e,t){var n=e.title,o=e.visitCount,r=e.answerCount,a=e.id,c=e.type,p=[{text:"浏览",value:o},{text:"讨论",value:r}].filter(function(e){return!!e.value}).map(function(e){return(0,et.Zh)(e.value)+e.text}).join(" \xb7 ");return(0,i.tZ)(P.eV,{content:{type:ec.LA[c],id:a},children:(0,i.BX)(P.Wi,{shouldTrackClick:!0,zaAction:"OpenUrl",zaType:"Block",zaModuleId:"apply_list",zaModuleIndex:t,onClick:function(e){return h(e,a)},role:"button",tabIndex:0,css:{fontSize:"14px",lineHeight:"16px",display:"flex",em:{fontStyle:"normal",color:"#f1403c"},marginTop:"16px",cursor:"pointer"},children:[(0,i.BX)(ef.Flex,{alignItems:"center",children:[(0,i.tZ)(n9.ZP,{size:16,css:{fill:"#FC313D",marginRight:"8px",flexShrink:0}}),(0,i.tZ)("div",{dangerouslySetInnerHTML:{__html:n},css:(0,l._)({color:s,":hover,:active":{color:u}},(0,eu.S)(1))})]}),(0,i.tZ)("div",{css:{flexShrink:0,marginLeft:"10px",color:d},children:p})]})},a)})})]})},ia=function(e){var t=e.data,n=(0,tE.F)().colors,o=n.GBK04A,r=n.GBK10A,a=n.GBK09A,c=t||{},s=c.name,d=c.genre,u=c.years,h=void 0===u?[]:u,p=c.degree,m=c.classification,f=c.topicId,v=(void 0===d?[]:d).map(function(e,t){return e+((null==h?void 0:h[t])?" \xb7 "+h[t]:"")}),g=(void 0===p?[]:p).map(function(e){return e.replace(/[，]/g,"/")}),Z=v.concat([m].concat((0,M._)(g))),x=(0,n7.Z)(function(){f&&window.open("https://www.zhihu.com/topic/".concat(f))});return(0,i.BX)(P.$U,{shouldTrackShow:!0,zaType:"Block",zaAction:"OpenUrl",zaModuleId:"ncee_intro_block",css:(0,l._)({borderBottom:"1px solid ".concat(a),marginBottom:"20px"},f&&{cursor:"pointer"}),role:"button",tabIndex:0,onClick:x,children:[(0,i.tZ)("div",{css:{fontSize:"20px",lineHeight:"28px",fontWeight:"bold",marginBottom:"8px",em:{fontStyle:"normal",color:"#f1403c"}},dangerouslySetInnerHTML:{__html:s}}),(0,i.tZ)(ef.Flex,{css:{color:o,fontSize:"12px",paddingBottom:"20px"},children:(0,i.tZ)(ef.Flex,{children:Z.map(function(e){return(0,i.tZ)("div",{css:{marginRight:"4px",backgroundColor:(0,tL.a)(r).alpha(.7),padding:"3px 4px",lineHeight:"14px",borderRadius:"3px"},children:e},e)})})})]})},ic=function(e){var t=e.title,n=e.link,o=e.className;return(0,i.tZ)(P.eV,{block:"More",children:(0,i.BX)(tS.pl,(0,s._)((0,l._)({className:o,zaText:t,as:"a"},n&&{href:n}),{target:"_blank",css:{display:"flex",justifyContent:"center",alignItems:"center",height:"20px",fontWeight:500,fontSize:"14px",lineHeight:"normal"},children:[t,(0,i.tZ)(J.N,{css:{width:"20px",height:"20px"},text:!0,center:!0})]}))})},il=function(e){var t=e.className,n=(0,tE.F)().colors.GBK06A;return(0,i.tZ)("div",{className:t,css:{lineHeight:"20px",color:n,textAlign:"center"},children:"暂无数据"})},is=function(e){var t,n,o=e.data,r=e.isCourses,a=e.moreButtonZaModuleId,c=(0,tE.F)().colors,l=c.GBK10A,s=c.GBK03A,d=(0,eC._)((0,p.useState)(!1),2),u=d[0],h=d[1],m=(0,eC._)((0,p.useState)(!1),2),f=m[0],v=m[1],g=o.id,Z=o.name,x=(0,b.useDispatch)(),y=(0,b.useSelector)(function(e){return e.search.university.aceMajors}),_=(0,b.useSelector)(function(e){return e.search.majors["courses-".concat(g)]}),w=(0,p.useMemo)(function(){return(r?_:y)||{}},[_,y,r]),k=Object.keys(w).length>0,S=(0,eZ.dD)(),B=r&&!S?10:5,I=(0,p.useMemo)(function(){var e=new URL("https://www.zhihu.com/campaign/search-gaokao-subPage/main/majors/".concat(g));return e.search=new URLSearchParams({tabs:0,major:encodeURIComponent(Z.replace(/<\/?[^>]*>/g,""))}).toString(),e.toString()},[g,Z]);(0,p.useEffect)(function(){k||(r?x((0,$.Ho)(g)):x((0,$.L)(g)))},[x,g]);var C=(0,p.useMemo)(function(){return r?[{title:"",value:null==w?void 0:w.courses,isHide:f}]:[{title:"开设专业",value:null==w?void 0:w.majors,isHide:u}].filter(function(e){var t;return!!(null===(t=e.value)||void 0===t?void 0:t.length)})},[w,f,u,r]),T=function(e,t,n,i){t||S?window.open(t):i(!0)};return(0,i.tZ)("div",{css:[!S&&{maxHeight:"364px",overflowX:"hidden",overflowY:"scroll"},{boxSizing:"border-box",padding:S?"16px 14px":"20px 20px 10px","&::-webkit-scrollbar":{display:"none"}}],children:k&&((null===(t=w.majors)||void 0===t?void 0:t.length)||(null===(n=w.courses)||void 0===n?void 0:n.length))?C.map(function(e,t){var n,o,c;return(0,i.tZ)("div",{css:{marginBottom:0},children:(0,i.BX)(ef.Flex,{flexWrap:"wrap",children:[null===(n=e.isHide?e.value:null===(o=e.value)||void 0===o?void 0:o.slice(0,B))||void 0===n?void 0:n.map(function(t){return(0,i.tZ)(P.$U,{zaType:"Button",zaAction:"OpenUrl",extra:{configMap:{major:t.name}},css:[{padding:"6px 12px",backgroundColor:l,borderRadius:"22px",color:s,margin:"0 8px 10px 0",flexShrink:0,cursor:"pointer",fontSize:"14px"},S&&{margin:"0 8px 16px 0"}],role:"button",tabIndex:0,onClick:function(n){return T(n,"/search?q=".concat(t.name.replace(/[+]/g,"%2B").replace(/#/g,"%23").replace(/&/g,"%26"),"&type=content"),e.title||"开设课程","",t.name)},children:t.name},t.name)}),!e.isHide&&(null===(c=e.value)||void 0===c?void 0:c.length)>B&&(S?(0,i.tZ)("div",{css:{width:"100%"},children:(0,i.tZ)(ic,{title:"全部课程",link:I})}):(0,i.BX)(P.$U,{zaType:"Button",zaModuleId:a,zaAction:"OpenUrl",extra:{configMap:{major:e.title||"开设课程"}},role:"button",tabIndex:0,css:{padding:"6px 12px",backgroundColor:l,borderRadius:"22px",color:s,marginBottom:S?"16px":"10px",cursor:"pointer"},onClick:function(t){return T(t,"",e.title||"开设课程",r?v:h,"更多")},children:["更多",(0,i.tZ)(ie.ZP,{css:{width:"14px",height:"14px"},text:!0,center:!0})]}))]})},t)}):(0,i.tZ)(il,{css:{padding:"66px 0 "}})})},id=n(12664),iu=function(e){var t=e.num,n=e.fill,o=t/100,r=80*Math.PI;return(0,i.BX)("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.tZ)("circle",{cx:"40",cy:"40",r:"38",stroke:n,strokeWidth:"4"}),(0,i.tZ)("circle",{cx:"40",cy:"40",r:"38",transform:"matrix(0,-1,1,0,0,80)",stroke:"url(#paint0_linear)",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"".concat(r*o," ").concat(r*(1-o))}),(0,i.tZ)("defs",{children:(0,i.BX)("linearGradient",{id:"paint0_linear",x1:"40",y1:"80",x2:"40",y2:"3.35836e-06",gradientUnits:"userSpaceOnUse",children:[(0,i.tZ)("stop",{stopColor:"#0066FF"}),(0,i.tZ)("stop",{offset:"1",stopColor:"#00A3FF"})]})})]})},ih=function(e){var t=e.data,n=(0,tE.F)().colors,o=n.GBL01A,r=n.GBK03A,a=n.GBK10A,c=(null==t?void 0:t.value)||{},l=[{name:"就业率",value:c.jobPercentage},{name:"出国率",value:c.abroadPercent},{name:"升学率",value:c.postPercent}].filter(function(e){return!!e.value});return(0,i.tZ)("div",{children:(0,i.tZ)("div",{css:{display:"flex",justifyContent:"space-around"},children:l.map(function(e,t){return(0,i.BX)("div",{children:[(0,i.BX)("div",{css:{position:"relative",height:"80px",width:"80px"},children:[(0,i.tZ)(iu,{fill:a,num:100===Number(e.value)?e.value:.93*e.value}),(0,i.BX)(ef.Flex,{css:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",color:o},children:[(0,i.tZ)("div",{css:{fontFamily:"ZHVipFont",fontSize:"24px"},children:e.value}),(0,i.tZ)(ef.Flex,{alignItems:"flex-end",css:{fontSize:"12px"},children:"%"})]})]}),(0,i.tZ)("div",{css:{color:r,fontSize:"13px",marginTop:"7px",height:"18px",lineHeight:"18px",textAlign:"center"},children:e.name})]},t)})})})},ip=["开设课程","开设院校","就业前景"],im=["历年分数线","开设专业","就业去向","招生信息"],iv=function(e){var t=e.percent,n=e.color,o=(0,tE.F)().colors.GBK10A;return(0,i.tZ)("div",{css:{height:"5px",backgroundColor:o,margin:"4px 0 14px",position:"relative",borderRadius:"2.5px"},children:(0,i.tZ)("div",{css:{position:"absolute",left:0,top:0,bottom:0,right:"".concat(100-t,"%"),background:function(){switch(n){case"green":return"linear-gradient(90deg, #38B56A 0%, #69D136 100%)";case"orange":return"linear-gradient(90deg, #F76D20 0%, #FFC700 100%)";default:return"linear-gradient(90deg, #0066FF 0%, #00A3FF 100%)"}}(),borderRadius:"inherit"}})})},ig=function(e){var t=e.data,n=(0,tE.F)().colors,o=n.GBK03A,r=n.GBK07A;return(0,i.BX)("div",{children:[(0,i.tZ)("div",{children:t.value.map(function(e,n){return(0,i.BX)("div",{children:[(0,i.BX)("div",{css:{fontSize:"13px",display:"flex",justifyContent:"space-between",color:o,height:"18px",lineHeight:"18px"},children:[(0,i.tZ)("div",{children:e.name}),(0,i.tZ)("div",{children:e.percent+"%"})]}),(0,i.tZ)(iv,{percent:e.percent,color:t.color})]},n)})}),["行业分布","就业最多岗位","就业最多行业"].includes(t.name)&&(0,i.tZ)("div",{css:{fontSize:"11px",color:r,paddingTop:"12px",transform:"scale(0.95) translateZ(0)",transformOrigin:"left top"},children:"* 本数据来自于掌上高考"})]})},iZ=function(e){var t=e.titles,n=e.titleIndex,o=e.setTitleIndex,r=e.zaModuleId,a=(0,tE.F)().colors,c=a.GBK06A,l=a.GBK02A,s=a.GBK08A,d=function(e,t){o(t)};return(0,i.tZ)(ef.Flex,{children:t.map(function(e,t){return(0,i.tZ)(P.$U,{zaModuleId:r,zaModuleIndex:t,zaType:"Button",extra:{configMap:{tab:e}},css:{color:n===t?l:c,fontWeight:500,fontSize:"14px",lineHeight:"24px",marginRight:"21px",cursor:"pointer",position:"relative",flexShrink:0,":not(:first-of-type):after":{content:'""',height:"10px",width:"1px",position:"absolute",backgroundColor:s,left:"-11px",top:"50%",transform:"translateY(-50%)"}},role:"button",tabIndex:0,onClick:function(n){return d(n,t,e)},children:e},e)})})},ix=function(e){var t,n,o,r=e.data,a=e.isStats,c=e.attachedInfoBytes,s=(0,eC._)((0,p.useState)(0),2),d=s[0],u=s[1],h=(0,b.useDispatch)(),m=(0,eZ.dD)(),f=r.id,v=r.name,g=new URL("https://www.zhihu.com/campaign/search-gaokao-subPage/main/majors/".concat(f));g.search=new URLSearchParams({tabs:2,major:(0,n6.Z)(v)});var Z=(0,b.useSelector)(function(e){return e.search.university.employmentDestination}),x=(0,b.useSelector)(function(e){return e.search.majors["stats-".concat(f)]}),y=(a?x:Z)||{},_=Object.keys(y).length>0;(0,p.useEffect)(function(){_||(a?h((0,$.fy)(f)):h((0,$.CP)(f)))},[f,h,_,a]);var w=y||{},k=w.stats,S=w.cities,B=w.industries,I=void 0===B?{}:B,C=w.positions,T=w.areas,z=w.salaries,N=void 0===z?{}:z,A=a?"job_second_tab":"school_second_tab",L=a?[{name:"薪资趋势",value:N,Render:id.Z,extra:{type:"专业"}},{name:"就业最多岗位",value:(void 0===C?{}:C)||{},Render:ig},{name:"就业最多行业",value:I||{},color:"green",Render:ig},{name:"就业最多地区",value:(void 0===T?{}:T)||{},color:"orange",Render:ig}]:[{name:"毕业去向",value:void 0===k?{}:k,Render:ih},{name:"薪资趋势",value:N,Render:id.Z},{name:"就业地区分布",value:void 0===S?{}:S,Render:ig},{name:"行业分布",value:I,Render:ig}],E=L[d].Render;return(0,i.BX)("div",{css:{padding:"20px"},children:[(0,i.tZ)("div",{css:{paddingBottom:"30px",overflow:"auto","&::-webkit-scrollbar":{display:"none"}},children:(0,i.tZ)(iZ,{zaModuleId:A,titles:L.map(function(e){return e.name}),titleIndex:d,setTitleIndex:u,attachedInfoBytes:c})}),(0,i.BX)("div",{css:{padding:m?"0":"0 20px",paddingBottom:0!==d||a?0:"20px"},children:[_&&(null===(t=Object.keys(null==L?void 0:null===(n=L[d])||void 0===n?void 0:n.value))||void 0===t?void 0:t.length)>0?(0,i.tZ)(E,(0,l._)({data:L[d]},null===(o=L[d])||void 0===o?void 0:o.extra)):(0,i.tZ)(il,{css:{padding:"40px 0"}}),m&&(0,i.tZ)(ic,{css:{marginTop:"20px"},title:"全部就业前景",link:g.toString()})]})]})},iy=function(e){var t=e.tabs,n=e.activityIndex,o=e.handleSwitchTabs,r=(0,tE.F)().colors,a=r.GBK03A,c=r.GBL01A;return(0,i.tZ)(ef.Flex,{children:t.map(function(e,t){return(0,i.tZ)(P.$U,{shouldTrackShow:!0,zaType:"Button",zaModuleIndex:t,extra:{configMap:{tab:e}},css:{fontWeight:500,fontSize:"15px",lineHeight:"20px",color:n===t?c:a,marginRight:"26px",cursor:"pointer"},role:"button",tabIndex:0,onClick:function(n){return o(n,t,e)},children:e},t)})})},i_=n(7835),ib=n(45001),iw=n(19987),ik=function(e){var t=e.item,n=(0,eZ.dD)(),o=(0,tE.F)().colorMod,r=t.name,a=t.province,c=t.titles,l=t.badgeUrl,s=t.genre,d=s?[s].concat((0,M._)(c)):c,u=n?d.slice(0,3):d,h=(0,tE.F)().colors,p=h.GBK02A,m=h.GBK09A,f=h.GBK04A,v=h.GBK10A,g=function(e,t){window.open("/search?q=".concat(t,"&type=content"))};return(0,i.BX)(P.$U,{zaType:"Block",zaAction:"OpenUrl",zaModuleId:"college_list",extra:{configMap:{school:r}},as:ef.Flex,p:"14px 0",justifyContent:"space-between",alignItems:"center",css:{cursor:"pointer",":first-of-type":{paddingTop:"0"},":last-of-type":{paddingBottom:"24px"},":not(:last-of-type)":{borderBottom:"1px solid ".concat(o(m).alpha(.6))}},onClick:function(e){return g(e,r)},children:[(0,i.BX)(ef.Flex,{children:[(0,i.tZ)("div",{css:{width:"49px",height:"49px",marginRight:"11px",fontSize:0,borderRadius:"50%"},children:(0,i.tZ)("img",{css:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"},src:l,alt:""})}),(0,i.BX)("div",{children:[(0,i.tZ)("div",{css:{color:p,fontSize:"15px",lineHeight:"21px",fontWeight:"bold"},children:r}),u.length>0&&(0,i.tZ)(ef.Flex,{mt:"6px",children:u.map(function(e){return(0,i.tZ)("div",{css:{color:f,fontSize:"12px",lineHeight:"14px",padding:"3px 4px",backgroundColor:o(v).alpha(.7),borderRadius:"3px",marginRight:"4px"},children:e},e)})})]})]}),(0,i.tZ)("div",{css:{fontSize:"13px",color:f},children:a})]},r)},iS=function(e){var t,n=e.data,o=(0,b.useDispatch)(),r=(0,P.Q4)().trackEvent,a=n.id,c=n.name,l=(0,b.useSelector)(function(e){return e.search.majors["universities-".concat(a)]}),s=l||{},d=s.paging,u=(void 0===d?{}:d).isEnd,h=s.isLoading,m=s.provinces,f=s.tags,v=[m,s.types,f],g=(0,eC._)((0,p.useState)(["","",""]),2),Z=g[0],x=g[1],y=(0,eZ.dD)();(0,i_.Z)(function(){o((0,$.le)(a,"","","",!0))});var _=(0,p.useMemo)(function(){var e=new URL("https://www.zhihu.com/campaign/search-gaokao-subPage/main/majors/".concat(a));return e.search=new URLSearchParams({tabs:1,major:encodeURIComponent(c.replace(/<\/?[^>]*>/g,""))}).toString(),e.toString()},[a,c]),w=function(e,t){var n=t?(0,M._)(Z):["","",""];n[t]=e,x(n),o($.le.apply(void 0,[a].concat((0,M._)(n),[!0]))),r({eventType:"Click",elementLocation:{type:"Block",moduleId:"host_colleges_filter",moduleIndex:t}},{configMap:{province:n[0],college_type:n[1],college_tag:n[2]}})};return(0,i.BX)(i.HY,{children:[(0,i.tZ)(iw.O,{css:{padding:"20px",".Popover":{width:"calc(33% - 5px)"}},children:v.map(function(e,t){var n;return(0,i.tZ)(ib.Z,{targetClassName:y?"search-gaokao":"search-gaokaoPC",text:(0,i.tZ)("span",{css:(0,eu.S)(1),children:Z[t]||(null===(n=v[t])||void 0===n?void 0:n[0])||"全部"}),onChange:function(e){return w(e,t)},margin:50,fixFirstItem:!0,children:null==e?void 0:e.map(function(e,t){return(0,i.tZ)(ib.W,{value:e},t)})},t)})}),(null==l?void 0:null===(t=l.universities)||void 0===t?void 0:t.length)>0?y?(0,i.BX)("div",{css:{paddingBottom:"20px"},children:[(0,i.tZ)("div",{css:{padding:"0 30px"},children:l.universities.slice(0,3).map(function(e,t){return(0,i.tZ)(ik,{item:e},t)})}),(0,i.tZ)("div",{role:"button",tabIndex:0,children:(0,i.tZ)(ic,{title:"全部院校",link:_})})]}):(0,i.tZ)(ed.ZP,{onLoad:function(){o($.le.apply(void 0,[a].concat((0,M._)(Z))))},isLoading:h,isDrained:u,children:(0,i.tZ)("div",{css:{padding:"0 30px",maxHeight:"406px",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{display:"none"}},children:l.universities.map(function(e,t){return(0,i.tZ)(ik,{item:e},t)})})}):(0,i.tZ)(il,{css:{padding:"66px 0 "}})]})},iB=function(e){var t=e.data,n=e.attachedInfoBytes,o=(0,tE.F)().colors.GBK09A,r=(0,tE.F)().colorMod,a=(0,eC._)((0,p.useState)(0),2),c=a[0],l=a[1];return(0,i.BX)(P.eV,{moduleId:"school_major_tab",children:[(0,i.tZ)(iy,{tabs:ip,activityIndex:c,handleSwitchTabs:function(e,t){l(t)}}),(0,i.tZ)("div",{css:{marginTop:"16px",border:"1px solid ".concat(r(o).alpha(.6)),borderRadius:"8px"},children:function(e,t){switch(e){case 0:return(0,i.tZ)(P.eV,{moduleId:"course_tab",children:(0,i.tZ)(is,{moreButtonZaModuleId:"course_more_button",isCourses:!0,data:t,attachedInfoBytes:n})});case 1:return(0,i.tZ)(iS,{data:t,attachedInfoBytes:n});case 2:return(0,i.tZ)(ix,{data:t,attachedInfoBytes:n,isStats:!0});default:return null}}(c,t)})]})},iI=function(e){var t,n=e.data,o=e.attachedInfoBytes;return(0,i.BX)(P.eV,{extra:{configMap:{major:(0,n6.Z)(n.name)}},children:[(0,i.tZ)(ia,{data:n,attachedInfoBytes:o}),(0,i.tZ)(iB,{data:n,attachedInfoBytes:o}),(null===(t=n.contentList)||void 0===t?void 0:t.length)>0&&(0,i.tZ)(ir,{iconTitle:"知友讨论",data:n,css:{margin:"30px 0 6px"},attachedInfoBytes:o})]})},iC=n(45735),iT=n(92995);function iz(){var e=new Date,t=iC.Z(e),n=+iT.Z("".concat(t,"-05-25 00:00:00")),i=+iT.Z("".concat(t,"-08-11 00:00:00")),o=e.valueOf();return o>n&&o<i}var iN=n(81488),iA=function(e){var t,n,o=e.data,r=(0,tE.F)().colors,a=r.GBK99B,c=r.GBK02B,l=(0,tE.F)().colorMod,s=(0,eC._)((0,p.useState)(null),2),d=s[0],u=s[1],h=o.name,m=o.id,f=(0,n7.Z)(function(e,t,n){"video"===t.type?window.open("https://www.zhihu.com/answer/".concat(t.dataUrl)):3===n?window.open("/campaign/search-gaokao-subPage/images/".concat(m,"?school=").concat(encodeURIComponent(h.replace(/<\/?[^>]*>/g,"")))):u(e.target)}),v=(0,n7.Z)(function(){return u(null)});return(0,i.BX)(P.Wi,{zaType:"Block",zaModuleId:"school_environment_block",css:{marginTop:"30px"},children:[(0,i.tZ)(io,{title:"校园环境"}),(0,i.BX)(ef.Flex,{justifyContent:"space-around",mt:"14px",css:{position:"relative",fontSize:0},children:[null==o?void 0:null===(t=o.thumbnail)||void 0===t?void 0:null===(n=t.thumbnails)||void 0===n?void 0:n.slice(0,4).map(function(e,t){var n,o;return(0,i.BX)(P.$U,{zaAction:(n=e.type,3===t||"video"===n?"OpenUrl":""),zaType:(o=e.type,3===t?"Button":"video"===o?"Video":"Image"),zaModuleId:"school_environment_list",zaModuleIndex:t,css:{width:"160px",height:"120px",borderRadius:"5px",position:"relative"},role:"button",tabIndex:0,onClick:function(n){return f(n,e,t)},children:["video"===e.type&&(0,i.tZ)(te.o,{css:{position:"absolute",width:"28px",height:"28px",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),(0,i.tZ)("img",{css:{width:"100%",height:"100%",borderRadius:"inherit",objectFit:"cover"},src:e.url,alt:""}),3===t&&(0,i.tZ)("div",{css:{position:"absolute",width:"100%",height:"100%",left:0,top:0,fontSize:"15px",display:"flex",alignItems:"center",justifyContent:"center",color:a,borderRadius:"inherit",backgroundColor:l(c).alpha(.4),cursor:"pointer"},children:"查看更多"})]},t)}),d&&(0,i.tZ)(iN.Z,{img:d,onClose:v})]})]})},iL=function(e){var t=e.data,n=(0,tE.F)().colors.GBK04A,o=t.badgeUrl,r=t.name,a=t.genre,c=t.titles,l=t.province,s=t.class,d=t.type,u=t.topicId,h=[l,s,d,a].concat((0,M._)(c)).filter(Boolean),m=u&&"0"!==u,f=(0,n7.Z)(function(){m&&window.open("https://www.zhihu.com/topic/".concat(u))});return(0,i.BX)(P.$U,{as:ef.Flex,zaAction:"OpenUrl",zaType:"Block",zaModuleId:"ncee_intro_block",onClick:f,css:{cursor:m?"pointer":"auto"},children:[(0,i.tZ)("div",{css:{marginRight:"14px",width:"80px",height:"80px",borderRadius:"50%"},children:(0,i.tZ)("img",{css:{width:"100%",height:"100%",borderRadius:"inherit",objectFit:"cover"},src:o,alt:""})}),(0,i.BX)(ef.Flex,{justifyContent:"center",flexDirection:"column",children:[(0,i.tZ)("div",{css:{marginBottom:"12px",fontSize:"20px",height:"28px",fontWeight:500,em:{fontStyle:"normal",color:"#f1403c"}},dangerouslySetInnerHTML:{__html:r}}),(0,i.tZ)("div",{css:{fontSize:"13px",color:n,lineHeight:"18px"},children:h.map(function(e,t){return(0,i.BX)(p.Fragment,{children:[e,(0,i.tZ)("span",{css:{marginRight:"10px"}})]},t)})})]})]})},iE=function(e){var t=e.data,n=(0,p.useRef)(),o=(0,tE.F)().colors.GBK04A,r=(0,eC._)((0,p.useState)(!1),2),a=r[0],c=r[1],l=(0,b.useDispatch)(),s=t.id,d=t.introduction,u=(0,b.useSelector)(function(e){return e.search.university.intro});(0,p.useEffect)(function(){u||l((0,$.m4)(s))},[s,l]);var h=(u||{}).content;return(0,i.tZ)(P.eV,{moduleId:"admissions_info_button",children:(0,i.tZ)("div",{ref:n,css:{padding:"16px 20px",fontSize:"14px",lineHeight:"24px",color:o,maxHeight:"364px",boxSizing:"border-box",overflowX:"hidden",overflowY:"scroll","&::-webkit-scrollbar":{display:"none"}},children:u&&h&&d?(0,i.tZ)(tl.Z,{expandButtonZaType:"Button",excerpt:(0,e9.Z)(d,205,"...",215),html:h,truncateDisabled:!0,allowCollapseWithEmptyExcerpt:!0,expanded:a,onToggleExpend:function(e){c(e)},noCollapsed:!0,className:"search-gaokao-AdmissionsGuide"}):(0,i.tZ)(il,{css:{padding:"50px 0"}})})})},iR=n(91070),iM=function(e,t,n){switch(e){case 0:return(0,i.tZ)(iR.default,{data:t,attachedInfoBytes:n});case 1:return(0,i.tZ)(P.eV,{moduleId:"major_tag",children:(0,i.tZ)(is,{data:t,attachedInfoBytes:n,moreButtonZaModuleId:"major_more_button"})});case 2:return(0,i.tZ)(ix,{data:t,attachedInfoBytes:n});case 3:return(0,i.tZ)(iE,{data:t});default:return null}},iF=function(e){var t=e.data,n=e.attachedInfoBytes,o=(0,eC._)((0,p.useState)(0),2),r=o[0],a=o[1],c=(0,tE.F)().colors.GBK09A;return(0,i.tZ)(P.eV,{moduleId:"school_first_tab",children:(0,i.BX)("div",{css:{marginTop:"30px"},children:[(0,i.tZ)(iy,{tabs:im,activityIndex:r,handleSwitchTabs:function(e,t){a(t)}}),(0,i.tZ)("div",{css:{marginTop:"16px",border:"1px solid ".concat(c),borderRadius:"8px"},children:iM(r,t,n)})]})})},iH=iz(),iX=function(e){var t,n=e.data,o=e.attachedInfoBytes;return(0,i.tZ)(P.eV,{extra:{configMap:{school:(0,n6.Z)(null==n?void 0:n.name)}},children:(0,i.BX)(P.Wi,{zaType:"Block",zaModuleId:"ncee_school_block",children:[(0,i.tZ)(iL,{data:n}),(0,i.tZ)(iF,{data:n,attachedInfoBytes:o}),(null===(t=n.contentList)||void 0===t?void 0:t.length)>0&&(0,i.tZ)(ir,{data:n,attachedInfoBytes:o}),n.thumbnail.count>=4&&iH&&(0,i.tZ)(iA,{data:n,attachedInfoBytes:o})]})})},ij=function(e){var t=e.item,n=t.object.type,o=null;return("university"===n&&(o=(0,i.tZ)(iX,{data:t.object.universityInfo,attachedInfoBytes:t.object.attachedInfoBytes})),"major"===n&&(o=(0,i.tZ)(iI,{data:t.object.majorInfo,attachedInfoBytes:t.object.attachedInfoBytes})),o)?(0,i.tZ)(k.ZP,{children:(0,i.tZ)(er.Z,{children:o})}):null},iP=Object.assign,iq=function(e){return m().createElement(ej.Z,iP({width:"18",height:"18",fill:"none",viewBox:"0 0 18 18"},e),m().createElement("path",{fill:"url(#id-695412737-a)",fillRule:"evenodd",d:"M16.044 0C17.123 0 18 .85 18 1.898v11.557c0 1.048-.876 1.898-1.956 1.898h-4.305l-1.865 2.241a1.145 1.145 0 0 1-1.747 0l-1.866-2.24H1.957C.876 15.353 0 14.503 0 13.454V1.898C0 .85.876 0 1.957 0h14.087ZM3 5a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm1 4a1 1 0 1 0 0 2h10a1 1 0 1 0 0-2H4Z",clipRule:"evenodd"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-695412737-a",x1:".066",x2:"-4.64",y1:"-4.748",y2:"18.371",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#0087F2"}),m().createElement("stop",{offset:"1",stopColor:"#00B7F9"}),m().createElement("stop",{offset:"1",stopColor:"#00C7FF"}))))},iU=Object.assign,iD=function(e){return m().createElement(ej.Z,iU({width:"18",height:"18",fill:"none",viewBox:"0 0 18 18"},e),m().createElement("circle",{cx:"9",cy:"9",r:"9",fill:"url(#id-504782709-a)"}),m().createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M10.293 10.778c2.343-2.343 3.451-5.034 2.475-6.01-.977-.977-3.667.131-6.01 2.475-2.344 2.343-3.452 5.034-2.476 6.01.977.976 3.668-.132 6.01-2.475ZM7.025 9.01a1.5 1.5 0 1 0 3 0 1.5 1.5 0 0 0-3 0Z",clipRule:"evenodd"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-504782709-a",x1:"-.379",x2:"-3.387",y1:"-3.929",y2:"19.622",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#FD4A1F"}),m().createElement("stop",{offset:"1",stopColor:"#FF6DC4"}))))},iG=n(48725),iO={placeholders:{img:" [图片] ",video:" [视频] "}},iK=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"state",{isContentExpended:!1}),(0,R._)((0,E._)(e),"onToggleExpend",function(t){e.setState({isContentExpended:t})}),(0,R._)((0,E._)(e),"createClickButtonHandler",function(t){j.Z.trackEvent(t.target,{id:8877,action:"Answer"});var n=e.props.question.object.id,i="/question/".concat(n,"?write");window.open(i)}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.isSelfOpen,t=this.props.question,n=t.highlight,o=void 0===n?{}:n,r=o.title,a=o.description,c=t.object,d=t.object,u=d.id,h=d.title,p=d.description,m=d.type,f=d.answerCount,v=d.relationship,g=d.updatedTime,Z=d.visitsCount,x=d.followerCount,y=t.cardType,b=this.state.isContentExpended,w="/question/".concat(u),B={id:u,type:m,isFollowing:(void 0===v?{}:v).isFollowing},I=(0,i.tZ)("span",{className:"Highlight",dangerouslySetInnerHTML:{__html:r||h}}),C=a?"问题描述：".concat(a):a,T=D.Z.isMobileEntry?{onClick:function(){window.open(w,e?"_self":"_blank")},isSearchContent:!0}:{};return(0,i.tZ)(k.ZP,{role:"listitem",className:X()("SearchResult-Card",{"SearchResult-questionHotLanding":"hotLanding"===y,"SearchResult-questionHotLandingMobile":"hotLanding"===y&&D.Z.isMobileEntry}),children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(eo.ZP,(0,s._)((0,l._)({data:c,link:w,title:(0,i.tZ)("div",{className:"QuestionItem-title",children:(0,i.tZ)(tB,{url:w,title:I,isSelfOpen:e})})},T),{children:(0,i.BX)(i.HY,{children:[0===f&&(0,i.BX)(tl.Z,(0,s._)((0,l._)({css:{".CopyrightRichText-richText":(0,l._)({height:D.Z.isMobileEntry&&!C?0:"auto"},D.Z.isMobileEntry&&(0,eu.S)(1))},className:X()({Highlight:!b}),excerpt:(0,e9.Z)(C,_._x)||C,truncateDisabled:!0,truncateHTMLOptions:iO,html:p,onToggleExpend:this.onToggleExpend,expanded:b},T),{children:[(0,i.tZ)(e$.Z,(0,l._)({className:"QuestionFollowButton Search-questionFollowButton",zaId:8876},B)),!D.Z.isMobileEntry&&(0,i.BX)("a",{className:"Search-questionNavItem",target:"_blank",rel:"noopener noreferrer",title:"回答",role:"button",tabIndex:0,css:{cursor:"pointer"},onClick:this.createClickButtonHandler,children:[(0,i.tZ)(iG.E,{className:"Search-questionNavIcon",size:14}),(0,i.tZ)("div",{className:"Search-questionNavTitle",children:"\xa0写回答"})]}),(0,i.tZ)("div",{className:"Search-questionNavItem",children:(0,i.BX)("span",{className:"Search-questionNavTitle",children:[(0,et.Zh)(Z),"\xa0浏览"]})}),(0,i.tZ)("div",{className:"Search-questionNavItem",children:(0,i.BX)("span",{className:"Search-questionNavTitle",children:[(0,et.Zh)(x),"\xa0关注"]})})]})),0!==f&&(0,i.BX)(eo.eX,{children:[(0,i.tZ)(e$.Z,(0,l._)({className:"QuestionFollowButton Search-questionFollowButton"},B)),(0,i.BX)(S.Z,{preset:"plain",to:w,target:"_blank",children:[f," 个回答"]}),!D.Z.isMobileEntry&&(0,i.tZ)("span",{className:"SearchItem-time QuestionItem-time",children:(0,L.S9)(g)})]})]})}))})})}}]),n}(p.Component),iW=(0,v.compose)(ns,(0,tk.Ib)(function(e){return{content:{type:"Question",token:String(e.question.object.id)}}}),(0,w.a)(function(e){var t=e.question.object,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId;return{view:{id:void 0===i?3950:i},module:"QuestionItem",attachedInfoBytes:t.attachedInfoBytes,index:e.index.toString(),content:{type:"Question",token:t.id},trackCardShow:!0}}))(iK),iV=function(e){var t=e.type,n=e.item,o=e.index,r=n.object,a=r.id,c=r.schema,l=(0,b.useSelector)(function(e){return(e.entities["".concat(c,"s")]||{})[a]});switch(t){case"answer":return(0,i.tZ)(nT,{index:o,answer:{cardType:"hotLanding",type:"answer",object:l},zaInfo:{cardShowId:3950}});case"article":return(0,i.tZ)(nE,{index:o,article:{cardType:"hotLanding",type:"article",object:l},zaInfo:{cardShowId:3950}});case"question":return(0,i.tZ)(iW,{preset:"plain",index:o,question:{cardType:"hotLanding",type:"question",object:l},zaInfo:{cardShowId:3950}});default:return null}},iY=ns(function(e){var t=e.item,n=e.isSelfOpen,o=t.object,r=o.id,a=o.schema,c=(0,b.useSelector)(function(e){return(e.entities["".concat(a,"s")]||{})[r]}),s=t.subContents,d=t.type,u=c.title,h=c.answerCount,p=c.visitsCount,m=c.id,f=c.attachedInfoBytes,v=c.question,g="/".concat(d,"/").concat(m),Z=[h>0&&(0,et.Zh)(h)+"回答",p>0&&(0,et.Zh)(p)+"浏览"].filter(Boolean).join(" \xb7 "),x=D.Z.isMobileEntry?{onClick:function(){window.open(g,n?"_self":"_blank")},isSearchContent:!0}:{},y=(0,i.tZ)("span",{className:"Highlight",dangerouslySetInnerHTML:{__html:u||(null==v?void 0:v.name)}}),_=d.replace(/\b(\w)(\w*)/g,function(e,t,n){return t.toUpperCase()+n.toLowerCase()});return(0,i.tZ)(i.HY,{children:(0,i.BX)(w.r,{module:"Content",card:{content:{id:r,type:_}},attachedInfoBytes:f,children:[(0,i.tZ)(eo.ZP,(0,l._)({data:t.object,link:g,title:(0,i.tZ)("div",{className:"HotLanding-contentItemTitle",children:(0,i.tZ)(tB,{url:g,title:y,isSelfOpen:n})})},x)),Z&&(0,i.tZ)("div",{className:X()("HotLanding-contentItemCount",{"HotLanding-contentItemCountWithoutSub":(null==s?void 0:s.length)>0}),children:Z})]})})}),iQ=function(e){var t=e.item,n=e.hasHeader,o=t||{},r=o.contentItems,a=o.relatedItems,c=void 0===a?[]:a,l=o.campaignType,s=o.iconTitle,d=o.relatedItemTitle;return(0,i.BX)(i.HY,{children:[(null==r?void 0:r.length)>0&&(0,i.BX)("div",{className:X()({"HotLanding-contentList":n,"HotLanding-contentListWithoutRelated":(null==c?void 0:c.length)<=0}),children:[(0,i.tZ)("div",{className:"HotLanding-ListTitle",children:"raise_hand"===l?(0,i.BX)(i.HY,{children:[(0,i.tZ)(iq,{className:"HotLanding-icon",size:18,center:!0}),"本期问题"]}):(0,i.BX)(i.HY,{children:[(0,i.tZ)(nW,{className:"HotLanding-icon",size:18,center:!0}),s||"实时热议"]})}),(0,i.tZ)("div",{className:"HotLanding-content",children:r.map(function(e,t){var n;return(0,i.tZ)("div",{className:"HotLanding-contentItem",children:"article"===e.type?(0,i.tZ)(iV,{item:e,index:t,type:e.type}):(0,i.BX)("div",{children:[(0,i.tZ)(iY,{index:t,item:e}),null===(n=e.subContents)||void 0===n?void 0:n.map(function(e,t){return(0,i.tZ)(iV,{item:e,index:t,type:e.type},t)})]})},t)})})]}),(null==c?void 0:c.length)>0&&(0,i.BX)("div",{className:"HotLanding-relatedItems",children:[(0,i.BX)("div",{className:"HotLanding-ListTitle",children:[(0,i.tZ)(iD,{className:"HotLanding-icon",size:18,center:!0}),d||"类似事件"]}),(0,i.tZ)("div",{className:"HotLanding-content HotLanding-relatedContent",children:c.map(function(e,t){return(0,i.tZ)(iV,{item:e,index:t,type:e.type},t)})})]})]})},i$=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.discussionCount;return(0,i.BX)(o.Link,{target:"_blank",className:"SearchTopicHeaderLink",to:"/topic/".concat(t,"/hot"),"data-za-detail-view-id":4358,children:["查看全部 ",(0,et.Zh)(n),"个讨论",(0,i.tZ)(J.N,{text:!0,center:!0})]})}}]),n}(p.Component),iJ="SearchTopicHeader",i0={TALL:0,SQUARE:1},i1=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"state",{showMoreAtCorner:!1}),(0,R._)((0,E._)(e),"onAccessContent",function(t,n){n===document.activeElement&&window.open("/topic/".concat(e.props.id))}),(0,R._)((0,E._)(e),"renderDescriptions",function(){var t=e.props.meta,n=void 0===t?{}:t,o=n.scores,r=n.wikiDescription,a=n.template,c=(void 0===a?{}:a).avatarType===i0.SQUARE||(void 0===o?[]:o)[0]?1:2;return(void 0===r?[]:r).map(function(e,t){if(!(t>=c)&&e){var n=(0,eC._)(e.split(":"),2),o=n[0],r=n[1];return(0,i.BX)("div",{className:"".concat(iJ,"-Meta"),children:[(0,i.tZ)("span",{className:"".concat(iJ,"-MetaKey"),children:"".concat(o,"：")}),(0,i.tZ)("span",{className:"".concat(iJ,"-MetaValue"),children:r})]},e)}})}),(0,R._)((0,E._)(e),"getIntroLineCount",function(){var t=e.props.meta,n=void 0===t?{}:t,i=n.scores,o=void 0===i?[]:i,r=n.wikiDescription,a=void 0===r?[]:r,c=n.template,l=void 0===c?{}:c,s=4;return l.avatarType!==i0.TALL&&(s-=1),o[0]&&(s-=1),a[0]&&(s-=1),D.Z.isMobileEntry&&(s=1),l.avatarType===i0.TALL&&!o[0]&&a.length>1&&(s=2),s}),e}return(0,a._)(n,[{key:"componentDidMount",value:function(){if(this.introRef){var e=this.introRef.querySelector(".".concat(iJ,"-IntroTail"));if(e){var t=e.getBoundingClientRect().top,n=this.introRef.getBoundingClientRect();t>=n.height+n.top&&this.setState({showMoreAtCorner:!0})}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.meta,a=void 0===r?{}:r,c=t.name,l=t.avatarUrl,s=t.attachedInfoBytes,d=t.introduction,u=t.topicVote,h=t.showDiscussionLink,p=t.discussionCount,m=t.pubInfo,f=this.state.showMoreAtCorner,v=a.avatarUrl,g=a.title,Z=a.template,x=u||{},y=x.ratio,_=x.totalVotes,b=1===m.status||2===m.status;return(0,i.tZ)(w.r,{module:"ContentList",attachedInfoBytes:s,children:(0,i.BX)("div",{className:iJ,children:[(0,i.tZ)(nJ.bY,{input:"enter",action:this.onAccessContent}),(0,i.tZ)(o.Link,{target:"_blank",className:X()("".concat(iJ,"-ImageWrapper"),(0,R._)({},"".concat(iJ,"-ImageWrapper--tall"),(void 0===Z?{}:Z).avatarType===i0.TALL)),to:"/topic/".concat(n),"data-za-detail-view-id":4361,children:(0,i.tZ)("img",{src:v||(0,tt.imgUrl)(l,"xl"),className:"".concat(iJ,"-Image"),alt:"打开话题页"})}),(0,i.BX)("div",{className:"".concat(iJ,"-Info"),children:[(0,i.BX)("div",{className:"".concat(iJ,"-TitleWrapper"),children:[(0,i.tZ)("h2",{className:"".concat(iJ,"-Title"),children:(0,i.tZ)(o.Link,{target:"_blank",to:"/topic/".concat(n),dangerouslySetInnerHTML:{__html:g||c},"data-za-detail-view-id":3942})}),(0,i.tZ)("span",{className:"SearchItem-type",children:"话题"})]}),u&&_>=25&&(0,i.BX)("div",{className:"".concat(iJ,"-Meta"),children:[(0,i.tZ)("span",{className:"".concat(iJ,"-MetaKey"),children:"知乎评分："}),(0,i.tZ)("span",{className:"".concat(iJ,"-MetaValue"),children:(10*y).toFixed(1)})]}),this.renderDescriptions(),d&&(0,i.BX)("div",{className:"".concat(iJ,"-IntroductionWrapper"),ref:function(t){return e.introRef=t},style:{WebkitLineClamp:this.getIntroLineCount(),maxHeight:22*this.getIntroLineCount()},children:[(0,i.tZ)("span",{className:"".concat(iJ,"-MetaKey"),children:"简介："}),(0,i.tZ)("div",{className:"".concat(iJ,"-Introduction"),dangerouslySetInnerHTML:{__html:d}}),!D.Z.isMobileEntry&&(0,i.tZ)(o.Link,{target:"_blank",to:"/topic/".concat(n,"/intro"),className:"".concat(iJ,"-IntroTail"),"data-za-detail-view-id":4359,children:"更多"}),f&&(0,i.tZ)(o.Link,{target:"_blank",to:"/topic/".concat(n,"/intro"),className:X()("".concat(iJ,"-IntroTail"),"".concat(iJ,"-CornerTail")),"data-za-detail-view-id":4359,children:"更多"})]}),h&&(0,i.tZ)(i$,{id:n,discussionCount:p})]}),u&&!b&&!D.Z.isMobileEntry&&(0,i.tZ)(n3,{id:n,topicVote:u,className:"MajorHotSpotReview"})]})})}}]),n}(p.Component),i2=(0,v.compose)(ns,(0,w.a)(function(e){var t=e.item,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId;return{view:{id:void 0===i?3950:i},module:"Content",attachedInfoBytes:((null==t?void 0:t.object)||{}).attachedInfoBytes,index:e.index.toString(),trackCardShow:!0}}))(function(e){var t=e.item,n=e.isSelfOpen,o=(null==t?void 0:t.object)||{},r=o.title,a=o.description,c=void 0===a?{}:a,d=c.object,u=void 0===d?{}:d,h=u.description,p=u.excerpt,m=u.text,f=u.id,v=u.zvideoId,g=u.schema,Z=u.title,x=c.type,y=(0,b.useSelector)(function(e){return(e.entities["".concat(g)]||{})[f]}),_=["question","topic","article","zvideo","answer"].includes(x),w=(h||p||m||"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/<\/?[^>]*>/g,""),k="详情："+w,S="article"===x?"//zhuanlan.zhihu.com/p/".concat(f):"/".concat(x,"/").concat("zvideo"===x?v:f);if("topic"===x){var B=y.id,I=y.meta,C=y.pubInfo,T=y.avatarUrl,z=y.attachedInfoBytes,N=y.introduction,A=y.topicVote,L=y.discussionCount,E=y.name;return(0,i.tZ)(i1,{id:B,meta:I,name:E,pubInfo:C||{},avatarUrl:T,attachedInfoBytes:z,introduction:N,topicVote:A,showDiscussionLink:!1,discussionCount:L})}return(0,i.BX)("a",(0,s._)((0,l._)({"data-za-detail-view-id":3942,target:n?"_self":"_blank"},_&&{href:S}),{rel:"noopener noreferrer",children:[(0,i.tZ)("div",{className:X()("HotLanding-title","Highlight",{"HotLanding-titleLink":_}),dangerouslySetInnerHTML:{__html:r||Z}}),w&&(0,i.tZ)("div",{className:"HotLanding-description",children:_?(0,i.tZ)(nR.Z,{lines:2,text:k,bufferWidth:12,ellipsis:(0,i.BX)("span",{children:["…\xa0\xa0\xa0",(0,i.tZ)("span",{className:"HotLanding-descriptionMore",children:"更多"}),(0,i.tZ)(J.N,{className:"HotLanding-descriptionMore",center:!0})]}),dangerouslySetInnerHTML:!0}):k})]}))}),i3=function(e){var t=e.item,n=e.index,o=(null==t?void 0:t.object)||{},r=o.title,a=o.description,c=void 0===a?{}:a,l=c.type,s=c.object,d=(void 0===s?{}:s).title,u="topic"===l||r||d;return(0,i.tZ)(k.ZP,{className:"HotLanding",children:(0,i.BX)(er.Z,{children:[u&&(0,i.tZ)(i2,{item:t,index:n}),(0,i.tZ)(iQ,{item:null==t?void 0:t.object,hasHeader:u})]})})},i5=(0,w.a)(function(e){var t=e.data,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId,o=t.object,r=o.attachedInfoBytes,a=o.id;return{view:{id:void 0===i?3950:i},module:"Content",attachedInfoBytes:r,index:String(e.index),content:{type:"PaidColumn",token:String(a)},trackCardShow:!0}})(function(e){var t=e.data,n=(0,p.useRef)(),o=(0,tE.F)().colors,r=o.GBK02A,a=o.GBL05A,c=o.GRD03A,s=o.GBL07A,d=(0,tE.F)().fontWeights.bold,u=null==t?void 0:t.object,h=u.description,m=u.excerpt,f=u.title,v=u.paidColumn,g=v.id,Z=v.paidColumnId,x=function(){j.Z.trackEvent(n.current,{id:3942,action:"OpenUrl"}),window.open("https://www.zhihu.com/market/paid_column/".concat(Z,"/section/").concat(g))};return(0,i.tZ)(k.ZP,{css:{em:{color:c,fontStyle:"normal"}},children:(0,i.BX)(er.Z,{children:[(0,i.BX)("div",{ref:n,onClick:x,role:"button",tabIndex:0,css:{display:"inline-flex",alignItems:"center",marginBottom:"10px"},children:[(0,i.tZ)(np,{className:"AnswerItem-kocIcon",center:!0,size:18}),(0,i.tZ)("div",{dangerouslySetInnerHTML:{__html:f},css:{fontSize:"16px",lineHeight:"16px",cursor:"pointer",fontWeight:d,":hover,:active":{color:s}}})]}),(0,i.tZ)("div",{onClick:x,role:"button",tabIndex:0,dangerouslySetInnerHTML:{__html:m},css:(0,l._)({marginBottom:"10px",color:r,fontSize:"14px",lineHeight:"24px",cursor:"pointer"},(0,eu.S)(3))}),(0,i.tZ)("div",{onClick:x,role:"button",tabIndex:0,css:{color:a,fontSize:"14px",lineHeight:"14px",cursor:"pointer",display:"inline-block"},children:h})]})})}),i4=function(e){var t=e.item,n=t.object,o=n.type,r=n.title,a=n.excerpt,c=n.attachedInfoBytes,d=t.index,u=(0,s._)((0,l._)({},t),{object:t.object[o],highlight:{title:r,description:a},cardType:"koc"});return"answer"===o?(0,i.tZ)(nT,{answer:u,index:d,zaInfo:{cardShowId:3949},attachedInfoBytes:c}):"article"===o?(0,i.tZ)(nE,{article:u,index:d,zaInfo:{cardShowId:3949},attachedInfoBytes:c}):"paid_column"===o?(0,i.tZ)(i5,{data:t,index:d}):null},i8=n(60051),i6=function(e){var t=e.data,n=e.zaExtra,o=function(e,t,i){j.Z.trackEvent(null,{action:"OpenUrl",id:8952},(0,s._)((0,l._)({},n,i&&{button:{text:"更多"}}),{module:[(0,s._)((0,l._)({},t?{card:{content:[{author_member_hash_id:t}]}}:{}),{attached_info_bytes:e})]}))};return(0,i.BX)("div",{className:"AnniversaryActivity-authors",children:[(0,i.BX)("div",{className:"AnniversaryActivity-authorsHeader",children:[(0,i.tZ)("div",{className:"AnniversaryActivity-authorsTitle",children:null==t?void 0:t.title}),t.link&&(0,i.tZ)(tS.pl,{href:t.link,onClick:function(){return o(t.attachedInfoBytes,"",!0)},children:(0,i.BX)("div",{className:"AnniversaryActivity-authorsMore",children:["更多",(0,i.tZ)(J.N,{text:!0,center:!0})]})})]}),(0,i.tZ)("div",{className:"AnniversaryActivity-authorsContent",children:t.members.map(function(e,t){var n=e.urlToken,r=e.name,a=e.headline,c=e.attachedInfoBytes,l=e.id;return(0,i.BX)(tS.pl,{className:"AnniversaryActivity-authorsContentItem AnniversaryActivity-contentItemWrap",href:"https://www.zhihu.com/people/".concat(n),onClick:function(){return o(c,l)},children:[(0,i.tZ)(i8.Z,{user:e,shouldShowBadge:!0}),(0,i.tZ)("div",{className:"AnniversaryActivity-authorsName",children:r}),(0,i.tZ)("div",{className:"AnniversaryActivity-authorsHeadline",children:a})]},t)})})]})},i9=function(e){var t=e.image,n=e.onClick;return(0,i.tZ)("div",{className:"AnniversaryActivity-content AnniversaryActivity-contentImg",children:(0,i.tZ)("div",{className:"AnniversaryActivity-contentInfo",children:(0,i.tZ)(tS.pl,{href:t.link,onClick:n,children:(0,i.tZ)("img",{className:"AnniversaryActivity-img",src:t.avatarUrl,alt:""})})})})},i7=n(29229),oe=function(e){var t,o=e.video,r=e.dataType,a=e.className,c=o.duration,l=o.height,s=o.width,d=o.playlist,u=o.thumbnail,h=o.videoId,p=o.zvideoId,m=null===(t=(null==d?void 0:d.fHD)||(null==d?void 0:d.hD)||(null==d?void 0:d.lD)||(null==d?void 0:d.sD))||void 0===t?void 0:t.playUrl,f=(0,e8.n)().ZhihuHybrid,v=(0,i7.Z)(function(){return n.e(7190).then(n.bind(n,67495))},!!(m&&f));if(!m)return null;var g=Number(l)/Number(s);return(0,i.tZ)(P.eV,{zaType:"Card",block:"Zvideo",children:(0,i.tZ)("div",{className:"".concat(a," AnniversaryActivity-content"),children:(0,i.tZ)("div",{className:"AnniversaryActivity-contentInfo",children:(0,i.BX)(tS.pl,{href:"https://www.zhihu.com/zvideo/".concat(p),shouldTrackShow:!0,zaType:"Card",view:{elementLocation:{content:{type:"Zvideo",token:p}}},children:[f&&v&&(0,i.tZ)(v,{url:m,poster:u,duration:Number(c),videoId:h,loop:!0,width:Number(s),height:Number(l),zaInfo:{id:10145,name:"AnniversaryActivity-".concat(r)}}),!f&&(0,i.tZ)("iframe",{frameBorder:0,allowFullScreen:!0,src:"https://".concat(D.Z.videoHost,"/video/").concat(h),style:{width:"100%",height:"calc((100vw - 32px) * ".concat(g,")")}})]})})})})},ot=n(53316),on=function(e){var t=e.isBook,n=e.className,o=e.handleClick,r=e.bookColor,a=e.bookStatus,c=e.link,d=e.attachedInfoBytes;return t&&a?(0,i.tZ)(P.eV,{block:"Button",extra:{attachedInfoBytes:d},children:(0,i.tZ)(tS.pl,(0,s._)((0,l._)((0,s._)((0,l._)({zaText:a,as:"a"},c&&{href:c}),{className:X()("AnniversaryActivity-button",n)}),o&&{onClick:o},r&&{style:{backgroundColor:r}}),{children:a}))}):null},oi=function(e){var t=e.handleClick,n=e.header,o=e.handleClickHeaderBtn,r=e.days,a=n||{},c=a.avatarUrl,l=a.link,s=a.title,d=a.subTitle,u=a.attachedInfoBytes,h=a.bookInfo,p=h.isBook,m=h.status,f=h.backgroundColor,v=h.isLogin,g=h.link,Z=r?(0,i.BX)(i.HY,{children:[(0,i.tZ)(ef.Text,{as:"span",fontFamily:"ZHVipFont",fontSize:26,children:" ".concat(r," ")}),(0,i.tZ)("span",{children:"天"})]}):null;return(0,i.tZ)(P.eV,{block:"Header",extra:{attachedInfoBytes:u},children:(0,i.tZ)(ot.pl,{shouldTrackShow:!0,onClick:t,as:"div",href:l,children:(0,i.tZ)("div",{className:"AnniversaryActivity-header",style:{backgroundImage:"url(".concat(c,")")},children:(0,i.BX)("div",{className:"AnniversaryActivity-headerInfo",children:[(0,i.BX)("div",{children:[s&&(0,i.BX)("div",{className:"AnniversaryActivity-headerTitle",children:[s,Z]}),d&&(0,i.tZ)("div",{className:"AnniversaryActivity-headerSubTitle",children:d})]}),(0,i.tZ)(on,{isBook:p,bookStatus:m,className:"AnniversaryActivity-buttonReal",handleClick:o,bookColor:f,isBookLogin:v,link:g,attachedInfoBytes:u})]})})})})},oo=n(23447),or=function(e){var t=e.type,n=e.size,o=e.current,r=e.onSelect,a=(0,d._)(e,["type","size","current","onSelect"]),c=(0,p.useMemo)(function(){return Array.from({length:n},function(e,t){return t})},[n]),u=(0,tE.F)().colors,h=(0,eC._)("default"===t?["rgba(255,255,255)","rgba(255,255,255,0.4)"]:[u.GBL01A,u.GBK09A],2),m=h[0],f=h[1];return n<=1?null:(0,i.tZ)(ef.Flex,(0,s._)((0,l._)({alignItems:"center",justifyContent:"center"},a),{children:c.map(function(e){return(0,i.tZ)(ef.Box,{onClick:function(){return r(e)},mx:"1.5px",size:5,css:{borderRadius:"50%",backgroundColor:o===e?m:f}},e)})}))};function oa(e){var t=e.auto,n=void 0!==t&&t,o=e.list,r=e.type,a=e.renderItem,c=(0,eC._)((0,p.useState)(0),2),l=c[0],s=c[1],d=(0,p.useRef)(),u=(0,n7.Z)(function(){l===o.length-1?s(0):s(function(e){return e+1})});return(0,p.useEffect)(function(){if(n)return d.current=setInterval(u,5e3),function(){return clearInterval(d.current)}},[n,u]),(0,i.BX)(ef.Box,{css:{position:"relative"},children:[(0,i.tZ)(oo.Z,{current:l,onSnapChange:s,children:function(e){return o.map(function(t,n){return(0,i.tZ)(ef.Box,{css:[{width:"100%"},e],children:a(t,n)},n)})}}),(0,i.tZ)(or,{size:o.length,current:l,onSelect:s,type:r,css:{position:"absolute",bottom:"5px",left:"50%",transform:"translateX(-50%)"}})]})}var oc=(0,x.s)(function(e){var t=e.item,n=e.zaExtra,o=e.index,r=e.currentUser,a=t.icon,c=t.name,d=t.link,u=t.isLogin,h=t.attachedInfoBytes;return(0,i.tZ)(P.eV,{block:"Item",extra:{attachedInfoBytes:h},children:(0,i.BX)(tS.pl,{zaText:c,className:"AnniversaryActivity-IconItem",href:d,onClick:function(e){j.Z.trackEvent(null,{action:"OpenUrl",id:7396},(0,s._)((0,l._)({},n),{attached_info_bytes:t.attachedInfoBytes})),u&&(!r||"guest"===r.userType)&&(e.preventDefault(),location.href="https://www.zhihu.com/signin?next=".concat(encodeURIComponent(location.href)))},view:{elementLocation:{card:{index:o}}},children:[(0,i.tZ)("div",{className:"AnniversaryActivity-Icon",children:(0,i.tZ)("img",{className:"AnniversaryActivity-IconImage",src:a,alt:""})}),(0,i.tZ)("div",{className:"AnniversaryActivity-IconText",children:c})]})})}),ol=function(e){var t=e.hasMarginTop,n=e.children;return(0,i.tZ)(P.eV,{block:"Icon",children:(0,i.tZ)(P.Wi,{zaType:"Button",className:X()("AnniversaryActivity-IconWrap",{"AnniversaryActivity-IconWrapMargin":t}),children:n})})},os=function(e){var t=e.entities,n=e.hasMarginTop,o=e.zaExtra,r=t.length,a=r<=6?4:8,c=r>4&&r<=6||r>8,l=(0,p.useMemo)(function(){return Array(Math.ceil(r/a)).fill(0).map(function(e,n){return t.slice(n*a,n*a+a)})},[t,r,a]);return c?(0,i.tZ)("div",{css:{marginBottom:"10px"},children:(0,i.tZ)(oa,{list:l,renderItem:function(e,t){return(0,i.tZ)(ol,{hasMarginTop:n,children:e.map(function(e,t){return(0,i.tZ)(oc,{index:t,item:e,zaExtra:o},t)})},t)},type:"primary"})}):(0,i.tZ)(ol,{children:t.map(function(e,t){return(0,i.tZ)(oc,{index:t,item:e,zaExtra:o},t)})})},od=function(e){var t=e.programList,n=e.zaExtra,o=function(e,t){j.Z.trackEvent(null,{action:"OpenUrl",id:e},(0,s._)((0,l._)({},n),{attached_info_bytes:t}))};return(0,i.tZ)(P.eV,{block:"ProgramList",children:(0,i.tZ)(P.Wi,{zaType:"Button",className:X()({"AnniversaryActivity-programListWrapBox":2===t.length}),children:t.map(function(e,n){var r=e.link,a=e.attachedInfoBytes,c=e.avatarUrl;return(0,i.tZ)(P.eV,{block:"Item",children:(0,i.tZ)(tS.pl,{view:{elementLocation:{card:{index:n}}},href:r,className:X()("AnniversaryActivity-programListWrap",{"AnniversaryActivity-programList":1===t.length,"AnniversaryActivity-programListMore":2===t.length}),onClick:function(){return o(8951,a)},children:(0,i.tZ)("img",{className:"AnniversaryActivity-img",src:c,alt:""})})},n)})})})},ou=(0,x.s)(function(e){var t,n=e.data,o=e.zaExtra,r=e.index,a=e.currentUser,c=n.entities,d=n.cardType,u=n.attachedInfoBytes,h=n.backgroundColor,p=n.programList,m=void 0===p?{}:p,f=n.authors,v=void 0===f?{}:f,g=n.header,Z=void 0===g?{}:g,x=n.display,y=Z.days,_=Z.bookInfo,b=_.isLogin,k=_.status,S=Z.link,B=x||{},I=B.type,C=B.video,T=B.image,z=B.attachedInfoBytes,N=function(e,t){j.Z.trackEvent(null,{action:"OpenUrl",id:e},(0,s._)((0,l._)({},o),{attached_info_bytes:t})),location.href=S};return"celebrity"===n.type?null:(0,i.tZ)(w.r,{trackCardShow:!0,view:{id:7395},module:"Content",attachedInfoBytes:u,extra:o,children:(0,i.tZ)("div",(0,s._)((0,l._)({className:X()("AnniversaryActivity-wrap-mobile","AnniversaryActivity-".concat(d||"light","-mobile"),{"AnniversaryActivity-wrapFirst-mobile":0===r})},h&&{style:{backgroundColor:h}}),{children:(0,i.BX)(P.eV,{block:"AnniversaryActivity",children:[(0,i.tZ)(oi,{handleClick:function(){return N(7396,Z.attachedInfoBytes)},header:Z,days:y,handleClickHeaderBtn:function(e){e.stopPropagation(),k&&b&&(!a||"guest"===a.userType)&&(e.preventDefault(),location.href="https://www.zhihu.com/signin?next=".concat(encodeURIComponent(location.href)))}}),!!("zvideo"===I&&C&&0===C.position)&&(0,i.tZ)(oe,{video:C,dataType:n.type}),!!((null==T?void 0:T.link)&&(null==T?void 0:T.avatarUrl))&&(0,i.tZ)(i9,{image:T,onClick:function(){return N(7396,z)}}),(0,i.BX)("div",{className:X()({"AnniversaryActivity-cardTypeLight":"light"===d}),children:[(null==c?void 0:c.length)>0&&(0,i.tZ)(os,{entities:c,zaExtra:o,hasMarginTop:(null==C?void 0:C.position)===1||!(null==C?void 0:C.playlist)}),!!("zvideo"===I&&C&&1===C.position)&&(0,i.tZ)(oe,{className:"AnniversaryActivity-videoBottomPosition",video:C,dataType:n.type}),(null==m?void 0:m.length)>0&&(0,i.tZ)(od,{programList:m,zaExtra:o}),(null==v?void 0:null===(t=v.members)||void 0===t?void 0:t.length)>0&&(0,i.tZ)(i6,{data:v,zaExtra:o})]}),0===r&&"dark"===d&&(0,i.tZ)("div",{className:"AnniversaryActivity-hack"})]})}))})}),oh=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.tags,n=e.className,o=e.showLeadingBull,r=e.showTrailingBull,a=e.hasTime,c=e.commonHasTime,l=t.filter(function(e){var t=e.value;return void 0===t||t});if(!l.length)return null;var s=(0,i.tZ)("li",{className:"SearchTags-Bull",children:(0,i.tZ)(en.Z,{text:!0,center:!0})}),d=l.filter(function(e){return!!e.name});return(0,i.BX)("ul",{className:X()("SearchTags",n,{"SearchTags--hasTime":a,"SearchTags--commonHasTime":c}),children:[o&&s,d.map(function(e,t){var n=e.name,o=e.value,r=e.shrink;return(0,i.BX)(p.Fragment,{children:[(0,i.BX)("li",{className:X()("SearchTags-Tag",{"SearchTags-Tag--shrink":r}),children:[!!o&&"".concat((0,et.Zh)(parseInt(o,10))),n]}),t<d.length-1&&s]},"SearchTags-".concat(n))}),r&&s]})}}]),n}(p.Component);(0,R._)(oh,"defaultProps",{tags:[]}),(0,R._)(oh,"propTypes",{tags:em().arrayOf(em().shape({name:em().string.isRequired,value:em().oneOfType([em().number,em().string]),shrink:em().bool})),className:em().string,showLeadingBull:em().bool,showTrailingBull:em().bool});var op=function(e){var t=e.title,n=e.link,o=e.topicId,r=(0,tE.F)().colors,a=r.GBK07A,c=r.GBK10A,d=(0,tE.F)().colorMod;return(0,i.tZ)(P.eV,{block:"More",children:(0,i.BX)(ef.Flex,{justifyContent:"space-between",alignItems:"center",children:[(0,i.BX)("div",{css:{paddingRight:"12px",height:"25px",fontSize:"15px",lineHeight:"normal",background:"linear-gradient(270deg, ".concat(c," 2.44%, ").concat(d(c).alpha(1e-4)," 100%)"),borderRadius:"15px",fontWeight:500,display:"flex",alignItems:"center"},children:[(0,i.tZ)(ii,{css:{marginRight:"8px",width:"18px",height:"18px"},text:!0,center:!0}),t]}),n&&(0,i.BX)(tS.pl,(0,s._)((0,l._)({href:n,css:{fontSize:"14px",color:a,display:"flex",alignItems:"center"},zaText:"更多"},o&&{zaType:"Card",view:{elementLocation:{content:{type:"Topic",token:o}}}}),{children:["更多",(0,i.tZ)(J.N,{css:{width:"20px",height:"20px",marginBottom:"1px",lineHeight:"normal"},text:!0,center:!0})]}))]})})},om=function(e){var t=e.data,n=t.contentList,o=t.topicId,r=(0,tE.F)().colors.GBK10A;return(0,i.tZ)(P.eV,{block:"Content",children:(0,i.BX)(P.Wi,{zaType:"Button",zaText:"正在热议",children:[(0,i.tZ)(op,(0,l._)({title:"正在热议"},o&&{link:(0,nw.G)("topic",o),topicId:o})),(0,i.tZ)("div",{css:{paddingLeft:"18px",position:"relative","&::before":{content:'""',position:"absolute",left:"4px",top:"50%",width:"2px",height:"100%",backgroundColor:r,transform:"translateY(-50%)"}},children:null==n?void 0:n.map(function(e,t){var n=e.answerCount,o=e.attachedInfoBytes,a=e.id,c=e.title,d=e.type,u=e.visitCount;return(0,i.tZ)(P.eV,{extra:{attachedInfoBytes:o},block:"Item",content:{token:String(a),type:"Question"},children:(0,i.BX)(tS.pl,{href:(0,nw.G)(d,a),zaType:"Card",as:"a",css:{display:"block",":not(:last-child)":(0,s._)((0,l._)({},(0,tW.M)({borderBottom:"1px solid ".concat(r)})),{paddingBottom:"14px"}),":not(:first-of-type)":{paddingTop:"14px"},":first-of-type":{marginTop:"14px"}},children:[(0,i.tZ)("div",{css:(0,l._)({fontSize:"15px",lineHeight:"22px"},(0,eu.S)(2)),dangerouslySetInnerHTML:{__html:c}}),(0,i.tZ)(oh,{tags:[{name:"浏览",value:u},{name:"讨论",value:n}]})]})},t)})})]})})},of=n(62641),ov=function(e){var t=e.data,n=(0,tE.F)().colors,o=n.GBK10A,r=n.GBK04A,a=n.GBK06A,c=(0,of.D)(),s=t||{},d=s.name,u=s.badgeUrl,h=s.titles,p=s.province,m=s.class,f=s.type,v=s.genre,g=s.topicId,Z=[p,m,f].filter(Boolean).join(" \xb7 "),x=[v].concat((0,M._)(h)).filter(Boolean).slice(0,3);return(0,i.tZ)(P.eV,{block:"Header",children:(0,i.tZ)(tS.pl,{zaType:"Card",as:"div",view:{elementLocation:{content:{type:"Topic",token:g}}},zaText:d,shouldTrackShow:!0,href:(0,nw.G)("topic",g),onClick:function(){window.location.href=(0,nw.G)("topic",g)},children:(0,i.BX)(ef.Flex,{justifyContent:"space-between",mb:"20px",children:[(0,i.BX)("div",{children:[(0,i.tZ)(ef.Flex,{mb:"8px",alignItems:"center",children:(0,i.tZ)("div",{css:(0,l._)({display:"flex",alignItems:"center",fontWeight:500,fontSize:"20px",lineHeight:"normal",height:"28px",marginRight:"10px",em:{display:"flex",alignItems:"center",width:"100%",height:"100%"}},(0,eu.S)(1)),dangerouslySetInnerHTML:{__html:d}})}),(0,i.tZ)(ef.Flex,{mb:"6px",children:x.map(function(e,t){return(0,i.tZ)(ef.Flex,{alignItems:"center",css:{color:r,padding:"3px 6px",background:(0,tL.a)(o).alpha(.7),borderRadius:"3px",marginRight:"4px",fontSize:"12px",height:"20px"},children:e},t)})}),(0,i.tZ)(ef.Flex,{alignItems:"center",css:{color:a,fontSize:"13px",height:"17px"},children:Z})]}),(0,i.tZ)("div",{css:{width:"68px",height:"68px",flexShrink:0,borderRadius:"50%",marginLeft:"12px"},children:(0,i.tZ)("img",{css:[{width:"100%",height:"100%",objectFit:"cover",borderRadius:"inherit"},c],src:u,alt:""})})]})})})},og=function(e){var t=e.data||{},n=t.thumbnail,o=t.id,r=t.name,a=n||{},c=a.count,l=a.thumbnails;if(c<5)return null;var s="https://www.zhihu.com/campaign/search-gaokao-subPage/images/".concat(o,"?school=").concat(encodeURIComponent(r.replace(/<\/?[^>]*>/g,"")));return(0,i.tZ)(P.eV,{block:"Image",children:(0,i.BX)(P.Wi,{zaType:"Button",zaText:"校园环境",css:{marginTop:"30px"},children:[(0,i.tZ)(op,{title:"校园环境",link:s}),(0,i.BX)(tS.pl,{zaType:"Button",zaText:"校园环境",href:s,css:{display:"flex",marginTop:"14px"},children:[(0,i.BX)("div",{css:{width:"49.85%",height:0,paddingBottom:"37.32%",position:"relative",flexShrink:0,borderTopLeftRadius:"5px",borderBottomLeftRadius:"5px",marginRight:"0.58%",fontSize:0},children:[(0,i.tZ)("img",{css:{width:"100%",height:"100%",borderRadius:"inherit",objectFit:"cover",position:"absolute"},src:l[0].url,alt:""}),"video"===l[0].type&&(0,i.tZ)(te.o,{css:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",width:"28px",height:"28px"}})]}),(0,i.tZ)(ef.Flex,{flexWrap:"wrap",pb:"37.32%",css:{width:"49.56%",height:0,position:"relative"},children:l.slice(1,5).map(function(e,t){return(0,i.tZ)("div",{css:{width:"49.41%",paddingBottom:"37.07%",height:0,position:"relative",fontSize:0,":nth-of-type(2)":{borderTopRightRadius:"5px"},":nth-of-type(2n)":{marginLeft:"1.17%"},":nth-of-type(n + 3)":{marginTop:"1.17%"},":nth-of-type(4)":{borderBottomRightRadius:"5px"}},children:(0,i.tZ)("img",{css:{width:"100%",height:"100%",position:"absolute",borderRadius:"inherit",objectFit:"cover"},src:e.url,alt:""})},t)})})]})]})})},oZ=Object.assign,ox=function(e){return m().createElement(ej.Z,oZ({width:"12",height:"14",fill:"none",viewBox:"0 0 12 14"},e),m().createElement("path",{fill:"url(#id-3213726634-a)",d:"M4.277.413a.65.65 0 0 1 .69.084c.078.064.168.134.266.212.595.47 1.513 1.195 2.21 2.215.426.624.762 1.428.989 2.071.016.045.03.09.046.133.107-.206.193-.462.23-.777a.65.65 0 0 1 1.211-.244c.18.315.304.535.425.812.118.27.229.587.4 1.1.37 1.112.406 1.847.406 2.51 0 2.882-2.33 5.121-5.15 5.121-2.8 0-5.15-2.125-5.15-5.025 0-.635.066-1.632.555-2.426a6.07 6.07 0 0 1 .86-1.106c.085-.091.175-.187.272-.296.085-.096.153-.17.21-.232.112-.124.178-.196.246-.285.088-.115.178-.257.359-.597.142-.269.285-.715.39-1.235.105-.512.164-1.04.164-1.448a.65.65 0 0 1 .371-.587Z"}),m().createElement("defs",null,m().createElement("linearGradient",{id:"id-3213726634-a",x1:"6",x2:"6",y1:".35",y2:"13.65",gradientUnits:"userSpaceOnUse"},m().createElement("stop",{stopColor:"#FF9607"}),m().createElement("stop",{offset:"1",stopColor:"#FFBA07"}))))},oy=function(e){var t=e.className,n=(0,tE.F)().colors.GBK06A;return(0,i.tZ)("div",{className:t,css:{color:n,fontSize:"14px",lineHeight:"20px",textAlign:"center"},children:"暂无数据"})},o_=function(e){var t=e.data,n=(0,tE.F)().colors.GBK10A,o=(t||{}).topMajors;return(0,i.tZ)("div",{children:(null==o?void 0:o.length)>0?(0,i.tZ)(i.HY,{children:(0,i.tZ)(ef.Flex,{css:{padding:"8px 0 24px"},flexWrap:"wrap",children:o.slice(0,5).map(function(e,t){return(0,i.BX)(tS.pl,{as:"a",href:"https://www.zhihu.com/search?".concat((0,h.stringify)({type:"content",q:e.name,target:"blank"})),zaText:e.name,css:{display:"flex",alignItems:"center",fontSize:"14px",padding:"6px 12px",background:n,flexShrink:0,margin:"16px 8px 0 0",borderRadius:"22px"},children:[(0,i.tZ)(ox,{css:{marginRight:"5px"},text:!0,center:!0}),(0,i.tZ)(ef.Flex,{alignItems:"center",children:e.name})]},t)})})}):(0,i.tZ)(oy,{css:{padding:"71px 0 56px"}})})},ob=function(e){var t=e.data,n=(0,tE.F)().colors.GBK04A,o=t.introduction,r=t.introductionYear;return(0,i.tZ)("div",{children:o?(0,i.tZ)("div",{children:(0,i.tZ)("div",{css:(0,l._)({marginBottom:"16px",color:n,fontSize:"14px",lineHeight:"24px"},(0,eu.S)(3)),children:(r?r+" 修订版：":"")+o})}):(0,i.tZ)(oy,{css:{padding:"44px 0"}})})},ow=function(e){var t=e.num,n=e.fill,o=t/100,r=80*Math.PI;return(0,i.BX)("svg",{width:"80",height:"80",viewBox:"0 0 80 80",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.tZ)("circle",{cx:"40",cy:"40",r:"38",stroke:n,strokeWidth:"4"}),(0,i.tZ)("circle",{cx:"40",cy:"40",r:"38",transform:"matrix(0,-1,1,0,0,80)",stroke:"url(#paint0_linear)",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:"".concat(r*o," ").concat(r*(1-o))}),(0,i.tZ)("defs",{children:(0,i.BX)("linearGradient",{id:"paint0_linear",x1:"40",y1:"80",x2:"40",y2:"3.35836e-06",gradientUnits:"userSpaceOnUse",children:[(0,i.tZ)("stop",{stopColor:"#0066FF"}),(0,i.tZ)("stop",{offset:"1",stopColor:"#00A3FF"})]})})]})},ok=function(e){var t=e.data,n=(0,tE.F)().colors,o=n.GBK10A,r=n.GBK03A,a=n.GBK06A,c=n.GBL01A,s=(null==t?void 0:t.stats)||{},d=s.abroadPercent,u=s.jobPercentage,h=s.postPercent,p=s.topCity,m=s.topIndustry,f=[{name:"就业率",value:u},{name:"出国率",value:d},{name:"升学率",value:h}].filter(function(e){return!!e.value}),v=[{name:p,desc:"就业最多地区"},{name:m,desc:"就业最多行业"}].filter(function(e){return!!e.name});return(0,i.tZ)("div",{children:0===f.length&&0===v.length?(0,i.tZ)(oy,{css:{padding:"56px 0"}}):(0,i.tZ)(i.HY,{children:(0,i.BX)("div",{css:{paddingBottom:"24px"},children:[(0,i.tZ)(ef.Flex,{justifyContent:"space-around",children:f.map(function(e,t){return(0,i.BX)("div",{children:[(0,i.BX)("div",{css:{position:"relative",width:"80px",height:"80px"},children:[(0,i.tZ)(ow,{fill:o,num:100===Number(e.value)?e.value:.93*e.value}),(0,i.BX)(ef.Flex,{css:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)",color:c},children:[(0,i.tZ)("div",{css:{fontFamily:"ZHVipFont",fontSize:"24px"},children:e.value}),(0,i.tZ)(ef.Flex,{alignItems:"flex-end",children:"%"})]})]}),(0,i.tZ)("div",{css:{fontSize:"13px",height:"18px",lineHeight:"18px",marginTop:"7px",textAlign:"center"},children:e.name})]},t)})}),v.length>0&&(0,i.tZ)(ef.Flex,{mt:"22px",children:v.map(function(e,t){return(0,i.BX)("div",{css:{width:"48.89%",padding:"12px 14px",backgroundColor:o,alignItems:"center",justifyContent:"center",borderRadius:"5px",boxSizing:"border-box",":first-of-type":{marginRight:"7px"}},children:[(0,i.tZ)("div",{css:(0,l._)({color:r,fontSize:"14px",lineHeight:"16px",fontWeight:500,marginBottom:"6px"},(0,eu.S)(1)),children:e.name}),(0,i.tZ)("div",{css:{fontSize:"12px",lineHeight:"15px",color:a},children:e.desc})]},t)})})]})})})},oS=["王牌专业","历年分数线","就业去向","招生信息"],oB=["更多开设专业","更多分数线","更多就业去向","查看更多"],oI=function(e,t,n){switch(e){case 0:return(0,i.tZ)(o_,{data:t});case 1:return n&&(0,i.tZ)(n,{data:t,css:{padding:0}});case 2:return(0,i.tZ)(ok,{data:t});case 3:return(0,i.tZ)(ob,{data:t});default:return null}},oC=function(e){var t=e.data,o=(0,eC._)((0,p.useState)(0),2),r=o[0],a=o[1],c=(0,tE.F)().colors,l=c.GBL01A,s=c.GBK03A,d=c.GBK10A,u=c.GBK09A,h=t||{},m=h.id,f=h.name,v=new URL("https://www.zhihu.com/campaign/search-gaokao-subPage/main/".concat(m));v.search=new URLSearchParams({tabs:r,name:(0,n6.Z)(f)});var g=function(e){a(e)},Z=(0,i7.Z)(function(){return Promise.resolve().then(n.bind(n,91070))});return(0,i.tZ)(P.eV,{block:"Tabs",children:(0,i.tZ)(P.Wi,{zaType:"Button",children:(0,i.BX)("div",{css:{marginBottom:"30px"},children:[(0,i.tZ)(ef.Flex,{justifyContent:"space-between",mb:"16px",children:(0,i.tZ)(P.eV,{block:"Item",children:oS.map(function(e,t){return(0,i.tZ)(P.$U,{zaType:"Button",as:"div",onClick:function(){return g(t)},zaText:e,css:{display:"flex",alignItems:"center",fontWeight:500,height:"20px",lineHeight:"normal",background:r===t?(0,tL.a)(l).alpha(.08):d,borderRadius:"5px",color:r===t?l:s},className:"Gaokao-University-Tabs",children:e},t)})})}),(0,i.tZ)(P.eV,{block:"Content_Item",children:(0,i.tZ)("div",{css:{border:"1px solid ".concat((0,tL.a)(u).alpha(.6)),borderRadius:"8px",padding:0===r?"0 14px 16px":"16px 14px"},children:(0,i.BX)(P.eV,{block:"Item",children:[oI(r,t,Z),(0,i.tZ)(ic,{title:oB[r],link:v.toString()})]})})})]})})})},oT=iz(),oz=function(e){var t=(e.data||{}).universityInfo;return(0,i.tZ)(P.eV,{block:"University",children:(0,i.BX)("div",{className:"Highlight",children:[(0,i.tZ)(ov,{data:t}),(0,i.tZ)(oC,{data:t}),(0,i.tZ)(om,{data:t}),oT&&(0,i.tZ)(og,{data:t})]})})},oN=function(e){var t=e.data,n=t.attachedInfoBytes,o=null,r=t.type;return("university"===r&&(o=(0,i.tZ)(oz,{data:t})),"major"===r&&(o=(0,i.tZ)(iI,{data:t.majorInfo,attachedInfoBytes:n})),o)?(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(P.eV,{block:"GaoKao",extra:{attachedInfoBytes:n},children:(0,i.tZ)("div",{css:{padding:"16px"},children:o})})}):null},oA="NceeActivity",oL=function(e){var t=e.item,n=e.zaExtra,o=t.object,r=o.attachedInfoBytes,a=o.header,c=o.banner,d=o.entities,u=o.topicBestAnswereres,h=(0,tE.F)().isDarkMode,m=(0,p.useMemo)(function(){var e=a.avatarUrl,t=a.avatarUrlDark;return h?t:e},[a,h]),f=(0,p.useMemo)(function(){var e=c.imageUrl,t=c.imageUrlDark;return h?t:e},[c,h]),v=(0,p.useCallback)(function(e){var t=e.target,i=e.link,o=e.zaClickId,r=e.attachedInfoBytes,a=e.authorId;j.Z.trackEvent(t,{id:o,action:"OpenUrl"},(0,s._)((0,l._)({},n),{module:[(0,s._)((0,l._)({},a?{card:{content:[{author_member_hash_id:a}]}}:{}),{attached_info_bytes:r})]})),location.href=i},[n]),g=(0,p.useCallback)(function(e){var t=e.target,n=e.attachedInfoBytes,i=e.id,o=e.urlToken,r=e.zaClickId;v({target:t,link:"https://www.zhihu.com/people/".concat(o),zaClickId:r,authorId:i,attachedInfoBytes:n})},[v]);return(0,i.tZ)(w.r,{trackCardShow:!0,extra:n,view:{id:7395},module:"Content",attachedInfoBytes:r,children:(0,i.BX)("div",{className:oA,children:[(0,i.tZ)("div",{className:"".concat(oA,"-header"),onClick:function(e){var t=e.target;return v((0,s._)((0,l._)({target:t},a),{zaClickId:7396}))},children:(0,i.tZ)("img",{src:m,alt:""})}),(0,i.tZ)("div",{className:"".concat(oA,"-grid"),children:d.map(function(e){var t=e.icon,n=e.link,o=e.name,r=e.attachedInfoBytes;return(0,i.BX)("div",{className:"".concat(oA,"-item"),role:"button",tabIndex:0,onClick:function(e){return v({target:e.target,link:n,attachedInfoBytes:r,zaClickId:7396})},children:[(0,i.tZ)("img",{src:t,alt:""}),(0,i.tZ)("span",{children:o})]},o)})}),f&&(0,i.tZ)("div",{className:"".concat(oA,"-banner"),onClick:function(e){var t=e.target;return v((0,s._)((0,l._)({target:t},c),{zaClickId:8951}))},children:(0,i.tZ)("img",{src:f,alt:""})}),!!(null==u?void 0:u.length)&&(0,i.BX)("div",{className:"".concat(oA,"-gallery"),children:[(0,i.tZ)("div",{className:"".concat(oA,"-title"),children:"高考话题优秀答主"}),(0,i.tZ)("div",{className:"".concat(oA,"-content"),children:u.map(function(e){return(0,i.tZ)("div",{className:"".concat(oA,"-authorWrapper"),children:(0,i.BX)("div",{className:"".concat(oA,"-author"),role:"button",tabIndex:0,onClick:function(t){var n=t.target;return g((0,s._)((0,l._)({target:n},e),{zaClickId:8952}))},children:[(0,i.tZ)(i8.Z,{className:"".concat(oA,"-avatar"),user:e,shouldShowBadge:!0}),(0,i.BX)("div",{className:"".concat(oA,"-info"),children:[(0,i.tZ)("div",{className:"".concat(oA,"-name"),children:e.name}),(0,i.tZ)("div",{className:"".concat(oA,"-desc"),children:e.description})]})]})},e.id)})})]})]})})},oE="SearchTopicIndex",oR=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.item,t=e.id,n=e.title,r=e.type,a=e.discussionCount,c=e.voteupCount,l=e.attachedInfoBytes;return(0,i.tZ)(w.r,{view:{id:3951},trackCardShow:!0,module:_.g7[r],attachedInfoBytes:l,children:(0,i.BX)("li",{className:"".concat(oE,"-ItemWrapper"),children:[(0,i.tZ)(o.Link,{target:"_blank",className:"".concat(oE,"-Item"),to:"article"===r?"//zhuanlan.zhihu.com/p/".concat(t):"/".concat(r,"/").concat(t),dangerouslySetInnerHTML:{__html:n},"data-za-detail-view-id":3942}),(0,i.tZ)("span",{className:"".concat(oE,"-ItemMeta"),children:"".concat((0,et.Zh)("question"===r?a:c)).concat(_.KW[r])})]},t)})}}]),n}(p.Component),oM="SearchTopicIndex",oF=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.content,r=n.id,a=n.contentList,c=n.title,l=n.attachedInfoBytes,s=n.contentCount,d=e.id;return(0,i.tZ)(w.r,{module:"TopicIndexItem",attachedInfoBytes:l,children:(0,i.BX)("div",{className:X()(oM,t),children:[(0,i.BX)("div",{className:"".concat(oM,"-TitleWrapper"),children:[(0,i.tZ)("h3",{className:"".concat(oM,"-Title"),children:(0,i.tZ)(o.Link,{target:"_blank",to:"/topic/".concat(d,"/index#module-").concat(r),dangerouslySetInnerHTML:{__html:c},"data-za-detail-view-id":3942})}),(0,i.BX)("span",{children:["\xa0","(".concat(s,")")]})]}),(0,i.tZ)("ul",{className:"".concat(oM,"-List"),children:(void 0===a?[]:a).slice(0,2).map(function(e){return(0,i.tZ)(oR,{item:e},e.id)})})]})})}}]),n}(p.Component),oH="SearchTopicIndexesExtra",oX=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.id,r=e.attachedInfoBytes,a=t.length;return(0,i.tZ)(w.r,{attachedInfoBytes:r,module:"ContentList",children:(0,i.BX)("p",{className:"".concat(oH),children:[(0,i.tZ)("span",{className:"".concat(oH,"-LeadingText"),children:"更多内容："}),t.slice(0,2).map(function(e,t){var r=e.id,a=e.title,c=e.contentCount;return(0,i.BX)(p.Fragment,{children:[0!==t&&(0,i.tZ)(en.Z,{className:"".concat(oH,"-Bull")}),(0,i.tZ)(o.Link,{target:"_blank",className:"".concat(oH,"-Item"),to:"/topic/".concat(n,"/index#module-").concat(r),dangerouslySetInnerHTML:{__html:"".concat(a," (").concat(c,")")},"data-za-detail-view-id":4360})]},r)}),a>2&&(0,i.BX)(p.Fragment,{children:[(0,i.tZ)(en.Z,{className:"".concat(oH,"-Bull")}),(0,i.tZ)(o.Link,{target:"_blank",className:"".concat(oH,"-Item"),to:"/topic/".concat(n,"/index#module-").concat(t[2].id),"data-za-detail-view-id":4360,children:"全部分类内容"})]})]})})}}]),n}(p.Component),oj="SearchTopicIndexes",oP=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"withExtra",get:function(){return this.props.list.length>2}},{key:"render",value:function(){var e=this.props,t=e.list,n=e.id,o=e.attachedInfoBytes;return(0,i.BX)("div",{className:oj,children:[(0,i.tZ)("ul",{className:"".concat(oj,"-List"),children:t.slice(0,2).map(function(e){return(0,i.tZ)("li",{className:"".concat(oj,"-ListItem"),children:(0,i.tZ)(oF,{content:e,id:n})},e.title)})}),this.withExtra&&(0,i.tZ)(oX,{id:n,list:t.slice(2),attachedInfoBytes:o})]})}}]),n}(p.Component),oq=(0,o.withRouter)(oP),oU=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.item.object,t=e.meta,n=e.name,o=e.contentList,r=void 0===o?[]:o,a=e.attachedInfoBytes,c=t.id,l=t.pubInfo,s=void 0===l?{}:l,d=t.topicVote,u=t.discussionCount,h=t.avatarUrl,p=t.description,m=1===s.status||2===s.status,f=r.length>0;return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(w.r,{view:{id:3951},trackCardShow:!0,attachedInfoBytes:a,module:"SearchResultItem",children:(0,i.BX)("div",{className:"MajorHotSpot",children:[(0,i.tZ)(i1,{id:c,meta:t,name:void 0===n?"":n,pubInfo:s,avatarUrl:void 0===h?"":h,attachedInfoBytes:a,introduction:p,topicVote:d,showDiscussionLink:!f,discussionCount:u}),D.Z.isMobileEntry&&d&&!m&&(0,i.tZ)(n3,{id:c,topicVote:d,className:"MajorHotSpotReview-mobile"}),f&&(0,i.tZ)(oq,{hotList:r,list:r,id:c,attachedInfoBytes:a})]})})})})}}]),n}(p.Component),oD=n.p+"assets/HotChoice.c536283f.png",oG=n.p+"assets/icons-hot-spot.bbafe375.png",oO=n.p+"assets/mobile_icons-hot-spot.955bb35b.png",oK="MinorHotSpot",oW=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"renderContent",function(e,t){switch(e.type){case"answer":return(0,i.tZ)(nT,{index:t,answer:{type:"answer",object:e,cardType:"minorHotSpot"},zaInfo:{cardShowId:3949}});case"article":return(0,i.tZ)(nE,{index:t,article:{type:"article",object:e,cardType:"minorHotSpot"},zaInfo:{cardShowId:3949}});case"question":return(0,i.tZ)(iW,{preset:"plain",index:t,question:{type:"question",object:e},zaInfo:{cardShowId:3949}});default:return null}}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.items,o=t.className;return(0,i.tZ)("div",{className:X()("".concat(oK,"-ContentList"),o),children:n.map(function(t,n){return t?(0,i.tZ)("div",{className:"".concat(oK,"-ContentContainer"),children:e.renderContent(t,n)},"".concat(t.type,"-").concat(t.id)):null})})}}]),n}(p.Component),oV=(0,b.connect)(function(e,t){var n=e.entities;return{items:t.contentList.map(function(e){var t=e.id,i=e.schema;return(n["".concat(i,"s")]||{})[t]})}})(oW),oY="MinorHotSpot",oQ=function(e){var t=e.description;return(0,i.BX)("div",{className:"".concat(oY,"-Description"),children:[(0,i.tZ)(eb.yQ,{className:X()("".concat(oY,"-Quote"),"".concat(oY,"-Quote--left"))}),(0,i.tZ)("span",{className:"".concat(oY,"-DescriptionText"),children:t}),(0,i.tZ)(ew.w,{className:X()("".concat(oY,"-Quote"),"".concat(oY,"-Quote--right"))})]})},o$=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(e){(0,r._)(this,n),i=t.call(this,e);var i,o=e.item.object,a=o.contentList,c=o.cardType;return i.MAX_DISPLAY_COUNT="detailed"===c?3:2,i.state={showCertainContents:(void 0===a?[]:a).length>i.MAX_DISPLAY_COUNT},i}return(0,a._)(n,[{key:"render",value:function(){var e=this,t=this.props.item.object,n=t.description,o=t.title,r=t.contentList,a=t.cardType,c=t.type,l=this.state.showCertainContents,s="detailed"===a;return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.BX)("div",{className:oY,children:[(0,i.BX)("div",{className:X()("".concat(oY,"-TitleLine"),(0,R._)({},"".concat(oY,"-TitleLine--hasPaddingBottom"),!s)),children:[c===_.Sk.minorHotSpot&&D.Z.isMobileEntry&&(0,i.tZ)("img",{src:oO,alt:""}),c===_.Sk.minorHotSpot&&!D.Z.isMobileEntry&&(0,i.tZ)("img",{src:oG,alt:""}),c!==_.Sk.minorHotSpot&&(0,i.tZ)("img",{src:oD,alt:""}),(0,i.tZ)("h1",{dangerouslySetInnerHTML:{__html:o}})]}),n&&s&&(0,i.tZ)(oQ,{description:n}),l?(0,i.tZ)(oV,{className:"".concat(oY,"-ContentList--hasPaddingBottom"),contentList:r.slice(0,this.MAX_DISPLAY_COUNT)}):(0,i.tZ)(oV,{contentList:r}),l&&(0,i.BX)("div",{className:"".concat(oY,"-ShowAll"),role:"button",tabIndex:0,onClick:function(){e.setState({showCertainContents:!1})},children:["展开更多 ".concat(r.length-this.MAX_DISPLAY_COUNT," 个内容"),(0,i.tZ)(eG.f,{size:24,center:!0})]})]})})})}}]),n}(p.Component),oJ="RelevantQuery",o0={toggler:(0,i.tZ)(eN.ZP,{preset:"plain",className:"".concat(oJ,"--OptionsMenu"),icon:e6.AZ,"aria-label":"更多"}),reversed:!0},o1=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"state",{reportModalShown:!1}),(0,R._)((0,E._)(e),"handleClick",function(e,t){j.Z.trackEvent(t.target,{id:4517,action:"OpenUrl"},{search:{raw_query:e}})}),(0,R._)((0,E._)(e),"renderQuery",function(t){var n=t.query,o=t.attachedInfoBytes;return(0,i.tZ)(w.r,{view:{id:4516},trackCardShow:!0,attachedInfoBytes:o,module:"RelatedSearchItem",extra:{search:{raw_query:n}},children:(0,i.tZ)("li",{children:(0,i.tZ)("a",{href:"/search?q=".concat(n,"&utm_content=search_relatedsearch"),"data-za-not-track-link":!0,onClick:function(t){return e.handleClick(n,t)},children:n})})},n)}),(0,R._)((0,E._)(e),"handleReportOpen",function(){e.props.authRequired(function(){return e.setState({reportModalShown:!0})},ec.q0.report)()}),(0,R._)((0,E._)(e),"handleReportHide",function(){e.setState({reportModalShown:!1})}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=t.queryList,o=void 0===n?[]:n,r=t.id;return"/search/lite"===e.location.pathname||0===o.length?null:(0,i.BX)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:[(0,i.tZ)(er.Z,{children:(0,i.BX)("div",{className:oJ,children:[(0,i.BX)(ef.Flex,{justifyContent:"space-between",children:[(0,i.tZ)("h2",{children:"相关搜索"}),(0,i.tZ)(e7.ZP,(0,s._)((0,l._)({},o0),{children:(0,i.tZ)(e7.sN,{onClick:this.handleReportOpen,children:"举报"})}))]}),(0,i.tZ)(w.r,{module:"Content",children:(0,i.tZ)("ul",{children:o.map(this.renderQuery)})})]})}),(0,i.tZ)(tc.y,{type:"search_suggested_word",shown:this.state.reportModalShown,onClose:this.handleReportHide,urlToken:r,zaEnabled:!0,List:o.map(function(e){return{data:e.query,id:e.id}})})]})}}]),n}(p.Component),o2=(0,v.compose)(o.withRouter,t_.Z)(o1),o3=(0,w.a)(function(e){var t=e.item,n=e.zaInfo,i=(void 0===n?{}:n).cardShowId,o=t.object,r=o.attachedInfoBytes,a=o.id,c=o.type;return{view:{id:void 0===i?3950:i},module:"roundtable"===c?"RoundtableItem":"Content",attachedInfoBytes:r,index:e.index.toString(),content:{type:"roundtable"===c?"Roundtable":"Special",token:a.toString()},trackCardShow:!0}})(function(e){var t=e.item.object,n=t.avatarUrl,o=t.title,r=t.description,a=t.visitCount,c=t.followerCount,l=t.id,s=t.type,d={roundtable:"圆桌",special:"专题"},u=(0,e8.n)().Mobile,h="/".concat(s,"/").concat(l),p=[a>0&&(0,et.Zh)(a)+"浏览",c>0&&(0,et.Zh)(c)+"关注"].filter(Boolean).join(" \xb7 ");return(0,i.tZ)(k.ZP,{children:(0,i.tZ)(er.Z,{children:(0,i.BX)("div",{className:"SpecialItem-wrap",children:[(0,i.tZ)("a",{className:"SpecialItem-imgWrap",href:h,rel:"noreferrer",target:"_blank","data-za-detail-view-id":3942,children:(0,i.tZ)("img",{className:"SpecialItem-img",src:n,alt:""})}),(0,i.BX)("div",{className:"SpecialItem-content",children:[(0,i.BX)("div",{className:"SpecialItem-titleWrap",children:[(0,i.tZ)("a",{href:h,rel:"noreferrer",target:"_blank",className:"SpecialItem-title",dangerouslySetInnerHTML:{__html:o},"data-za-detail-view-id":3942}),(0,i.tZ)("div",{className:"SpecialItem-titleLabel",children:d[s]})]}),(0,i.tZ)("div",{className:"SpecialItem-desc",dangerouslySetInnerHTML:{__html:r}}),(0,i.tZ)("div",{className:"SpecialItem-count",children:p})]}),(0,i.tZ)("a",{href:h,rel:"noreferrer",target:"_blank","data-za-detail-view-id":3942,className:X()("SpecialItem-btn",{"SpecialItem-btnMobile":u}),children:"进入".concat(d[s])})]})})})}),o5=n.p+"assets/time.89a657e7.png",o4="TimeBox",o8=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){var e;return(0,r._)(this,n),e=t.apply(this,arguments),(0,R._)((0,E._)(e),"openRecent",function(t){var n=e.props.router,i=n.push,o=n.location.search;j.Z.trackEvent(t.target,{id:4551,action:"OpenUrl"}),i("/search".concat(o,"&range=1w"))}),(0,R._)((0,E._)(e),"renderMainContent",function(e){switch(e.type){case"answer":return(0,i.tZ)(nT,{index:0,answer:{type:"answer",object:e},zaInfo:{cardShowId:4541}});case"article":return(0,i.tZ)(nE,{index:0,article:{type:"article",object:e},zaInfo:{cardShowId:4541}});case"question":return(0,i.tZ)(iW,{preset:"plain",index:0,question:{type:"question",object:e},zaInfo:{cardShowId:4541}});default:return null}}),(0,R._)((0,E._)(e),"renderTitle",function(e){var t=e.type,n=e.title,i=e.question;return"answer"===t?i&&i.name||"":n||""}),(0,R._)((0,E._)(e),"renderContentLink",function(e){var t=e.id,n=e.type,i=e.question;switch(n){case"article":return"//zhuanlan.zhihu.com/p/".concat(t);case"question":return"/".concat(n,"/").concat(t);case"answer":return i&&i.id?"/question/".concat(i.id,"/answer/").concat(t):"";default:return""}}),(0,R._)((0,E._)(e),"generateMeta",function(e,t){var n=(0,et.Zh)(e);return n&&"0"!==n?"".concat(n).concat(t):""}),(0,R._)((0,E._)(e),"renderMeta",function(t){var n=t.type,i=t.answerCount,o=t.voteupCount,r=t.updatedTime,a="question"===n?e.generateMeta(i,"个回答"):e.generateMeta(o,"赞同");return"".concat(a).concat(a?" \xb7 ":"").concat((0,L.S9)(r))}),(0,R._)((0,E._)(e),"renderPlainContent",function(t){var n=t.id,r=t.attachedInfoBytes;return(0,i.tZ)(w.r,{view:{id:4541},trackCardShow:!0,attachedInfoBytes:r,module:"SearchResultItem",children:(0,i.BX)("div",{className:"".concat(o4,"-PlainContent"),children:[(0,i.tZ)("p",{className:"".concat(o4,"-ContentTitle"),children:(0,i.tZ)(o.Link,{target:"_blank",to:e.renderContentLink(t),"data-za-detail-view-id":3942,children:(0,i.tZ)("span",{dangerouslySetInnerHTML:{__html:e.renderTitle(t)}})})}),(0,i.tZ)("span",{className:"".concat(o4,"-ContentMeta"),children:e.renderMeta(t)})]})},n)}),e}return(0,a._)(n,[{key:"render",value:function(){var e=this,t=this.props.items,n=void 0===t?[]:t;return 0===n.length?null:(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.BX)("div",{className:o4,children:[(0,i.BX)("div",{className:"".concat(o4,"-TimeTitle"),children:[(0,i.tZ)("img",{src:o5,className:"".concat(o4,"-TimeTitleIcon"),alt:""}),(0,i.tZ)("h2",{children:"最新讨论"})]}),(0,i.tZ)("div",{className:"".concat(o4,"-Content"),children:n.map(function(t,n){return t?0===n?(0,i.tZ)("div",{className:"".concat(o4,"-MainContent"),children:e.renderMainContent(t)},t.id):e.renderPlainContent(t):null})}),(0,i.tZ)("div",{className:"".concat(o4,"-Footer"),children:(0,i.BX)("span",{role:"button",tabIndex:0,onClick:this.openRecent,children:["查看最近一周全部结果 ",(0,i.tZ)(J.N,{text:!0,center:!0})]})})]})})})}}]),n}(p.Component),o6=(0,v.compose)(o.withRouter,(0,b.connect)(function(e,t){var n=e.entities,i=t.item.object,o=(void 0===i?{}:i).contentList;return{items:(void 0===o?[]:o).map(function(e){var t=e.id,i=e.schema;return(n["".concat(i,"s")]||{})[t]})}}))(o8),o9=function(e){var t=e.item,n=e.index,o=t.object.attachedInfoBytes;return(0,i.tZ)(nT,{answer:(0,s._)((0,l._)({},t),{cardType:"videoanswers"}),index:n,zaInfo:{cardShowId:3949},attachedInfoBytes:o})},o7="WikiBoxHotList",re=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.item,t=e.id,n=e.title,r=e.type,a=e.answerCount,c=e.voteupCount,l=e.attachedInfoBytes,s=(0,et.Zh)("question"===r?a:c);return(0,i.tZ)(w.r,{view:{id:3951},trackCardShow:!0,attachedInfoBytes:l,module:"ContentList",children:(0,i.BX)("li",{className:"".concat(o7,"-Item"),children:[(0,i.tZ)(o.Link,{target:"_blank",to:"article"===r?"//zhuanlan.zhihu.com/p/".concat(t):"/".concat(r,"/").concat(t),dangerouslySetInnerHTML:{__html:n},"data-za-detail-view-id":3942}),s&&(0,i.tZ)("span",{className:"".concat(o7,"-ItemMeta"),children:"".concat(s).concat(_.KW[e.type])})]})},t)}}]),n}(p.Component),rt="WikiBoxHotList",rn=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.list;return(0,i.BX)("div",{className:rt,children:[(0,i.BX)("h2",{className:"".concat(rt,"-Title"),children:[(0,i.tZ)(n9.ZP,{className:"".concat(rt,"-Icon"),size:22,center:!0,fill:"#FA2925"}),"正在热议"]}),(0,i.BX)("div",{className:"".concat(rt,"-Container"),children:[(0,i.tZ)("div",{className:"".concat(rt,"-Line")}),(0,i.tZ)("ul",{className:"".concat(rt,"-Lists"),children:e.slice(0,3).map(function(e){return(0,i.tZ)(re,{item:e},e.id)})})]})]})}}]),n}(p.Component),ri=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.hotList,n=e.essenceList,o=e.id,r=e.attachedInfoBytes;return t.length?(0,i.tZ)(rn,{list:t,id:o}):(0,i.tZ)(oq,{list:n,id:o,attachedInfoBytes:r})}}]),n}(p.Component),ro=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.item.object,t=e.id,n=e.meta,o=e.name,r=e.avatarUrl,a=e.introduction,c=e.topicVote,l=e.pubInfo,s=void 0===l?{}:l,d=e.discussionCount,u=e.contentHotList,h=void 0===u?[]:u,p=e.contentEssenceList,m=void 0===p?[]:p,f=e.extraContentEssenceList,v=e.attachedInfoBytes,g=1===s.status||2===s.status,Z=h.length>0||m.length>0;return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(er.Z,{children:(0,i.tZ)(w.r,{view:{id:3951},trackCardShow:!0,attachedInfoBytes:v,module:"SearchResultItem",children:(0,i.BX)("div",{className:"WikiBox",children:[(0,i.tZ)(i1,{id:t,meta:n,name:void 0===o?"":o,pubInfo:s,avatarUrl:void 0===r?"":r,attachedInfoBytes:v,introduction:a,topicVote:c,showDiscussionLink:!Z,discussionCount:d}),D.Z.isMobileEntry&&c&&!g&&(0,i.tZ)(n3,{id:t,topicVote:c,className:"WikiBoxReview-mobile"}),Z&&(0,i.tZ)(ri,{hotList:h,essenceList:m,extraContentEssenceList:void 0===f?[]:f,id:t,attachedInfoBytes:v})]})})})})}}]),n}(p.Component),rr=function(e){var t=e.item,n=e.keyword,o=(0,e8.n)().Mobile,r=t.object,a=r.videos,c=r.attachedInfoBytes,l=r.source,s=r.videoAnswers,d="video_answer"===l,u=d?s:a;if(!u||(null==u?void 0:u.length)<=0)return null;var h=o?u:null==u?void 0:u.slice(0,3),p={cardShowId:3950,clickId:3942};return(0,i.tZ)(k.ZP,{className:"ZvideoBoxItem",children:(0,i.BX)(er.Z,{children:[(0,i.tZ)(w.r,{module:"Content",attachedInfoBytes:c,children:(0,i.BX)("a",{className:"ZvideoBoxItem-title",href:"/search?q=".concat(n,"&type=zvideo"),rel:"noreferrer",target:"_blank","data-za-detail-view-id":p.clickId,children:[(0,i.tZ)("div",{dangerouslySetInnerHTML:{__html:"<em>".concat(n,"</em> \xb7 相关视频")}}),(0,i.tZ)("div",{className:"ZvideoBoxItem-titleLabel",children:"视频"})]})}),(0,i.tZ)("div",{className:X()("ZvideoBoxItem-content",{"ZvideoBoxItem-contentMobile":o}),children:null==h?void 0:h.map(function(e,t){var n=e.coverUrl,r=e.title,a=e.voteupCount,c=e.playCount,l=e.zvideoId,s=e.duration,u=e.attachedInfoBytes,h=e.question,m=(void 0===h?{}:h).name,f=e.id,v=[c>0&&(0,et.Zh)(c)+"播放",a>0&&(0,et.Zh)(a)+"赞同"].filter(Boolean).join(" \xb7 ");return(0,i.tZ)(w.r,{module:"Content",attachedInfoBytes:u,trackCardShow:!0,view:{id:3950},content:{type:d?"Answer":"Zvideo",token:d?String(f):String(l)},children:(0,i.BX)("a",{className:"ZvideoBoxItem-contentItem",href:d?"/answer/".concat(f):"/zvideo/".concat(l),rel:"noreferrer",target:"_blank","data-za-detail-view-id":p.clickId,children:[(0,i.BX)("div",{className:X()("ZvideoBoxItem-coverWrap",{"ZvideoBoxItem-coverWrapMobile":o}),children:[(0,i.tZ)("img",{className:"ZvideoBoxItem-cover",src:n,alt:""}),(0,i.tZ)(te.o,{className:X()("ZvideoBoxItem-player",{"ZvideoBoxItem-playerMobile":o})}),(0,i.tZ)("div",{className:X()("ZvideoBoxItem-mask",{"ZvideoBoxItem-maskMobile":o})}),(0,i.tZ)("div",{className:"ZvideoBoxItem-duration",children:(0,ty.LU)(s)})]}),(0,i.tZ)("div",{className:"ZvideoBoxItem-contentTitle",dangerouslySetInnerHTML:{__html:d?m:r}}),(0,i.tZ)("div",{className:"ZvideoBoxItem-contentCount",children:v})]})},t)})})]})})},ra=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"renderItem",value:function(){var e=this.props,t=e.generalItem,n=e.index,o=e.keyword,r=e.isMobile,a=t.object,c=(void 0===a?{}:a).id;if("gaokao"===t.type)return r?(0,i.tZ)(oN,{data:t.object,index:n}):(0,i.tZ)(ij,{item:t,index:n});if("film_box"===t.type)return(0,i.tZ)(n8,{item:t.object});if("scholar_result"===t.type)return(0,i.tZ)(P.eV,{content:{type:"Scholar",token:String(c)},children:(0,i.tZ)(eY,{item:t,index:n,toScholar:!0,query:o})});if("hot_timing"===t.type)return(0,i.tZ)(i3,{item:t,index:n});if("baike_box"===t.type)return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(nH,{item:t,keyword:o,index:n})});if("video_box"===t.type)return(0,i.tZ)(rr,{item:t,keyword:o,index:n});if("zvideo"===t.type)return(0,i.tZ)(tT,{item:t,index:n});if("anniversary_activity"===t.type)return r?(0,i.tZ)(ou,{data:t.object,index:n}):(0,i.tZ)(t2,{item:t});if("relevant_query"===t.type)return(0,i.tZ)(o2,{item:t});if("time_box"===t.type)return(0,i.tZ)(o6,{item:t});if("koc_box"===t.type)return(0,i.tZ)(i4,{item:t});if("ncee_2020_activity"===t.type)return(0,i.tZ)(oL,{item:t,zaExtra:{search:{input_query:o,raw_query:o}}});var l=t.object.type;if((0,$.gT)(t))return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(tN.gV,{extra:{keyword:o,ua:{}},result:t})});if((0,$.PU)(t))return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(V.Z,{zaInfo:{input_query:o,raw_query:o},query:{type:this.props.type,content:o},result:t})});if((0,$.Xx)(t))return(0,i.tZ)(nT,{zaInfo:{expandId:6044,clickId:6045,cardShowId:5914},index:n,answer:t});if((0,$.Oq)(t))return(0,i.tZ)(k.ZP,{className:"SearchResult-Card",role:"listitem",children:(0,i.tZ)(tz.Z,{zaExtra:{search:{input_query:o,raw_query:o}},result:t})});if(!t.object)return null;switch(l){case"videoanswer":return(0,i.tZ)(o9,{item:t,index:n});case"roundtable":case"special":return(0,i.tZ)(o3,{item:t,index:n});case"question":return(0,i.tZ)(iW,{preset:"plain",index:n,question:t});case"answer":return(0,i.tZ)(nT,{index:n,answer:t});case"article":case"promotion":return(0,i.tZ)(nE,{index:n,article:t});case"topic":return(0,i.tZ)(e1,{query:o,topic:t,index:n,showMore:!0});case"people":return(0,i.tZ)(e4,{query:o,user:t,index:n,showMore:!0});case"column":return(0,i.tZ)(es,{query:o,column:t,index:n,showMore:!0});case"wiki_box":return(0,i.tZ)(ro,{item:t});case _.Sk.minorHotSpot:case _.Sk.domainMinorHot:return(0,i.tZ)(o$,{item:t});case _.Sk.majorHotSpot:return(0,i.tZ)(oU,{item:t});case"edu_course":return(0,i.tZ)(nq,{item:t});default:return null}}},{key:"render",value:function(){return this.renderItem()}}]),n}(p.Component),rc=(0,b.connect)(function(e){return{isMobile:(0,tA.Hu)(e)}})(ra),rl=function(e){var t,n=e.item,o=e.query,r=e.index,a=o.q,c=o.type;if(["km_general","publication","live","album","km_course"].includes(c)&&(0,$.PU)(n))t=(0,i.tZ)(k.ZP,{role:"listitem",className:"SearchResult-Card",children:(0,i.tZ)(V.Z,{result:n,zaInfo:{input_query:a,raw_query:a},index:r,query:{type:c,content:a},compact:!0})});else switch(c){case"general":default:t=(0,i.tZ)(rc,{type:c,keyword:a,generalItem:n,index:r},r);break;case"people":t=(0,i.tZ)(e4,{user:n,index:r});break;case"topic":t=(0,i.tZ)(e1,{topic:n,index:r});break;case"column":t=(0,i.tZ)(es,{column:n,index:r});break;case"zvideo":t=(0,i.tZ)(tT,{item:n,index:r});break;case"scholar":t=(0,i.tZ)(eY,{item:n,index:r})}return(0,i.tZ)(Y.SV,{replacement:null,children:t},r)},rs=function(e){var t=e.type,n=(0,_.hj)(void 0===t?"content":t);return(0,i.tZ)(Q.Z,{children:(0,i.tZ)(eD,{renderItem:function(t,n){return rl({item:t,query:e,index:n})},query:e})},n)},rd=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.location.query,n=e.searchCorrection,o=e.shouldShowVipCombineSubTabs;return(0,i.BX)("div",{className:"SearchMain",id:"SearchMain",children:[n&&(0,i.tZ)(I,{correction:n,query:t}),o&&(0,i.tZ)(A,{subTabList:O}),(0,i.tZ)("div",{children:rs(t)})]})}}]),n}(p.Component),ru=(0,b.connect)(function(e,t){var n=t.location.query,i=n.type,o=n.range,r=e.entities,a=(0,L.Vr)((0,_.hj)(void 0===i?"content":i)),c=r[(0,_.YF)(a,(0,L.A6)(_.wD[void 0===o?"no_limit":o])).keyNameInEntities],l=void 0===c?{}:c,s=Object.keys(l).map(function(e){return l[e]}).find(function(e){return"search_query_correction"===e.type}),d=O.map(function(e){return e.type}).includes(a);return{searchCorrection:s,finalType:a,shouldShowVipCombineSubTabs:d}})(rd),rh=n(57831),rp=n(29431),rm=(0,o.withRouter)(function(e){var t,n=e.location.query.q,r=(0,tE.F)().colors,a=r.GBK99C,c=r.GBK02A,d=r.GBK06A,u=r.GBK08B,h=r.GBL07A,m=r.GBK99A,f=(0,b.useDispatch)(),v=(0,b.useSelector)(function(e){return e.search.calendar});return((0,p.useEffect)(function(){0===Object.keys(v).length&&f((0,$.yj)(n))},[f,v,n]),v.data)?(0,i.tZ)(P.Wi,{zaType:"Card",zaBlock:"SearchCalendar",children:(0,i.BX)("div",{css:{backgroundColor:a,fontSize:"15px",marginBottom:"10px"},children:[(0,i.tZ)("div",{css:(0,l._)({padding:"13px 16px",color:c,fontWeight:500,fontSize:"16px"},(0,tW.M)({borderBottom:"1px solid #F0F2F7"})),children:v.title}),(0,i.tZ)("div",{css:{padding:"12px 12px 12px 35px"},children:null===(t=v.data)||void 0===t?void 0:t.map(function(e,t){var n=e.contents,r=e.date,a=e.isTime;return(0,i.BX)("div",{children:[(0,i.tZ)("div",{css:{color:a?"#FF7D5F":d,fontWeight:600,marginBottom:"12px",position:"relative",height:"21px",lineHeight:"21px","&::before":{content:'""',position:"absolute",left:"-22px",top:"50%",width:"12px",height:"12px",borderRadius:"50%",backgroundColor:a?"#FFE5DF":m,transform:"translateY(-50%)",zIndex:1},"&::after":{content:'""',position:"absolute",left:"-19px",top:"50%",width:"6px",height:"6px",borderRadius:"50%",backgroundColor:a?"#FF7D5F":u,transform:"translateY(-50%)",zIndex:1}},children:r}),(0,i.tZ)("div",{css:{position:"relative","&::before":{content:'""',position:"absolute",left:"-16px",top:a?"55%":v.data.length===t+1?"40%":"62%",width:"1px",height:v.data.length===t+1?"calc(100% + 12px)":"calc(100% + 54px)",backgroundColor:"#FFE5DF",transform:"translateY(-50%)"}},children:n.map(function(e,r){var c,d=e.isHot,u=e.link,p=e.text;return(0,i.tZ)(P.$U,{zaType:"Text",zaAction:"OpenUrl",zaEventType:"Click",shouldTrackShow:!0,zaBlock:"Item_SearchCalendar",zaText:p,extra:{link:{url:u}},children:(0,i.BX)(o.Link,(0,s._)((0,l._)({target:"_blank"},u&&{to:u}),{css:(0,l._)({display:"block",marginBottom:t+1!==(null===(c=v.data)||void 0===c?void 0:c.length)||a||r+1!==n.length?r+1===n.length?"24px":"10px":0,color:"#262626",cursor:u?"pointer":"default"},u&&{":hover,:active":{color:h}}),children:[p,d&&(0,i.tZ)(n9.NS,{text:!0,center:!0,size:18,css:{marginLeft:"8px"}})]}))},r)})})]},t)})})]})}):null}),rf=(0,o.withRouter)(function(e){var t,n=e.location.query.q,o=(0,b.useDispatch)(),r=((null===(t=(0,b.useSelector)(function(e){return e.search.sidebar}).modules)||void 0===t?void 0:t.find(function(e){return"banner_module"===e.moduleName}))||{}).detail,a=void 0===r?{}:r,c=a.banners,l=a.shuffling;return((0,i_.Z)(function(){o((0,$.Z6)(n))}),c)?(0,i.tZ)(ef.Box,{mb:"14px",children:(0,i.tZ)(oa,{auto:l,type:"default",list:c,renderItem:function(e,t){var n=e.link,o=e.attachedInfoBytes,r=e.url;return(0,i.tZ)(tS.pl,{shouldTrackShow:!0,zaModuleId:"search_activity_banner_image",zaModuleIndex:t,zaType:"Image",view:{elementLocation:{card:{index:t}}},extra:{attachedInfoBytes:o},target:"_blank",href:n,children:(0,i.tZ)("img",{src:r,alt:"",height:"100px",css:{width:"100%",objectFit:"cover",display:"block",borderRadius:"2px",overflow:"hidden"}})})}})}):null}),rv={utm_source:"zhihu",utm_content:"search_hot",utm_medium:"organic"},rg=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.index;return(0,i.tZ)("div",{className:"TopSearch-item",children:(0,i.BX)(o.Link,{className:"TopSearch-itemLink",target:"_blank",to:"/search?".concat((0,h.stringify)((0,l._)({q:t.query},rv))),children:[(0,i.tZ)("span",{className:"TopSearch-itemText",children:t.displayQuery}),n<3&&(0,i.tZ)(n9.ZP,{className:"TopSearch-hot",size:18,fill:"#FA2925"})]},n)})}}]),n}(p.PureComponent),rZ=(0,v.compose)(o.withRouter,(0,w.a)(function(e){return{module:"HotSearchWordItem",trackCardShow:!0,extra:{search:{search_source:"Hot",raw_query:e.item.query||""}}}}))(rg),rx=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"componentDidMount",value:function(){(0,this.props.loadTopSearch)()}},{key:"componentDidUpdate",value:function(e){var t=e.words,n=this.props,i=n.words,o=n.onHeightChange;o&&(!t&&i||i.length!==t.length)&&o()}},{key:"render",value:function(){var e=this.props,t=e.words,n=e.spread,o=e.maxCount,r=e.blue;return t&&t.length?(0,i.BX)(k.ZP,{role:"region","aria-label":"搜索发现",className:X()("TopSearch","TopSearch--new"),children:[(0,i.tZ)(k.h4,{children:"搜索发现"}),(0,i.tZ)("div",{className:X()("TopSearch-items",{"TopSearch-items--spread":n,"TopSearch-items--blue":r}),children:t.slice(0,o).map(function(e,t){return(0,i.tZ)(rZ,{item:e,index:t},t)})})]}):null}}]),n}(p.Component),ry=(0,v.compose)((0,w.a)({module:"HotSearchWordList"}),(0,b.connect)(function(e){return{words:e.search.topSearch&&e.search.topSearch.words}},{loadTopSearch:$.aF}))(rx),r_=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,a._)(n,[{key:"render",value:function(){var e=this.props.searchType;return(0,i.BX)(rp.Z,{css:{width:296},children:[(0,i.tZ)(rf,{}),(0,i.tZ)(rm,{}),(0,i.tZ)(ry,{}),(0,i.tZ)(rh.Z,{})]},e)}}]),n}(p.Component),rb=(0,eK.Z)(null)(r_),rw=function(e){(0,c._)(n,e);var t=(0,u._)(n);function n(e){var i;return(0,r._)(this,n),(i=t.call(this,e)).checkRedirect(e),i}return(0,a._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location.query,n=(void 0===t?{}:t).q,i=e.currentUser,o=(void 0===i?{}:i).id;if("string"!=typeof n){var r=Error("manual throw error: wrong location query");window.Raven&&window.Raven.captureException(r,{extra:{location:this.props.location}})}n&&(0,Z._Q)((0,Z.e)(o),{q:n})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.checkRedirect(e)}},{key:"checkRedirect",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.location.query,i=t.router,o=n.range,r=(0,d._)(n,["range"]),a=_.wD[o||"no_limit"];"string"==typeof n.q&&_.d_.some(function(e){return e===n.type})||(e=(0,s._)((0,l._)({},r),{type:"content",q:n.q||""})),a&&"no_limit"!==a&&!(_.Cf.includes(a)&&"content"===n.type)&&(e=r),e&&i.replace("/search?".concat((0,h.stringify)(e)))}},{key:"render",value:function(){var e=this.props,t=e.location.query,n=e.currentUser;return(0,i.BX)("div",{children:[(0,i.tZ)(f.ql,{title:"".concat(t.q||""," - 搜索结果")}),(0,i.tZ)(W,{isPageHeader:!1}),(0,i.BX)("div",{className:"Search-container",children:[(0,i.tZ)(g.Z,{children:(0,i.tZ)(W,{isPageHeader:!0,currentUser:n})}),(0,i.tZ)(ru,(0,l._)({},this.props)),(0,i.tZ)(rb,{searchType:t.type})]})]})}}]),n}(p.Component),rk=(0,v.compose)((0,y.g)({scene:y.k.search}),x.Z)(rw),rS=(0,i.tZ)(o.Route,{children:(0,i.tZ)(o.IndexRoute,{component:rk,name:"Search",zaPageShowId:3375})})}}]);
//# sourceMappingURL=main-search-routes.0c479752e80e81af483e.js.map